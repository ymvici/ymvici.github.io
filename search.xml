<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>12æœˆè®¡åˆ’</title>
      <link href="2020/12/06/12-yue-ji-hua/"/>
      <url>2020/12/06/12-yue-ji-hua/</url>
      
        <content type="html"><![CDATA[<h1 id="å·¥ä½œæ–¹é¢"><a href="#å·¥ä½œæ–¹é¢" class="headerlink" title="å·¥ä½œæ–¹é¢"></a>å·¥ä½œæ–¹é¢</h1><ol><li>åˆæ­¥äº†è§£reactè¯­æ³•</li><li>å®Œæˆvueé€šç”¨ç»„ä»¶ç¼–å†™</li><li>ç”¨tså†æ¬¡å®ç°vueé€šç”¨ç»„ä»¶</li><li>äº†è§£react hookè¯­æ³•</li><li>vueå®ç°ç½‘æ˜“äº‘ç½‘é¡µç‰ˆä»£ç é˜…è¯»</li></ol><h1 id="æ—¥å¸¸æ–¹é¢"><a href="#æ—¥å¸¸æ–¹é¢" class="headerlink" title="æ—¥å¸¸æ–¹é¢"></a>æ—¥å¸¸æ–¹é¢</h1><ol><li><p>æ¯å‘¨1 3 5è·³ç»³ï¼Œä¸€å‘¨å¢åŠ 100ä¸ª</p></li><li><p>ä¸€å‘¨ä¸€æœ¬ä¹¦ï¼Œå‘¨æ—¥å®Œæˆæ€ç»´å¯¼å›¾</p><p>2.1 12.7-12.13 å…¶å®ä½ å·²ç»å¾ˆå¡”ç½—äº†</p><p>2.2 12.14-12.20 å¡”ç½—è‘µèŠ±å®å…¸</p><p>2.3  12.21-12.27 æªç‚®ã€ç—…èŒä¸é’¢é“</p><p>2.4  12.28-1.3 å½±å“åŠ›</p></li><li><p>ä¸­åˆå­¦ä¹ æ—¥è¯­</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> blog </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>è¿›é˜¶</title>
      <link href="2020/10/27/jin-jie/"/>
      <url>2020/10/27/jin-jie/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>axios</title>
      <link href="2020/10/18/axios/"/>
      <url>2020/10/18/axios/</url>
      
        <content type="html"><![CDATA[<h1 id="axios"><a href="#axios" class="headerlink" title="axios"></a>axios</h1><p>axiosæ˜¯åŸºäºpromiseå¯¹ajaxçš„ä¸€ç§å°è£…</p><h2 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h2><pre><code>axios(&#123;     method: &#39;get&#39;,     url: &#39;http://elm.cangdu.org/v1/cities?type=hot&#39;,&#125;).then(res =&gt; this.hotcity = res.data) axios.get(&#39;http://elm.cangdu.org/v1/cities?type=hot&#39;)     .then(res =&gt; this.hotcity = res.data) </code></pre><h3 id="æºå¸¦å‚æ•°çš„getè¯·æ±‚"><a href="#æºå¸¦å‚æ•°çš„getè¯·æ±‚" class="headerlink" title="æºå¸¦å‚æ•°çš„getè¯·æ±‚"></a>æºå¸¦å‚æ•°çš„getè¯·æ±‚</h3><pre><code>axios(&#123;     method: &#39;get&#39;,     url: &#39;http://elm.cangdu.org/v1/cities?type=hot?id=1&#39;,&#125;).then(res =&gt; this.hotcity = res.data) </code></pre><p> æˆ–è€…</p><pre><code>axios(&#123;     method: &#39;get&#39;,     url: &#39;http://elm.cangdu.org/v1/cities?type=hot&#39;,     params: &#123;         id: &#39;1&#39;     &#125;&#125;).then(res =&gt; this.hotcity = res.data) axios.get(&#39;http://elm.cangdu.org/v1/cities?type=hot&#39;,     &#123;params:&#123;id:&#39;1&#39;&#125;&#125;     ).then(res =&gt; this.hotcity = res.data) </code></pre><h3 id="postæ–¹æ³•"><a href="#postæ–¹æ³•" class="headerlink" title="postæ–¹æ³•"></a>postæ–¹æ³•</h3><pre><code>axios(&#123;     method: &#39;post&#39;,     url: &#39;http://elm.cangdu.org/v1/cities?type=hot&#39;,     data: &#123;         id: &#39;1&#39;     &#125;&#125;).then(res =&gt; this.hotcity = res.data) </code></pre><h2 id="axiosçš„å¹¶å‘è¯·æ±‚"><a href="#axiosçš„å¹¶å‘è¯·æ±‚" class="headerlink" title="axiosçš„å¹¶å‘è¯·æ±‚"></a>axiosçš„å¹¶å‘è¯·æ±‚</h2><p>ç¬¬ä¸€ç§æ–¹æ³•ï¼Œè¿”å›æ¥çš„æ˜¯ä¸€ä¸ªæ•°ç»„</p><pre><code>axios.all([    axios.get(&#39;http://elm.cangdu.org/v1/cities?type=hot&#39;),    axios.get(&#39;http://elm.cangdu.org/v1/cities?type=city&#39;,&#123;params:&#123;id:&#39;1&#39;&#125;&#125;)    ]).then(res =&gt; this.hotcity = res.data     ).catch( err=&gt; console.log(err))</code></pre><p>ç¬¬äºŒç§æ–¹æ³•</p><pre><code>axios.all([    axios.get(&#39;http://elm.cangdu.org/v1/cities?type=hot&#39;),    axios.get(&#39;http://elm.cangdu.org/v1/cities?type=city&#39;,&#123;params:&#123;id:&#39;1&#39;&#125;&#125;)    ]).then(        axios.spread((res1,res2) =&gt; &#123;            console.log(res1)            console.log(res2)        &#125;)     ).catch( err=&gt; console.log(err))</code></pre><h2 id="axiosçš„å…¨å±€é…ç½®"><a href="#axiosçš„å…¨å±€é…ç½®" class="headerlink" title="axiosçš„å…¨å±€é…ç½®"></a>axiosçš„å…¨å±€é…ç½®</h2><pre><code>axios.defaults.baseURL = &#39;http://elm.cangdu.org/v1&#39;axios.defaults.timeout = 5000axios.get(&#39;cities?type=hot&#39;).then(res =&gt; &#123;    console.log(res)&#125;)</code></pre><h2 id="axiosçš„å®ä¾‹"><a href="#axiosçš„å®ä¾‹" class="headerlink" title="axiosçš„å®ä¾‹"></a>axiosçš„å®ä¾‹</h2><pre><code>let newAxios = axios.create(&#123;    baseURL:&#39;http://elm.cangdu.org/v1&#39;    axios.defaults.timeout = 5000&#125;);</code></pre><h2 id="axiosçš„æ‹¦æˆªå™¨"><a href="#axiosçš„æ‹¦æˆªå™¨" class="headerlink" title="axiosçš„æ‹¦æˆªå™¨"></a>axiosçš„æ‹¦æˆªå™¨</h2><p>axiosæä¾›äº†ä¸¤å¤§ç±»æ‹¦æˆªå™¨ï¼Œä¸€ç§æ˜¯è¯·æ±‚æ–¹å‘çš„æ‹¦æˆªï¼ˆæˆåŠŸè¯·æ±‚ï¼Œå¤±è´¥è¯·æ±‚ï¼‰ï¼›å¦ä¸€ç§æ˜¯å“åº”æ–¹çš„ï¼ˆæˆåŠŸè¯·æ±‚ï¼Œå¤±è´¥è¯·æ±‚ï¼‰</p><p>ä½œç”¨ï¼šç”¨äºç½‘ç»œè¯·æ±‚åœ¨å‘èµ·æ—¶æˆ–å“åº”æ—¶å¯¹æ“ä½œåšå‡ºçš„å“åº”å¤„ç†</p><blockquote><p>å‘èµ·è¯·æ±‚æ—¶å¯ä»¥æ·»åŠ ç½‘é¡µåŠ è½½åŠ¨ç”»ï¼Œä½¿ç”¨tokenè®¤è¯æ—¶æ£€æŸ¥æ˜¯å¦æºå¸¦tokenä¿¡æ¯<br>å“åº”æ—¶å¯ä»¥è¿›è¡Œå¯¹æ•°æ®è¿›è¡Œç›¸åº”çš„å¤„ç†</p></blockquote><h3 id="è¯·æ±‚æ–¹å‘"><a href="#è¯·æ±‚æ–¹å‘" class="headerlink" title="è¯·æ±‚æ–¹å‘"></a>è¯·æ±‚æ–¹å‘</h3><p>å®¢æˆ·ç«¯å‘é€è¯·æ±‚ â€“&gt; [è¯·æ±‚æ‹¦æˆªå™¨]  â€“&gt; æœåŠ¡å™¨</p><pre><code>axios.interceptors.request.use(config =&gt;&#123; // configæ˜¯å‘è¯·æ±‚æ—¶æºå¸¦çš„æ•°æ®    // æºå¸¦token    let token = localStorage.getItem(&#39;token&#39;)    token &amp;&amp; (config.headers.Authorization = token) // å¦‚æœtokenå­˜åœ¨åˆ™æ‰§è¡Œåé¢çš„è¯­å¥    return config&#125;,error =&gt; &#123;    return Promise.reject(error)&#125;)axios.get(&#39;http://elm.cangdu.org/v1/cities?type=hot&#39;,     &#123;params:&#123;id:&#39;1&#39;&#125;&#125;     ).then(res =&gt; this.hotcity = res.data) </code></pre><h3 id="å“åº”æ–¹å‘"><a href="#å“åº”æ–¹å‘" class="headerlink" title="å“åº”æ–¹å‘"></a>å“åº”æ–¹å‘</h3><pre><code>axios.interceptors.response.use(config=&gt; &#123;    console.log(&#39;è¿›å…¥å“åº”æ‹¦æˆªå™¨&#39;)    console.log(config)    return config // è¯·æ±‚å¾—åˆ°æ•°æ®reså¯¹è±¡&#125;).catch(err=&gt;&#123;    console.log(&#39;å“åº”æ–¹å‘å¤±è´¥&#39;)    console.log(err)&#125;)axios.get(&#39;http://elm.cangdu.org/v1/cities?type=hot&#39;,     &#123;params:&#123;id:&#39;1&#39;&#125;&#125;     ).then(res =&gt; this.hotcity = res.data) </code></pre><h2 id="axioså°è£…"><a href="#axioså°è£…" class="headerlink" title="axioså°è£…"></a>axioså°è£…</h2><p>åˆçº§å°è£…</p><pre><code>import axios from &#39;axios&#39;export function request(config, success, fail) &#123;    axios(&#123;        url: config    &#125;).then(res =&gt; &#123;        success(res)    &#125;).catch(err=&gt; &#123;        fail(err)    &#125;)&#125;è°ƒç”¨ import &#123;request&#125; from &#39;./network/request/request&#39;request(&#39;http://elm.cangdu.org/v1/cities?type=hot&#39;,res=&gt; &#123;    console.log(res)&#125;,err=&gt; &#123;    console.log(err)&#125;)</code></pre><p>å°è£…åˆ°å¯¹è±¡ä¸­</p><pre><code>import axios from &#39;axios&#39;export function request(config) &#123;    axios.default.baseURL = &#39;http://elm.cangdu.org/v1&#39;    axios(url: config.url).then(res =&gt; &#123;        config.success(res)    &#125;).catch(err=&gt; &#123;        config.fail(err)    &#125;)&#125;è°ƒç”¨import &#123;request&#125; from &#39;./network/request/request&#39;request(&#123;    url: &#39;cities?type=hot&#39;,    success:res =&gt; &#123;        console.log(res)    &#125;,    fail:err =&gt; &#123;        console.log(res)    &#125;&#125;)</code></pre><p>ä½¿ç”¨promise</p><pre><code>import axios from &#39;axios&#39;export function request(config) &#123;    let newAxios = axios.create (&#123;        basrURL: &#39;http://elm.cangdu.org/v1&#39;,        timeout: 5000    &#125;);    return new Promise((resolve,reject) =&gt; &#123;        newAxios(config).then(res =&gt; &#123;            resovle(res)        &#125;).catch(err =&gt; &#123;            reject(err)        &#125;)        &#125;)&#125;è°ƒç”¨import &#123;request&#125; from &#39;./network/request/request&#39;request(&#123;    url:&#39;cities?type=hot&#39;&#125;).then(res =&gt; &#123;    console.log(res);&#125;).catch(err =&gt; &#123;    console.log(err)&#125;)</code></pre><p>æœ€ç»ˆå°è£…</p><pre><code>import axios from &#39;axios&#39;export function request(config) &#123;    let newAxios = axios.create (&#123;        basrURL: &#39;http://elm.cangdu.org/v1&#39;,        timeout: 5000    &#125;);    return newAxios(config)&#125;è°ƒç”¨import &#123;request&#125; from &#39;./network/request/request&#39;request(&#123;    url: &#39;cities?type=hot&#39;&#125;).then(res =&gt;&#123;    console.log(res)&#125;)</code></pre><h1 id="qsåº“"><a href="#qsåº“" class="headerlink" title="qsåº“"></a>qsåº“</h1><h2 id="ä»€ä¹ˆæ˜¯qs"><a href="#ä»€ä¹ˆæ˜¯qs" class="headerlink" title="ä»€ä¹ˆæ˜¯qs?"></a>ä»€ä¹ˆæ˜¯qs?</h2><p>qsæ˜¯ä¸€ä¸ªæµè¡Œçš„æŸ¥è¯¢å‚æ•°åºåˆ—åŒ–å’Œè§£æåº“ã€‚å¯ä»¥å°†ä¸€ä¸ªæ™®é€šçš„objectåºåˆ—åŒ–æˆä¸€ä¸ªæŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œæˆ–è€…åè¿‡æ¥å°†ä¸€ä¸ªæŸ¥è¯¢å­—ç¬¦ä¸²è§£ææˆä¸€ä¸ªobject,å¸®åŠ©æˆ‘ä»¬æŸ¥è¯¢å­—ç¬¦ä¸²è§£æå’Œåºåˆ—åŒ–å­—ç¬¦ä¸²ã€‚</p><h2 id="vueä¸­qså®‰è£…ä½¿ç”¨"><a href="#vueä¸­qså®‰è£…ä½¿ç”¨" class="headerlink" title="vueä¸­qså®‰è£…ä½¿ç”¨"></a>vueä¸­qså®‰è£…ä½¿ç”¨</h2><ul><li>æ­¥éª¤ï¼š<ul><li>æ‰“å¼€æ§åˆ¶å°è¾“å…¥ï¼š<code>npm install qs</code></li><li>åœ¨main.jsä¸­å¯¼å…¥qsæ’ä»¶ï¼š<code>import qs from &#39;qs&#39;</code></li><li>åœ¨main.jsä¸­é…ç½®å…¨å±€å±æ€§ï¼š<code>Vue.prototype.$qs = qs</code></li></ul></li></ul><h2 id="æ–¹æ³•ï¼šqs-parse-å’Œqs-stringify"><a href="#æ–¹æ³•ï¼šqs-parse-å’Œqs-stringify" class="headerlink" title="æ–¹æ³•ï¼šqs.parse()å’Œqs.stringify()"></a>æ–¹æ³•ï¼š<strong>qs.parse()å’Œqs.stringify()</strong></h2><ul><li><p><strong>qs.parse()æ˜¯å°†URLè§£ææˆå¯¹è±¡çš„å½¢å¼</strong></p><pre><code>const str = &quot;username=&#39;admin&#39;&amp;password=&#39;admin&#39;&quot; console.log(qs.parse(str)) // Object &#123; username: &quot;admin&quot;, password: &quot;admin&quot; &#125;</code></pre></li><li><p><strong>qs.stringify()æ˜¯å°†å¯¹è±¡ åºåˆ—åŒ–æˆURLçš„å½¢å¼ï¼Œä»¥&amp;è¿›è¡Œæ‹¼æ¥</strong></p><pre><code>qs.stringify(&#123;username:&#39;admin&#39;, password:&#39;admin&#39;&#125;)//username=admin&amp;password=admin</code></pre></li></ul><p><a href="https://blog.csdn.net/sansan_7957/article/details/82227040">https://blog.csdn.net/sansan_7957/article/details/82227040</a></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexoæ“ä½œ</title>
      <link href="2020/10/18/hexo-cao-zuo/"/>
      <url>2020/10/18/hexo-cao-zuo/</url>
      
        <content type="html"><![CDATA[<p>åˆ›å»ºæ–°çš„mdæ–‡æ¡£</p><blockquote><p>hexo new æ–‡æ¡£å åœ¨source/_postsç›®å½•ä¸‹</p></blockquote><p>hexo clean</p><p>hexo s</p><p>hexo clean &amp;&amp; hexo g</p><p>hexo d</p>]]></content>
      
      
      <categories>
          
          <category> blog </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>æ­£åˆ™è¡¨è¾¾å¼</title>
      <link href="2020/09/29/zheng-ze-biao-da-shi/"/>
      <url>2020/09/29/zheng-ze-biao-da-shi/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ­£åˆ™è¡¨è¾¾å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS_spring_API</title>
      <link href="2020/09/28/js-spring-api/"/>
      <url>2020/09/28/js-spring-api/</url>
      
        <content type="html"><![CDATA[<h1 id="JSä¸­å­—ç¬¦ä¸²çš„API"><a href="#JSä¸­å­—ç¬¦ä¸²çš„API" class="headerlink" title="JSä¸­å­—ç¬¦ä¸²çš„API"></a>JSä¸­å­—ç¬¦ä¸²çš„API</h1><h2 id="raw-ES6"><a href="#raw-ES6" class="headerlink" title="raw(ES6)"></a>raw(ES6)</h2><p>raw() æ–¹æ³•åŸºäº<strong>ECMAScript 2015ï¼ˆES6ï¼‰è§„èŒƒ</strong>ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²çš„æ ‡ç­¾å‡½æ•°ï¼Œä½œç”¨ç±»ä¼¼äºPythonçš„rå’ŒC#çš„@å­—ç¬¦ä¸²å‰ç¼€ï¼Œéƒ½æ˜¯ç”¨æ¥è·å–ä¸€ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²çš„åŸå§‹å­—é¢é‡ã€‚</p><p>è¯­æ³•ï¼š *String.raw(callSite, â€¦substitutions)*ï¼ŒcallSiteå³æ¨¡æ¿å­—ç¬¦ä¸²çš„ã€è°ƒç”¨ç‚¹å¯¹è±¡ã€ï¼Œâ€¦substitutionsè¡¨ç¤ºä»»æ„ä¸ªå†…æ’è¡¨è¾¾å¼å¯¹åº”çš„å€¼ï¼Œè¿™é‡Œç†è§£èµ·æ¥ç›¸å½“æ‹—å£ï¼Œä¸‹é¢æˆ‘å°†é€šä¿—çš„è®²è§£å®ƒã€‚</p><p>å¦‚ä¸‹æ˜¯pythonçš„å­—ç¬¦ä¸²å‰ç¼€rï¼š</p><pre><code># é˜²æ­¢ç‰¹æ®Šå­—ç¬¦ä¸²è¢«è½¬ä¹‰print r&#39;a\nb\tc&#39; # æ‰“å°å‡ºæ¥ä¾ç„¶æ˜¯ &quot;a\nb\tc&quot;# pythonä¸­å¸¸ç”¨äºæ­£åˆ™è¡¨è¾¾å¼regExp = r&#39;(?&lt;=123)[a-z]+&#39;1234</code></pre><p>å¦‚ä¸‹æ˜¯String.rawä½œä¸ºå‰ç¼€çš„ç”¨æ³•ï¼š</p><pre><code>// é˜²æ­¢ç‰¹æ®Šå­—ç¬¦ä¸²è¢«è½¬ä¹‰String.raw`a\nb\tc`; // è¾“å‡ºä¸º &quot;a\nb\tc&quot;// æ”¯æŒå†…æ’è¡¨è¾¾å¼let name = &quot;louis&quot;;String.raw`Hello \n $&#123;name&#125;`;  // &quot;Hello \n louis&quot;// å†…æ’è¡¨è¾¾å¼è¿˜å¯ä»¥è¿ç®—String.raw`1+2=$&#123;1+2&#125;,2*3=$&#123;2*3&#125;`; // &quot;1+2=3,2*3=6&quot;</code></pre><p>String.rawä½œä¸ºå‡½æ•°æ¥è°ƒç”¨çš„åœºæ™¯ä¸å¤ªå¤šï¼Œå¦‚ä¸‹æ˜¯ç”¨æ³•ï¼š</p><pre><code>// å¯¹è±¡çš„rawå±æ€§å€¼ä¸ºå­—ç¬¦ä¸²æ—¶ï¼Œä»ç¬¬äºŒä¸ªå‚æ•°èµ·ï¼Œå®ƒä»¬åˆ†åˆ«è¢«æ’å…¥åˆ°ä¸‹æ ‡ä¸º0ï¼Œ1ï¼Œ2ï¼Œ...nçš„å…ƒç´ åé¢String.raw(&#123;raw: &#39;abcd&#39;&#125;, 1, 2, 3); // &quot;a1b2c3d&quot;// å¯¹è±¡çš„rawå±æ€§å€¼ä¸ºæ•°ç»„æ—¶ï¼Œä»ç¬¬äºŒä¸ªå‚æ•°èµ·ï¼Œå®ƒä»¬åˆ†åˆ«è¢«æ’å…¥åˆ°æ•°ç»„ä¸‹æ ‡ä¸º0ï¼Œ1ï¼Œ2ï¼Œ...nçš„å…ƒç´ åé¢String.raw(&#123;raw: [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;]&#125;, 1, 2, 3); // &quot;a1b2c3d&quot;</code></pre><p>é‚£ä¹ˆæ€ä¹ˆè§£é‡ŠString.rawå‡½æ•°æŒ‰ç…§ä¸‹æ ‡æŒ¨ä¸ªå»æ’å…¥çš„ç‰¹æ€§å‘¢ï¼ŸMDNä¸Šæœ‰æ®µæè¿°å¦‚ä¸‹ï¼š</p><blockquote><p>In most cases, <code>String.raw()</code> is used with template strings. The first syntax mentioned above is only rarely used, because <strong>the JavaScript engine will call this with proper arguments for you</strong>, just like with other tag functions.</p></blockquote><p>è¿™æ„å‘³ç€ï¼ŒString.rawä½œä¸ºå‡½æ•°è°ƒç”¨æ—¶ï¼ŒåŸºæœ¬ä¸ES6çš„tagæ ‡ç­¾æ¨¡æ¿ä¸€æ ·ã€‚å¦‚ä¸‹ï¼š</p><pre><code>// å¦‚ä¸‹æ˜¯tagå‡½æ•°çš„å®ç°function tag()&#123;  const array = arguments[0];  return array.reduce((p, v, i) =&gt; p + (arguments[i] || &#39;&#39;) + v);&#125;// å›é¡¾ä¸€ä¸ªsimpleçš„tagæ ‡ç­¾æ¨¡æ¿tag`Hello $&#123; 2 + 3 &#125; world $&#123; 2 * 3 &#125;`; // &quot;Hello 5 world 6&quot;// å…¶å®å°±æƒ³å½“äºå¦‚ä¸‹è°ƒç”¨tag([&#39;Hello &#39;, &#39; world &#39;, &#39;&#39;], 5, 6); // &quot;Hello 5 world 6&quot;</code></pre><p>å› æ­¤String.rawä½œä¸ºå‡½æ•°è°ƒç”¨æ—¶ï¼Œä¸è®ºå¯¹è±¡çš„rawå±æ€§å€¼æ˜¯å­—ç¬¦ä¸²è¿˜æ˜¯æ•°ç»„ï¼Œæ’æ§½éƒ½æ˜¯å¤©ç”Ÿçš„ï¼Œä¸‹æ ‡ä¸º0ï¼Œ1ï¼Œ2ï¼Œâ€¦nçš„å…ƒç´ åé¢éƒ½æ˜¯æ’æ§½ï¼ˆä¸åŒ…æ‹¬æœ€åä¸€ä¸ªå…ƒç´ ï¼‰ã€‚å®é™…ä¸Šï¼Œå®ƒç›¸å½“äºæ˜¯è¿™æ ·çš„tagå‡½æ•°ï¼š</p><pre><code>function tag()&#123;  const array = arguments[0].raw;  if(array === undefined || array === null)&#123; // è¿™é‡Œå¯ç®€å†™æˆ array == undefined    throw new TypeError(&#39;Cannot convert undefined or null to object&#39;);  &#125;  return array.reduce((p, v, i) =&gt; p + (arguments[i] || &#39;&#39;) + v);&#125;</code></pre><p>å®é™…ä¸Šï¼ŒString.rawä½œä¸ºå‡½æ•°è°ƒç”¨æ—¶ï¼Œè‹¥ç¬¬ä¸€ä¸ªå‚æ•°ä¸æ˜¯ä¸€ä¸ªç¬¦åˆæ ‡å‡†æ ¼å¼çš„å¯¹è±¡ï¼Œæ‰§è¡Œå°†æŠ›å‡ºTypeErroré”™è¯¯ã€‚</p><pre><code>String.raw(&#123;123: &#39;abcd&#39;&#125;, 1, 2, 3); // TypeError: Cannot convert undefined or null to object1</code></pre><p>ç›®å‰åªæœ‰Chrome v41+å’ŒFirefox v34+ç‰ˆæœ¬æµè§ˆå™¨å®ç°äº†è¯¥æ–¹æ³•ã€‚</p><p>å­—ç¬¦ä¸²åŸå‹æ–¹æ³•åˆ†ä¸ºä¸¤ç§ï¼Œä¸€ç§æ˜¯htmlæ— å…³çš„æ–¹æ³•ï¼Œä¸€ç§æ˜¯htmlæœ‰å…³çš„æ–¹æ³•ã€‚æˆ‘ä»¬å…ˆçœ‹ç¬¬ä¸€ç§ã€‚<strong>ä½†æ˜¯æ— è®ºå­—ç¬¦ä¸²æ–¹æ³•å¦‚ä½•å‰å®³ï¼Œéƒ½ä¸è‡³äºå¼ºå¤§åˆ°å¯ä»¥æ”¹å˜åŸå­—ç¬¦ä¸²ã€‚</strong></p><h2 id="HTMLæ— å…³çš„æ–¹æ³•"><a href="#HTMLæ— å…³çš„æ–¹æ³•" class="headerlink" title="HTMLæ— å…³çš„æ–¹æ³•"></a><strong>HTMLæ— å…³çš„æ–¹æ³•</strong></h2><h3 id="charAt"><a href="#charAt" class="headerlink" title="charAt"></a><strong>charAt</strong></h3><p>charAt() æ–¹æ³•è¿”å›å­—ç¬¦ä¸²ä¸­æŒ‡å®šä½ç½®çš„å­—ç¬¦ã€‚</p><p>è¯­æ³•ï¼š<em>str.charAt(index)</em></p><p>index ä¸ºå­—ç¬¦ä¸²ç´¢å¼•ï¼ˆå–å€¼ä»0è‡³length-1ï¼‰ï¼Œå¦‚æœè¶…å‡ºè¯¥èŒƒå›´ï¼Œåˆ™è¿”å›ç©ºä¸²ã€‚</p><pre><code>console.log(&quot;Hello, World&quot;.charAt(8)); // o, è¿”å›ä¸‹æ ‡ä¸º8çš„å­—ç¬¦ä¸²o1</code></pre><h3 id="charCodeAt"><a href="#charCodeAt" class="headerlink" title="charCodeAt"></a><strong>charCodeAt</strong></h3><p>charCodeAt() è¿”å›æŒ‡å®šç´¢å¼•å¤„å­—ç¬¦çš„ Unicode æ•°å€¼ã€‚</p><p>è¯­æ³•ï¼š<em>str.charCodeAt(index)</em></p><p>index ä¸ºä¸€ä¸ªä»0è‡³length-1çš„æ•´æ•°ã€‚å¦‚æœä¸æ˜¯ä¸€ä¸ªæ•°å€¼ï¼Œåˆ™é»˜è®¤ä¸º 0ï¼Œå¦‚æœå°äº0æˆ–è€…å¤§äºå­—ç¬¦ä¸²é•¿åº¦ï¼Œåˆ™è¿”å› NaNã€‚</p><p>Unicode ç¼–ç å•å…ƒï¼ˆcode pointsï¼‰çš„èŒƒå›´ä» 0 åˆ° 1,114,111ã€‚å¼€å¤´çš„ 128 ä¸ª Unicode ç¼–ç å•å…ƒå’Œ ASCII å­—ç¬¦ç¼–ç ä¸€æ ·.</p><p>charCodeAt() æ€»æ˜¯è¿”å›ä¸€ä¸ªå°äº 65,536 çš„å€¼ã€‚å› ä¸ºé«˜ä½ç¼–ç å•å…ƒéœ€è¦ç”±ä¸€å¯¹å­—ç¬¦æ¥è¡¨ç¤ºï¼Œä¸ºäº†æŸ¥çœ‹å…¶ç¼–ç çš„å®Œæˆå­—ç¬¦ï¼Œéœ€è¦æŸ¥çœ‹ charCodeAt(i) ä»¥åŠ charCodeAt(i+1) çš„å€¼ã€‚å¦‚éœ€æ›´å¤šäº†è§£è¯·å‚è€ƒ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/prototype">fixedCharCodeAt</a>ã€‚</p><pre><code>console.log(&quot;Hello, World&quot;.charCodeAt(8)); // 111console.log(&quot;å‰ç«¯å·¥ç¨‹å¸ˆ&quot;.charCodeAt(2)); // 24037, å¯è§ä¹Ÿå¯ä»¥æŸ¥çœ‹ä¸­æ–‡Unicodeç¼–ç 12</code></pre><h6 id="concat"><a href="#concat" class="headerlink" title="concat"></a><strong>concat</strong></h6><p>concat() æ–¹æ³•å°†ä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ä¸²æ‹¼æ¥åœ¨ä¸€èµ·ï¼Œç»„æˆæ–°çš„å­—ç¬¦ä¸²å¹¶è¿”å›ã€‚</p><p>è¯­æ³•ï¼š<em>str.concat(string2, string3, â€¦)</em></p><pre><code>console.log(&quot;æ—©&quot;.concat(&quot;ä¸Š&quot;,&quot;å¥½&quot;)); // æ—©ä¸Šå¥½1</code></pre><p>ä½†æ˜¯ concat çš„æ€§èƒ½è¡¨ç°ä¸ä½³ï¼Œå¼ºçƒˆæ¨èä½¿ç”¨èµ‹å€¼æ“ä½œç¬¦ï¼ˆ+æˆ–+=ï¼‰ä»£æ›¿ concatã€‚â€+â€ æ“ä½œç¬¦å¤§æ¦‚å¿«äº† concat å‡ åå€ã€‚ï¼ˆæ•°æ®å‚è€ƒ <a href="http://jsperf.com/concat-vs-plus-vs-join">æ€§èƒ½æµ‹è¯•</a>ï¼‰ã€‚</p><h6 id="indexOf"><a href="#indexOf" class="headerlink" title="indexOf"></a><strong>indexOf</strong></h6><h6 id="lastIndexOf"><a href="#lastIndexOf" class="headerlink" title="lastIndexOf"></a><strong>lastIndexOf</strong></h6><p>indexOf() æ–¹æ³•ç”¨äºæŸ¥æ‰¾å­å­—ç¬¦ä¸²åœ¨å­—ç¬¦ä¸²ä¸­é¦–æ¬¡å‡ºç°çš„ä½ç½®ï¼Œæ²¡æœ‰åˆ™è¿”å› -1ã€‚è¯¥æ–¹æ³•ä¸¥æ ¼åŒºåˆ†å¤§å°å†™ï¼Œå¹¶ä¸”ä»å·¦å¾€å³æŸ¥æ‰¾ã€‚è€Œ lastIndexOf åˆ™ä»å³å¾€å·¦æŸ¥æ‰¾ï¼Œå…¶å®ƒä¸å‰è€…ä¸€è‡´ã€‚</p><p>è¯­æ³•ï¼š<em>str.indexOf(searchValue [, fromIndex=0])<em>ï¼Œ</em>str.lastIndexOf(searchValue [, fromIndex=0])</em></p><p>searchValue è¡¨ç¤ºè¢«æŸ¥æ‰¾çš„å­—ç¬¦ä¸²ï¼ŒfromIndex è¡¨ç¤ºå¼€å§‹æŸ¥æ‰¾çš„ä½ç½®ï¼Œé»˜è®¤ä¸º0ï¼Œå¦‚æœå°äº0ï¼Œåˆ™æŸ¥æ‰¾æ•´ä¸ªå­—ç¬¦ä¸²ï¼Œè‹¥è¶…è¿‡å­—ç¬¦ä¸²é•¿åº¦ï¼Œåˆ™è¯¥æ–¹æ³•è¿”å›-1ï¼Œé™¤éè¢«æŸ¥æ‰¾çš„æ˜¯ç©ºå­—ç¬¦ä¸²ï¼Œæ­¤æ—¶è¿”å›å­—ç¬¦ä¸²é•¿åº¦ã€‚</p><pre><code>console.log(&quot;&quot;.indexOf(&quot;&quot;,100)); // 0console.log(&quot;ITæ”¹å˜ä¸–ç•Œ&quot;.indexOf(&quot;ä¸–ç•Œ&quot;)); // 4console.log(&quot;ITæ”¹å˜ä¸–ç•Œ&quot;.lastIndexOf(&quot;ä¸–ç•Œ&quot;)); // 4123</code></pre><h6 id="localeCompare"><a href="#localeCompare" class="headerlink" title="localeCompare"></a><strong>localeCompare</strong></h6><p>localeCompare() æ–¹æ³•ç”¨æ¥æ¯”è¾ƒå­—ç¬¦ä¸²ï¼Œå¦‚æœæŒ‡å®šå­—ç¬¦ä¸²åœ¨åŸå­—ç¬¦ä¸²çš„å‰é¢åˆ™è¿”å›è´Ÿæ•°ï¼Œå¦åˆ™è¿”å›æ­£æ•°æˆ–0ï¼Œå…¶ä¸­0 è¡¨ç¤ºä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸åŒã€‚è¯¥æ–¹æ³•å®ç°ä¾èµ–å…·ä½“çš„æœ¬åœ°å®ç°ï¼Œä¸åŒçš„è¯­è¨€ä¸‹å¯èƒ½æœ‰ä¸åŒçš„è¿”å›ã€‚</p><p>è¯­æ³•ï¼š<em>str.localeCompare(str2 [, locales [, options]])</em></p><pre><code>var str = &quot;apple&quot;;var str2 = &quot;orange&quot;;console.log(str.localeCompare(str2)); // -1console.log(str.localeCompare(&quot;123&quot;)); // 11234</code></pre><p>ç›®å‰ Safari æµè§ˆå™¨æš‚ä¸æ”¯æŒè¯¥æ–¹æ³•ï¼Œä½†Chrome v24+ã€Firefox v29+ï¼ŒIE11+ å’Œ Opera v15+ éƒ½å·²å®ç°äº†å®ƒã€‚</p><h6 id="match"><a href="#match" class="headerlink" title="match"></a><strong>match</strong></h6><p>match() æ–¹æ³•ç”¨äºæµ‹è¯•å­—ç¬¦ä¸²æ˜¯å¦æ”¯æŒæŒ‡å®šæ­£åˆ™è¡¨è¾¾å¼çš„è§„åˆ™ï¼Œå³ä½¿ä¼ å…¥çš„æ˜¯éæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ï¼Œå®ƒä¹Ÿä¼šéšå¼åœ°ä½¿ç”¨<code>new RegExp(obj)</code>å°†å…¶è½¬æ¢ä¸ºæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ã€‚</p><p>è¯­æ³•ï¼š<em>str.match(regexp)</em></p><p>è¯¥æ–¹æ³•è¿”å›åŒ…å«åŒ¹é…ç»“æœçš„æ•°ç»„ï¼Œå¦‚æœæ²¡æœ‰åŒ¹é…é¡¹ï¼Œåˆ™è¿”å› nullã€‚</p><p><strong>æè¿°</strong></p><ul><li>è‹¥æ­£åˆ™è¡¨è¾¾å¼æ²¡æœ‰ g æ ‡å¿—ï¼Œåˆ™è¿”å›åŒ RegExp.exec(str) ç›¸åŒçš„ç»“æœã€‚è€Œä¸”è¿”å›çš„æ•°ç»„æ‹¥æœ‰ä¸€ä¸ªé¢å¤–çš„ input å±æ€§ï¼Œè¯¥å±æ€§åŒ…å«åŸå§‹å­—ç¬¦ä¸²ï¼Œå¦å¤–è¯¥æ•°ç»„è¿˜æ‹¥æœ‰ä¸€ä¸ª index å±æ€§ï¼Œè¯¥å±æ€§è¡¨ç¤ºåŒ¹é…å­—ç¬¦ä¸²åœ¨åŸå­—ç¬¦ä¸²ä¸­ç´¢å¼•ï¼ˆä»0å¼€å§‹ï¼‰ã€‚</li><li>è‹¥æ­£åˆ™è¡¨è¾¾å¼åŒ…å« g æ ‡å¿—ï¼Œåˆ™è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰åŒ¹é…ç»“æœçš„æ•°ç»„ï¼Œæ²¡æœ‰åŒ¹é…åˆ°åˆ™è¿”å› nullã€‚</li></ul><p><strong>ç›¸å…³ RegExp æ–¹æ³•</strong></p><ul><li>è‹¥éœ€æµ‹è¯•å­—ç¬¦ä¸²æ˜¯å¦åŒ¹é…æ­£åˆ™ï¼Œè¯·å‚è€ƒ RegExp.test(str)ã€‚</li><li>è‹¥åªéœ€ç¬¬ä¸€ä¸ªåŒ¹é…ç»“æœï¼Œè¯·å‚è€ƒ RegExp.exec(str)ã€‚</li></ul><pre><code>var str = &quot;World Internet Conference&quot;;console.log(str.match(/[a-d]/i)); // [&quot;d&quot;, index: 4, input: &quot;World Internet Conference&quot;]console.log(str.match(/[a-d]/gi)); // [&quot;d&quot;, &quot;C&quot;, &quot;c&quot;]// RegExp æ–¹æ³•å¦‚ä¸‹console.log(/[a-d]/gi.test(str)); // trueconsole.log(/[a-d]/gi.exec(str)); // [&quot;d&quot;, index: 4, input: &quot;World Internet Conference&quot;]123456</code></pre><p>ç”±ä¸Šå¯çŸ¥ï¼ŒRegExp.test(str) æ–¹æ³•åªè¦åŒ¹é…åˆ°äº†ä¸€ä¸ªå­—ç¬¦ä¹Ÿè¿”å›trueã€‚è€ŒRegExp.exec(str) æ–¹æ³•æ— è®ºæ­£åˆ™ä¸­æœ‰æ²¡æœ‰åŒ…å« g æ ‡å¿—ï¼ŒRegExp.execå°†ç›´æ¥è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…ç»“æœï¼Œä¸”è¯¥ç»“æœåŒ str.match(regexp) æ–¹æ³•ä¸åŒ…å« g æ ‡å¿—æ—¶çš„è¿”å›ä¸€è‡´ã€‚</p><h6 id="replace"><a href="#replace" class="headerlink" title="replace"></a><strong>replace</strong></h6><p>è¯¥æ–¹æ³•åœ¨ä¹‹å‰å·²ç»è®²è¿‡ï¼Œè¯¦ç»†è¯·å‚è€ƒ <a href="http://louiszhai.github.io/2015/12/11/js.replace/"><code>String.prototype.replaceé«˜é˜¶æŠ€èƒ½</code></a> ã€‚</p><h6 id="search"><a href="#search" class="headerlink" title="search"></a><strong>search</strong></h6><p>search() æ–¹æ³•ç”¨äºæµ‹è¯•å­—ç¬¦ä¸²å¯¹è±¡æ˜¯å¦åŒ…å«æŸä¸ªæ­£åˆ™åŒ¹é…ï¼Œç›¸å½“äºæ­£åˆ™è¡¨è¾¾å¼çš„ test æ–¹æ³•ï¼Œä¸”è¯¥æ–¹æ³•æ¯” match() æ–¹æ³•æ›´å¿«ã€‚å¦‚æœåŒ¹é…æˆåŠŸï¼Œsearch() è¿”å›æ­£åˆ™è¡¨è¾¾å¼åœ¨å­—ç¬¦ä¸²ä¸­é¦–æ¬¡åŒ¹é…é¡¹çš„ç´¢å¼•ï¼Œå¦åˆ™è¿”å›-1ã€‚</p><p>æ³¨æ„ï¼š<strong>searchæ–¹æ³•ä¸indexOfæ–¹æ³•ä½œç”¨åŸºæœ¬ä¸€è‡´ï¼Œéƒ½æ˜¯æŸ¥è¯¢åˆ°äº†å°±è¿”å›å­ä¸²ç¬¬ä¸€æ¬¡å‡ºç°çš„ä¸‹æ ‡ï¼Œå¦åˆ™è¿”å›-1ï¼Œå”¯ä¸€çš„åŒºåˆ«å°±åœ¨äºsearché»˜è®¤ä¼šå°†å­ä¸²è½¬åŒ–ä¸ºæ­£åˆ™è¡¨è¾¾å¼å½¢å¼ï¼Œè€ŒindexOfä¸åšæ­¤å¤„ç†ï¼Œä¹Ÿä¸èƒ½å¤„ç†æ­£åˆ™ã€‚</strong></p><p>è¯­æ³•ï¼š<em>str.search(regexp)</em></p><pre><code>var str = &quot;abcdefg&quot;;console.log(str.search(/[d-g]/)); // 3, åŒ¹é…åˆ°å­ä¸²&quot;defg&quot;,è€Œdåœ¨åŸå­—ç¬¦ä¸²ä¸­çš„ç´¢å¼•ä¸º312</code></pre><p>search() æ–¹æ³•ä¸æ”¯æŒå…¨å±€åŒ¹é…ï¼ˆæ­£åˆ™ä¸­åŒ…å«gå‚æ•°ï¼‰ï¼Œå¦‚ä¸‹ï¼š</p><pre><code>console.log(str.search(/[d-g]/g)); // 3, ä¸æ— gå‚æ•°æ—¶,è¿”å›ç›¸åŒ1</code></pre><h6 id="slice"><a href="#slice" class="headerlink" title="slice"></a><strong>slice</strong></h6><p>slice() æ–¹æ³•æå–å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†ï¼Œå¹¶è¿”å›æ–°çš„å­—ç¬¦ä¸²ã€‚è¯¥æ–¹æ³•æœ‰äº›ç±»ä¼¼ Array.prototype.slice æ–¹æ³•ã€‚</p><p>è¯­æ³•ï¼š<em>str.slice(start, end)</em></p><p>é¦–å…ˆ end å‚æ•°å¯é€‰ï¼Œstartå¯å–æ­£å€¼ï¼Œä¹Ÿå¯å–è´Ÿå€¼ã€‚</p><p>å–æ­£å€¼æ—¶è¡¨ç¤ºä»ç´¢å¼•ä¸ºstartçš„ä½ç½®æˆªå–åˆ°endçš„ä½ç½®ï¼ˆä¸åŒ…æ‹¬endæ‰€åœ¨ä½ç½®çš„å­—ç¬¦ï¼Œå¦‚æœendçœç•¥åˆ™æˆªå–åˆ°å­—ç¬¦ä¸²æœ«å°¾ï¼‰ã€‚</p><p>å–è´Ÿå€¼æ—¶è¡¨ç¤ºä»ç´¢å¼•ä¸º length+start ä½ç½®æˆªå–åˆ°endæ‰€åœ¨ä½ç½®çš„å­—ç¬¦ã€‚</p><pre><code>var str = &quot;It is our choices that show what we truly are, far more than our abilities.&quot;;console.log(str.slice(0,-30)); // It is our choices that show what we truly areconsole.log(str.slice(-30)); // , far more than our abilities.123</code></pre><h6 id="split"><a href="#split" class="headerlink" title="split"></a><strong>split</strong></h6><p>split() æ–¹æ³•æŠŠåŸå­—ç¬¦ä¸²åˆ†å‰²æˆå­å­—ç¬¦ä¸²ç»„æˆæ•°ç»„ï¼Œå¹¶è¿”å›è¯¥æ•°ç»„ã€‚</p><p>è¯­æ³•ï¼š<em>str.split(separator, limit)</em></p><p>ä¸¤ä¸ªå‚æ•°å‡æ˜¯å¯é€‰çš„ï¼Œå…¶ä¸­ separator è¡¨ç¤ºåˆ†éš”ç¬¦ï¼Œå®ƒå¯ä»¥æ˜¯å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥æ˜¯æ­£åˆ™è¡¨è¾¾å¼ã€‚å¦‚æœå¿½ç•¥ separatorï¼Œåˆ™è¿”å›çš„æ•°ç»„åŒ…å«ä¸€ä¸ªç”±åŸå­—ç¬¦ä¸²ç»„æˆçš„å…ƒç´ ã€‚å¦‚æœ separator æ˜¯ä¸€ä¸ªç©ºä¸²ï¼Œåˆ™ str å°†ä¼šè¢«åˆ†å‰²æˆä¸€ä¸ªç”±åŸå­—ç¬¦ä¸²ä¸­å­—ç¬¦ç»„æˆçš„æ•°ç»„ã€‚limit è¡¨ç¤ºä»è¿”å›çš„æ•°ç»„ä¸­æˆªå–å‰ limit ä¸ªå…ƒç´ ï¼Œä»è€Œé™å®šè¿”å›çš„æ•°ç»„é•¿åº¦ã€‚</p><pre><code>var str = &quot;today is a sunny day&quot;;console.log(str.split()); // [&quot;today is a sunny day&quot;]console.log(str.split(&quot;&quot;)); // [&quot;t&quot;, &quot;o&quot;, &quot;d&quot;, &quot;a&quot;, &quot;y&quot;, &quot; &quot;, &quot;i&quot;, &quot;s&quot;, &quot; &quot;, &quot;a&quot;, &quot; &quot;, &quot;s&quot;, &quot;u&quot;, &quot;n&quot;, &quot;n&quot;, &quot;y&quot;, &quot; &quot;, &quot;d&quot;, &quot;a&quot;, &quot;y&quot;]console.log(str.split(&quot; &quot;)); // [&quot;today&quot;, &quot;is&quot;, &quot;a&quot;, &quot;sunny&quot;, &quot;day&quot;]1234</code></pre><p>ä½¿ç”¨limité™å®šè¿”å›çš„æ•°ç»„å¤§å°ï¼Œå¦‚ä¸‹ï¼š</p><pre><code>console.log(str.split(&quot; &quot;)); // [&quot;today&quot;]1</code></pre><p>ä½¿ç”¨æ­£åˆ™åˆ†éš”ç¬¦ï¼ˆRegExp separatorï¼‰ï¼Œ å¦‚ä¸‹ï¼š</p><pre><code>console.log(str.split(/\s*is\s*/)); // [&quot;today&quot;, &quot;a sunny day&quot;]1</code></pre><p>è‹¥æ­£åˆ™åˆ†éš”ç¬¦é‡ŒåŒ…å«æ•è·æ‹¬å·ï¼Œåˆ™æ‹¬å·åŒ¹é…çš„ç»“æœå°†ä¼šåŒ…å«åœ¨è¿”å›çš„æ•°ç»„ä¸­ã€‚</p><pre><code>console.log(str.split(/(\s*is\s*)/)); // [&quot;today&quot;, &quot; is &quot;, &quot;a sunny day&quot;]1</code></pre><h6 id="substr"><a href="#substr" class="headerlink" title="substr"></a><strong>substr</strong></h6><p>substr() æ–¹æ³•è¿”å›å­—ç¬¦ä¸²æŒ‡å®šä½ç½®å¼€å§‹çš„æŒ‡å®šæ•°é‡çš„å­—ç¬¦ã€‚</p><p>è¯­æ³•ï¼š<em>str.substr(start[, length])</em></p><p>start è¡¨ç¤ºå¼€å§‹æˆªå–å­—ç¬¦çš„ä½ç½®ï¼Œå¯å–æ­£å€¼æˆ–è´Ÿå€¼ã€‚å–æ­£å€¼æ—¶è¡¨ç¤ºstartä½ç½®çš„ç´¢å¼•ï¼Œå–è´Ÿå€¼æ—¶è¡¨ç¤º length+startä½ç½®çš„ç´¢å¼•ã€‚</p><p>length è¡¨ç¤ºæˆªå–çš„å­—ç¬¦é•¿åº¦ã€‚</p><pre><code>var str = &quot;Yesterday is history. Tomorrow is mystery. But today is a gift.&quot;;console.log(str.substr(47)); // today is a gift.console.log(str.substr(-16)); // today is a gift.123</code></pre><p>ç›®å‰ Microsoftâ€™s JScript ä¸æ”¯æŒ start å‚æ•°å–è´Ÿçš„ç´¢å¼•ï¼Œå¦‚éœ€åœ¨ IE ä¸‹æ”¯æŒï¼Œè¯·å‚è€ƒ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/substr#Description">Polyfill</a>ã€‚</p><h6 id="substring"><a href="#substring" class="headerlink" title="substring"></a><strong>substring</strong></h6><p>substring() æ–¹æ³•è¿”å›å­—ç¬¦ä¸²ä¸¤ä¸ªç´¢å¼•ä¹‹é—´çš„å­ä¸²ã€‚</p><p>è¯­æ³•ï¼š<em>str.substring(indexA[, indexB])</em></p><p>indexAã€indexB è¡¨ç¤ºå­—ç¬¦ä¸²ç´¢å¼•ï¼Œå…¶ä¸­ indexB å¯é€‰ï¼Œå¦‚æœçœç•¥ï¼Œåˆ™è¡¨ç¤ºè¿”å›ä» indexA åˆ°å­—ç¬¦ä¸²æœ«å°¾çš„å­ä¸²ã€‚</p><p><strong>æè¿°</strong></p><p>substring è¦æˆªå–çš„æ˜¯ä» indexA åˆ° indexBï¼ˆä¸åŒ…å«ï¼‰ä¹‹é—´çš„å­—ç¬¦ï¼Œç¬¦åˆä»¥ä¸‹è§„å¾‹ï¼š</p><ul><li>è‹¥ indexA == indexBï¼Œåˆ™è¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ï¼›</li><li>è‹¥ çœç•¥ indexBï¼Œåˆ™æå–å­—ç¬¦ä¸€ç›´åˆ°å­—ç¬¦ä¸²æœ«å°¾ï¼›</li><li>è‹¥ ä»»ä¸€å‚æ•°å°äº 0 æˆ– NaNï¼Œåˆ™è¢«å½“ä½œ 0ï¼›</li><li>è‹¥ ä»»ä¸€å‚æ•°å¤§äº lengthï¼Œåˆ™è¢«å½“ä½œ lengthã€‚</li></ul><p>è€Œ å¦‚æœ indexA &gt; indexBï¼Œåˆ™ substring çš„æ‰§è¡Œæ•ˆæœå°±åƒæ˜¯ä¸¤ä¸ªå‚æ•°è°ƒæ¢ä¸€èˆ¬ã€‚æ¯”å¦‚ï¼šstr.substring(0, 1) == str.substring(1, 0)</p><pre><code>var str = &quot;Get outside every day. Miracles are waiting everywhere.&quot;;console.log(str.substring(1,1)); // &quot;&quot;console.log(str.substring(0)); // Get outside every day. Miracles are waiting everywhere.console.log(str.substring(-1)); // Get outside every day. Miracles are waiting everywhere.console.log(str.substring(0,100)); // Get outside every day. Miracles are waiting everywhere.console.log(str.substring(22,NaN)); // Get outside every day.123456</code></pre><h6 id="toLocaleLowerCase"><a href="#toLocaleLowerCase" class="headerlink" title="toLocaleLowerCase"></a><strong>toLocaleLowerCase</strong></h6><h6 id="toLocaleUpperCase"><a href="#toLocaleUpperCase" class="headerlink" title="toLocaleUpperCase"></a><strong>toLocaleUpperCase</strong></h6><p>toLocaleLowerCase() æ–¹æ³•è¿”å›è°ƒç”¨è¯¥æ–¹æ³•çš„å­—ç¬¦ä¸²è¢«è½¬æ¢æˆå°å†™çš„å€¼ï¼Œè½¬æ¢è§„åˆ™æ ¹æ®æœ¬åœ°åŒ–çš„å¤§å°å†™æ˜ å°„ã€‚è€ŒtoLocaleUpperCase() æ–¹æ³•åˆ™æ˜¯è½¬æ¢æˆå¤§å†™çš„å€¼ã€‚</p><p>è¯­æ³•ï¼š<em>str.toLocaleLowerCase()</em>, <em>str.toLocaleUpperCase()</em></p><pre><code>console.log(&#39;ABCDEFG&#39;.toLocaleLowerCase()); // abcdefgconsole.log(&#39;abcdefg&#39;.toLocaleUpperCase()); // ABCDEFG12</code></pre><h6 id="toLowerCase"><a href="#toLowerCase" class="headerlink" title="toLowerCase"></a><strong>toLowerCase</strong></h6><h6 id="toUpperCase"><a href="#toUpperCase" class="headerlink" title="toUpperCase"></a><strong>toUpperCase</strong></h6><p>è¿™ä¸¤ä¸ªæ–¹æ³•åˆ†åˆ«è¡¨ç¤ºå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºç›¸åº”çš„å°å†™ï¼Œå¤§å†™å½¢å¼ï¼Œå¹¶è¿”å›ã€‚å¦‚ä¸‹ï¼š</p><pre><code>console.log(&#39;ABCDEFG&#39;.toLowerCase()); // abcdefgconsole.log(&#39;abcdefg&#39;.toUpperCase()); // ABCDEFG12</code></pre><h6 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="toString"></a><strong>toString</strong></h6><h6 id="valueOf-NaN"><a href="#valueOf-NaN" class="headerlink" title="valueOf"></a><strong>valueOf</strong></h6><p>è¿™ä¸¤ä¸ªæ–¹æ³•éƒ½æ˜¯è¿”å›å­—ç¬¦ä¸²æœ¬èº«ã€‚</p><p>è¯­æ³•ï¼š<em>str.toString()</em>, <em>str.valueOf()</em></p><pre><code>var str = &quot;abc&quot;;console.log(str.toString()); // abcconsole.log(str.toString()==str.valueOf()); // true123</code></pre><p>å¯¹äºå¯¹è±¡è€Œè¨€ï¼ŒtoStringå’ŒvalueOfä¹Ÿæ˜¯éå¸¸çš„ç›¸ä¼¼ï¼Œå®ƒä»¬ä¹‹é—´æœ‰ç€ç»†å¾®çš„å·®åˆ«ï¼Œè¯·å°è¯•è¿è¡Œä»¥ä¸‹ä¸€æ®µä»£ç ï¼š</p><pre><code>var x = &#123;    toString: function () &#123; return &quot;test&quot;; &#125;,    valueOf: function () &#123; return 123; &#125;&#125;;console.log(x); // testconsole.log(&quot;x=&quot; + x); // &quot;x=123&quot;console.log(x + &quot;=x&quot;); // &quot;123=x&quot;console.log(x + &quot;1&quot;); // 1231console.log(x + 1); // 124console.log([&quot;x=&quot;, x].join(&quot;&quot;)); // &quot;x=test&quot;1234567891011</code></pre><p>å½“ â€œ+â€ æ“ä½œç¬¦ä¸€è¾¹ä¸ºæ•°å­—æ—¶ï¼Œå¯¹è±¡xè¶‹å‘äºè½¬æ¢ä¸ºæ•°å­—ï¼Œè¡¨è¾¾å¼ä¼šä¼˜å…ˆè°ƒç”¨ valueOf æ–¹æ³•ï¼Œå¦‚æœè°ƒç”¨æ•°ç»„çš„ join æ–¹æ³•ï¼Œå¯¹è±¡xè¶‹å‘äºè½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œè¡¨è¾¾å¼ä¼šä¼˜å…ˆè°ƒç”¨ toString æ–¹æ³•ã€‚</p><h6 id="trim"><a href="#trim" class="headerlink" title="trim"></a><strong>trim</strong></h6><p>trim() æ–¹æ³•æ¸…é™¤å­—ç¬¦ä¸²é¦–å°¾çš„ç©ºç™½å¹¶è¿”å›ã€‚</p><p>è¯­æ³•ï¼š<em>str.trim()</em></p><pre><code>console.log(&quot; a b c &quot;.trim()); // &quot;a b c&quot;1</code></pre><p>trim() æ–¹æ³•æ˜¯ ECMAScript 5.1 æ ‡å‡†åŠ å…¥çš„ï¼Œå®ƒå¹¶ä¸æ”¯æŒIE9ä»¥ä¸‹çš„ä½ç‰ˆæœ¬IEæµè§ˆå™¨ï¼Œå¦‚éœ€æ”¯æŒï¼Œè¯·å‚è€ƒä»¥ä¸‹å…¼å®¹å†™æ³•ï¼š</p><pre><code>if(!String.prototype.trim) &#123;  String.prototype.trim = function () &#123;    return this.replace(/^\s+|\s+$/g,&#39;&#39;);  &#125;;&#125;12345</code></pre><h6 id="codePointAt-ES6"><a href="#codePointAt-ES6" class="headerlink" title="codePointAt(ES6)"></a><strong>codePointAt(ES6)</strong></h6><p>codePointAt() æ–¹æ³•åŸºäº<strong>ECMAScript 2015ï¼ˆES6ï¼‰è§„èŒƒ</strong>ï¼Œè¿”å›ä½¿ç”¨UTF-16ç¼–ç çš„ç»™å®šä½ç½®çš„å€¼çš„éè´Ÿæ•´æ•°ã€‚</p><p>è¯­æ³•ï¼š<em>str.codePointAt(position)</em></p><pre><code>console.log(&quot;a&quot;.codePointAt(0)); // 97console.log(&quot;\u4f60\u597d&quot;.codePointAt(0)); // 2032012</code></pre><p>å¦‚éœ€åœ¨è€çš„æµè§ˆå™¨ä¸­ä½¿ç”¨è¯¥æ–¹æ³•ï¼Œè¯·å‚è€ƒ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/codePointAt#Polyfill">Polyfill</a>ã€‚</p><h6 id="includes-ES6"><a href="#includes-ES6" class="headerlink" title="includes(ES6)"></a><strong>includes(ES6)</strong></h6><p>includes() æ–¹æ³•åŸºäº<strong>ECMAScript 2015ï¼ˆES6ï¼‰è§„èŒƒ</strong>ï¼Œå®ƒç”¨æ¥åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦å±äºå¦ä¸€ä¸ªå­—ç¬¦ã€‚å¦‚æœæ˜¯ï¼Œåˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚</p><p>è¯­æ³•ï¼š<em>str.includes(subString [, position])</em></p><p>subString è¡¨ç¤ºè¦æœç´¢çš„å­—ç¬¦ä¸²ï¼Œposition è¡¨ç¤ºä»å½“å‰å­—ç¬¦ä¸²çš„å“ªä¸ªä½ç½®å¼€å§‹æœç´¢å­—ç¬¦ä¸²ï¼Œé»˜è®¤å€¼ä¸º0ã€‚</p><pre><code>var str = &quot;Practice makes perfect.&quot;;console.log(str.includes(&quot;perfect&quot;)); // trueconsole.log(str.includes(&quot;perfect&quot;,100)); // false123</code></pre><p>å®é™…ä¸Šï¼ŒFirefox 18~39ä¸­è¯¥æ–¹æ³•çš„åç§°ä¸ºcontainsï¼Œç”±äº<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1102219">bug 1102219</a>çš„å­˜åœ¨ï¼Œå®ƒè¢«é‡å‘½åä¸º<code>includes()</code> ã€‚ç›®å‰åªæœ‰Chrome v41+å’ŒFirefox v40+ç‰ˆæœ¬æµè§ˆå™¨å®ç°äº†å®ƒï¼Œå¦‚éœ€åœ¨å…¶å®ƒç‰ˆæœ¬æµè§ˆå™¨ä¸­ä½¿ç”¨è¯¥æ–¹æ³•ï¼Œè¯·å‚è€ƒ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/includes#%E5%A1%AB%E5%85%85">Polyfill</a>ã€‚</p><h6 id="endsWith-ES6"><a href="#endsWith-ES6" class="headerlink" title="endsWith(ES6)"></a><strong>endsWith(ES6)</strong></h6><p>endsWith() æ–¹æ³•åŸºäº<strong>ECMAScript 2015ï¼ˆES6ï¼‰è§„èŒƒ</strong>ï¼Œå®ƒåŸºæœ¬ä¸ contains() åŠŸèƒ½ç›¸åŒï¼Œä¸åŒçš„æ˜¯ï¼Œå®ƒç”¨æ¥åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦æ˜¯åŸå­—ç¬¦ä¸²çš„ç»“å°¾ã€‚è‹¥æ˜¯åˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚</p><p>è¯­æ³•ï¼š<em>str.endsWith(substring [, position])</em></p><p>ä¸contains æ–¹æ³•ä¸åŒï¼Œposition å‚æ•°çš„é»˜è®¤å€¼ä¸ºå­—ç¬¦ä¸²é•¿åº¦ã€‚</p><pre><code>var str = &quot;Learn and live.&quot;;console.log(str.endsWith(&quot;live.&quot;)); // trueconsole.log(str.endsWith(&quot;Learn&quot;,5)); // true123</code></pre><p>åŒæ ·ç›®å‰åªæœ‰ Firefox v17+ç‰ˆæœ¬å®ç°äº†è¯¥æ–¹æ³•ã€‚å…¶å®ƒæµè§ˆå™¨è¯·å‚è€ƒ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith#Polyfill">Polyfill</a>ã€‚</p><h6 id="normalize-ES6"><a href="#normalize-ES6" class="headerlink" title="normalize(ES6)"></a><strong>normalize(ES6)</strong></h6><p>normalize() æ–¹æ³•åŸºäº<strong>ECMAScript 2015ï¼ˆES6ï¼‰è§„èŒƒ</strong>ï¼Œå®ƒä¼šæŒ‰ç…§æŒ‡å®šçš„ Unicode æ­£è§„å½¢å¼å°†åŸå­—ç¬¦ä¸²æ­£è§„åŒ–ã€‚</p><p>è¯­æ³•ï¼š<em>str.normalize([form])</em></p><p>form å‚æ•°å¯çœç•¥ï¼Œç›®å‰æœ‰å››ç§ Unicode æ­£è§„å½¢å¼ï¼Œå³ â€œNFCâ€ã€â€NFDâ€ã€â€NFKCâ€ ä»¥åŠ â€œNFKDâ€ï¼Œformçš„é»˜è®¤å€¼ä¸º â€œNFCâ€ã€‚å¦‚æœform ä¼ å…¥äº†éæ³•çš„å‚æ•°å€¼ï¼Œåˆ™ä¼šæŠ›å‡º RangeError é”™è¯¯ã€‚</p><pre><code>var str = &quot;\u4f60\u597d&quot;;console.log(str.normalize()); // ä½ å¥½console.log(str.normalize(&quot;NFC&quot;)); // ä½ å¥½console.log(str.normalize(&quot;NFD&quot;)); // ä½ å¥½console.log(str.normalize(&quot;NFKC&quot;)); // ä½ å¥½console.log(str.normalize(&quot;NFKD&quot;)); // ä½ å¥½123456</code></pre><p>ç›®å‰åªæœ‰Chrome v34+å’ŒFirefox v31+å®ç°äº†å®ƒã€‚</p><h6 id="repeat-ES6"><a href="#repeat-ES6" class="headerlink" title="repeat(ES6)"></a><strong>repeat(ES6)</strong></h6><p>repeat() æ–¹æ³•åŸºäº<strong>ECMAScript 2015ï¼ˆES6ï¼‰è§„èŒƒ</strong>ï¼Œå®ƒè¿”å›é‡å¤åŸå­—ç¬¦ä¸²å¤šæ¬¡çš„æ–°å­—ç¬¦ä¸²ã€‚</p><p>è¯­æ³•ï¼š<em>str.repeat(count)</em></p><p>count å‚æ•°åªèƒ½å–å¤§äºç­‰äº0 çš„æ•°å­—ã€‚è‹¥è¯¥æ•°å­—ä¸ä¸ºæ•´æ•°ï¼Œå°†è‡ªåŠ¨è½¬æ¢ä¸ºæ•´æ•°å½¢å¼ï¼Œè‹¥ä¸ºè´Ÿæ•°æˆ–è€…å…¶ä»–å€¼å°†æŠ¥é”™ã€‚</p><pre><code>var str = &quot;A still tongue makes a wise head.&quot;;console.log(str.repeat(0)); // &quot;&quot;console.log(str.repeat(1)); // A still tongue makes a wise head.console.log(str.repeat(1.5)); // A still tongue makes a wise head.console.log(str.repeat(-1)); // RangeError:Invalid count value12345</code></pre><p>ç›®å‰åªæœ‰ Chrome v41+ã€Firefox v24+å’ŒSafari v9+ç‰ˆæœ¬æµè§ˆå™¨å®ç°äº†è¯¥æ–¹æ³•ã€‚å…¶ä»–æµè§ˆå™¨è¯·å‚è€ƒ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/repeat#%E5%A1%AB%E5%85%85">Polyfill</a>ã€‚</p><h6 id="startsWith-ES6"><a href="#startsWith-ES6" class="headerlink" title="startsWith(ES6)"></a><strong>startsWith(ES6)</strong></h6><p>startsWith() æ–¹æ³•åŸºäº<strong>ECMAScript 2015ï¼ˆES6ï¼‰è§„èŒƒ</strong>ï¼Œå®ƒç”¨æ¥åˆ¤æ–­å½“å‰å­—ç¬¦ä¸²æ˜¯å¦æ˜¯ä»¥ç»™å®šå­—ç¬¦ä¸²å¼€å§‹çš„ï¼Œè‹¥æ˜¯åˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚</p><p>è¯­æ³•ï¼š<em>str.startsWith(subString [, position])</em></p><pre><code>var str = &quot;Where there is a will, there is a way.&quot;;console.log(str.startsWith(&quot;Where&quot;)); // trueconsole.log(str.startsWith(&quot;there&quot;,6)); // true123</code></pre><p>ç›®å‰ä»¥ä¸‹ç‰ˆæœ¬æµè§ˆå™¨å®ç°äº†è¯¥æ–¹æ³•ï¼Œå…¶ä»–æµè§ˆå™¨è¯·å‚è€ƒ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith#Polyfill">Polyfill</a>ã€‚</p><table><thead><tr><th align="center">Chrome</th><th align="center">Firefox</th><th align="center">Edge</th><th align="center">Opera</th><th align="center">Safari</th></tr></thead><tbody><tr><td align="center">41+</td><td align="center">17+</td><td align="center">âœ”ï¸</td><td align="center">28+</td><td align="center">9+</td></tr></tbody></table><p>å…¶å®ƒ<strong>éæ ‡å‡†</strong>çš„æ–¹æ³•æš‚æ—¶ä¸ä½œä»‹ç»ï¼Œå¦‚éœ€äº†è§£è¯·å‚è€ƒ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/prototype">String.prototype</a> ä¸­æ ‡æ³¨ä¸ºæ„Ÿå¹å·çš„æ–¹æ³•ã€‚</p><h5 id="HTMLæœ‰å…³çš„æ–¹æ³•"><a href="#HTMLæœ‰å…³çš„æ–¹æ³•" class="headerlink" title="HTMLæœ‰å…³çš„æ–¹æ³•"></a>HTMLæœ‰å…³çš„æ–¹æ³•</h5><p>å¸¸ç”¨çš„æ–¹æ³•æœ‰ anchorï¼Œlink å…¶å®ƒæ–¹æ³•å¦‚ bigã€blinkã€boldã€fixedã€fontcolorã€fontsizeã€italicsã€smallã€strikeã€subã€supå‡å·²åºŸé™¤ã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°†ä»‹ç» anchor å’Œ link ä¸¤ä¸ªæ–¹æ³•ï¼Œå…¶ä»–åºŸé™¤æ–¹æ³•ä¸ä½œä»‹ç»ã€‚</p><h6 id="anchor"><a href="#anchor" class="headerlink" title="anchor"></a><strong>anchor</strong></h6><p>anchor() æ–¹æ³•åˆ›å»ºä¸€ä¸ªé”šæ ‡ç­¾ã€‚</p><p>è¯­æ³•ï¼š<em>str.anchor(name)</em></p><p>name æŒ‡å®šè¢«åˆ›å»ºçš„aæ ‡ç­¾çš„nameå±æ€§ï¼Œä½¿ç”¨è¯¥æ–¹æ³•åˆ›å»ºçš„é”šç‚¹ï¼Œå°†ä¼šæˆä¸º document.anchors æ•°ç»„çš„å…ƒç´ ã€‚</p><pre><code>var str = &quot;this is a anchor tag&quot;;document.body.innerHTML = document.body.innerHTML + str.anchor(&quot;anchor1&quot;); // bodyæœ«å°¾å°†ä¼šè¿½åŠ è¿™äº›å†…å®¹ &lt;a name=&quot;anchor1&quot;&gt;this is a anchor tag&lt;/a&gt;12</code></pre><h6 id="link"><a href="#link" class="headerlink" title="link"></a><strong>link</strong></h6><p>link() æ–¹æ³•åŒæ ·åˆ›å»ºä¸€ä¸ªaæ ‡ç­¾ã€‚</p><p>è¯­æ³•ï¼š<em>str.link(url)</em></p><p>url æŒ‡å®šè¢«åˆ›å»ºçš„aæ ‡ç­¾çš„hrefå±æ€§ï¼Œå¦‚æœurlä¸­åŒ…å«ç‰¹æ®Šå­—ç¬¦ï¼Œå°†è‡ªåŠ¨è¿›è¡Œç¼–ç ã€‚ä¾‹å¦‚ <code>&quot;</code> ä¼šè¢«è½¬ä¹‰ä¸º <code>&amp;\quot</code>ã€‚ ä½¿ç”¨è¯¥æ–¹æ³•åˆ›å»ºçš„aæ ‡ç­¾ï¼Œå°†ä¼šæˆä¸º document.links æ•°ç»„ä¸­çš„å…ƒç´ ã€‚</p><pre><code>var str = &quot;ç™¾åº¦&quot;;document.write(str.link(&quot;https://www.baidu.com&quot;)); // &lt;a href=&quot;https://www.baidu.com&quot;&gt;ç™¾åº¦&lt;/a&gt;12</code></pre><hr><h3 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a><strong>å°ç»“</strong></h3><p>éƒ¨åˆ†å­—ç¬¦ä¸²æ–¹æ³•ä¹‹é—´å­˜åœ¨å¾ˆå¤§çš„ç›¸ä¼¼æ€§ï¼Œè¦æ³¨æ„åŒºåˆ†ä»–ä»¬çš„åŠŸèƒ½å’Œä½¿ç”¨åœºæ™¯ã€‚å¦‚ï¼š</p><ul><li>substr å’Œ substringï¼Œéƒ½æ˜¯ä¸¤ä¸ªå‚æ•°ï¼Œä½œç”¨åŸºæœ¬ç›¸åŒï¼Œä¸¤è€…ç¬¬ä¸€ä¸ªå‚æ•°å«ä¹‰ç›¸åŒï¼Œä½†ç”¨æ³•ä¸åŒï¼Œå‰è€…å¯ä¸ºè´Ÿæ•°ï¼Œåè€…å€¼ä¸ºè´Ÿæ•°æˆ–è€…éæ•´æ•°æ—¶å°†éšå¼è½¬æ¢ä¸º0ã€‚å‰è€…ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºæˆªå–å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œåè€…ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºæˆªå–å­—ç¬¦ä¸²çš„ä¸‹æ ‡ï¼›åŒæ—¶substringç¬¬ä¸€ä¸ªå‚æ•°å¤§äºç¬¬äºŒä¸ªå‚æ•°æ—¶ï¼Œæ‰§è¡Œç»“æœåŒä½ç½®è°ƒæ¢åçš„ç»“æœã€‚</li><li>searchæ–¹æ³•ä¸indexOfæ–¹æ³•ä½œç”¨åŸºæœ¬ä¸€è‡´ï¼Œéƒ½æ˜¯æŸ¥è¯¢åˆ°äº†å°±è¿”å›å­ä¸²ç¬¬ä¸€æ¬¡å‡ºç°çš„ä¸‹æ ‡ï¼Œå¦åˆ™è¿”å›-1ï¼Œå”¯ä¸€çš„åŒºåˆ«å°±åœ¨äºsearché»˜è®¤ä¼šå°†å­ä¸²è½¬åŒ–ä¸ºæ­£åˆ™è¡¨è¾¾å¼å½¢å¼ï¼Œè€ŒindexOfä¸åšæ­¤å¤„ç†ï¼Œä¹Ÿä¸èƒ½å¤„ç†æ­£åˆ™ã€‚</li></ul><p>å¦å¤–ï¼Œè¿˜è®°å¾—å—ï¼Ÿconcatæ–¹æ³•ç”±äºæ•ˆç‡é—®é¢˜ï¼Œä¸æ¨èä½¿ç”¨ã€‚</p><p>é€šå¸¸ï¼Œå­—ç¬¦ä¸²ä¸­ï¼Œå¸¸ç”¨çš„æ–¹æ³•å°±charAtã€indexOfã€lastIndexOfã€matchã€replaceã€searchã€sliceã€splitã€substrã€substringã€toLowerCaseã€toUpperCaseã€trimã€valueof ç­‰è¿™äº›ã€‚ç†Ÿæ‚‰å®ƒä»¬çš„è¯­æ³•è§„åˆ™å°±èƒ½ç†Ÿç»ƒåœ°é©¾é©­å­—ç¬¦ä¸²ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> API </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js_Array_API</title>
      <link href="2020/09/27/js-array-api/"/>
      <url>2020/09/27/js-array-api/</url>
      
        <content type="html"><![CDATA[<h1 id="JavaScriptæ•°ç»„æ‰€æœ‰APIå…¨è§£å¯†"><a href="#JavaScriptæ•°ç»„æ‰€æœ‰APIå…¨è§£å¯†" class="headerlink" title="JavaScriptæ•°ç»„æ‰€æœ‰APIå…¨è§£å¯†"></a>JavaScriptæ•°ç»„æ‰€æœ‰APIå…¨è§£å¯†</h1><p> <a href="http://louiszhai.github.io/2017/04/28/array/#Array%E6%9E%84%E9%80%A0%E5%99%A8">http://louiszhai.github.io/2017/04/28/array/#Array%E6%9E%84%E9%80%A0%E5%99%A8</a> </p><h3 id="Arrayæ„é€ å™¨"><a href="#Arrayæ„é€ å™¨" class="headerlink" title="Arrayæ„é€ å™¨"></a>Arrayæ„é€ å™¨</h3><p>Arrayæ„é€ å™¨ç”¨äºåˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„ã€‚é€šå¸¸ï¼Œæˆ‘ä»¬æ¨èä½¿ç”¨å¯¹è±¡å­—é¢é‡åˆ›å»ºæ•°ç»„ï¼Œè¿™æ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯ï¼Œä½†æ˜¯æ€»æœ‰å¯¹è±¡å­—é¢é‡ä¹åŠ›çš„æ—¶å€™ï¼Œæ¯”å¦‚è¯´ï¼Œæˆ‘æƒ³åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º8çš„ç©ºæ•°ç»„ã€‚è¯·æ¯”è¾ƒå¦‚ä¸‹ä¸¤ç§æ–¹å¼ï¼š</p><pre><code>// ä½¿ç”¨Arrayæ„é€ å™¨var a = Array(8); // [undefined Ã— 8]// ä½¿ç”¨å¯¹è±¡å­—é¢é‡var b = [];b.length = 8; // [undefined Ã— 8]</code></pre><p>Arrayæ„é€ å™¨æ˜æ˜¾è¦ç®€æ´ä¸€äº›ï¼Œå½“ç„¶ä½ ä¹Ÿè®¸ä¼šè¯´ï¼Œå¯¹è±¡å­—é¢é‡ä¹Ÿä¸é”™å•Šï¼Œé‚£ä¹ˆæˆ‘ä¿æŒæ²‰é»˜ã€‚</p><p>å¦‚ä¸Šï¼Œæˆ‘ä½¿ç”¨äº†<code>Array(8)</code>è€Œä¸æ˜¯<code>new Array(8)</code>ï¼Œè¿™ä¼šæœ‰å½±å“å—ï¼Ÿå®é™…ä¸Šï¼Œå¹¶æ²¡æœ‰å½±å“ï¼Œè¿™å¾—ç›ŠäºArrayæ„é€ å™¨å†…éƒ¨å¯¹thisæŒ‡é’ˆçš„åˆ¤æ–­ï¼Œ<a href="http://ecma262-5.com/ELS5_HTML.htm#Section_15.4.1">ELS5_HTMLè§„èŒƒ</a>æ˜¯è¿™ä¹ˆè¯´çš„ï¼š</p><blockquote><p>When <code>Array</code> is called as a function rather than as a constructor, it creates and initialises a new Array object. Thus the function call <code>Array(â€¦)</code> is equivalent to the object creation expression <code>new Array(â€¦)</code> with the same arguments.</p></blockquote><p>ä»è§„èŒƒæ¥çœ‹ï¼Œæµè§ˆå™¨å†…éƒ¨å¤§è‡´åšäº†å¦‚ä¸‹ç±»ä¼¼çš„å®ç°ï¼š</p><pre><code>function Array()&#123;  // å¦‚æœthisä¸æ˜¯Arrayçš„å®ä¾‹ï¼Œé‚£å°±é‡æ–°newä¸€ä¸ªå®ä¾‹  if(!(this instanceof arguments.callee))&#123;    return new arguments.callee();  &#125;&#125;</code></pre><p>ä¸Šé¢ï¼Œæˆ‘ä¼¼ä¹è·³è¿‡äº†å¯¹Arrayæ„é€ å™¨è¯­æ³•çš„ä»‹ç»ï¼Œæ²¡äº‹ï¼Œæ¥ä¸‹æ¥æˆ‘è¡¥ä¸Šã€‚</p><p>Arrayæ„é€ å™¨æ ¹æ®å‚æ•°é•¿åº¦çš„ä¸åŒï¼Œæœ‰å¦‚ä¸‹ä¸¤ç§ä¸åŒçš„å¤„ç†ï¼š</p><ul><li>new Array(arg1, arg2,â€¦)ï¼Œå‚æ•°é•¿åº¦ä¸º0æˆ–é•¿åº¦å¤§äºç­‰äº2æ—¶ï¼Œä¼ å…¥çš„å‚æ•°å°†æŒ‰ç…§é¡ºåºä¾æ¬¡æˆä¸ºæ–°æ•°ç»„çš„ç¬¬0è‡³Né¡¹ï¼ˆå‚æ•°é•¿åº¦ä¸º0æ—¶ï¼Œè¿”å›ç©ºæ•°ç»„ï¼‰ã€‚</li><li>new Array(len)ï¼Œå½“lenä¸æ˜¯æ•°å€¼æ—¶ï¼Œå¤„ç†åŒä¸Šï¼Œè¿”å›ä¸€ä¸ªåªåŒ…å«lenå…ƒç´ ä¸€é¡¹çš„æ•°ç»„ï¼›å½“lenä¸ºæ•°å€¼æ—¶ï¼Œæ ¹æ®å¦‚ä¸‹<a href="http://ecma262-5.com/ELS5_HTML.htm#Section_15.4.2.2">è§„èŒƒ</a>ï¼Œlenæœ€å¤§ä¸èƒ½è¶…è¿‡32ä½æ— ç¬¦å·æ•´å‹ï¼Œå³éœ€è¦å°äº2çš„32æ¬¡æ–¹ï¼ˆlenæœ€å¤§ä¸º<code>Math.pow(2,32) -1</code>æˆ–<code>-1&gt;&gt;&gt;0</code>ï¼‰ï¼Œå¦åˆ™å°†æŠ›å‡ºRangeErrorã€‚</li></ul><blockquote><p>If the argument <em>len</em> is a Number and ToUint32(<em>len</em>) is equal to <em>len</em>, then the <code>length</code> property of the newly constructed object is set to ToUint32(<em>len</em>). If the argument len is a Number and ToUint32(<em>len</em>) is not equal to <em>len</em>, a <strong>RangeError</strong> exception is thrown.</p></blockquote><p>ä»¥ä¸Šï¼Œè¯·æ³¨æ„Arrayæ„é€ å™¨å¯¹äºå•ä¸ªæ•°å€¼å‚æ•°çš„ç‰¹æ®Šå¤„ç†ï¼Œå¦‚æœä»…ä»…éœ€è¦ä½¿ç”¨æ•°ç»„åŒ…è£¹ğŸ“¦ è‹¥å¹²å‚æ•°ï¼Œä¸å¦¨ä½¿ç”¨Array.ofï¼Œå…·ä½“è¯·ç§»æ­¥ä¸‹ä¸€èŠ‚ã€‚</p><h3 id="ES6æ–°å¢çš„æ„é€ å‡½æ•°æ–¹æ³•"><a href="#ES6æ–°å¢çš„æ„é€ å‡½æ•°æ–¹æ³•" class="headerlink" title="ES6æ–°å¢çš„æ„é€ å‡½æ•°æ–¹æ³•"></a><strong>ES6æ–°å¢çš„æ„é€ å‡½æ•°æ–¹æ³•</strong></h3><p>é‰´äºæ•°ç»„çš„å¸¸ç”¨æ€§ï¼ŒES6ä¸“é—¨æ‰©å±•äº†æ•°ç»„æ„é€ å™¨<code>Array</code> ï¼Œæ–°å¢2ä¸ªæ–¹æ³•ï¼š<code>Array.of</code>ã€<code>Array.from</code>ã€‚ä¸‹é¢å±•å¼€æ¥èŠã€‚</p><h4 id="Array-of"><a href="#Array-of" class="headerlink" title="Array.of"></a><strong>Array.of</strong></h4><p>Array.ofç”¨äºå°†å‚æ•°ä¾æ¬¡è½¬åŒ–ä¸ºæ•°ç»„ä¸­çš„ä¸€é¡¹ï¼Œç„¶åè¿”å›è¿™ä¸ªæ–°æ•°ç»„ï¼Œè€Œä¸ç®¡è¿™ä¸ªå‚æ•°æ˜¯æ•°å­—è¿˜æ˜¯å…¶å®ƒã€‚å®ƒåŸºæœ¬ä¸Šä¸Arrayæ„é€ å™¨åŠŸèƒ½ä¸€è‡´ï¼Œå”¯ä¸€çš„åŒºåˆ«å°±åœ¨å•ä¸ªæ•°å­—å‚æ•°çš„å¤„ç†ä¸Šã€‚å¦‚ä¸‹ï¼š</p><pre><code>Array.of(8.0); // [8]Array(8.0); // [empty Ã— 8]12</code></pre><p>å‚æ•°ä¸ºå¤šä¸ªï¼Œæˆ–å•ä¸ªå‚æ•°ä¸æ˜¯æ•°å­—æ—¶ï¼ŒArray.of ä¸ Arrayæ„é€ å™¨ç­‰åŒã€‚</p><pre><code>Array.of(8.0, 5); // [8, 5]Array(8.0, 5); // [8, 5]Array.of(&#39;8&#39;); // [&quot;8&quot;]Array(&#39;8&#39;); // [&quot;8&quot;]12345</code></pre><p>å› æ­¤ï¼Œè‹¥æ˜¯éœ€è¦ä½¿ç”¨æ•°ç»„åŒ…è£¹å…ƒç´ ï¼Œæ¨èä¼˜å…ˆä½¿ç”¨Array.ofæ–¹æ³•ã€‚</p><p>ç›®å‰ï¼Œä»¥ä¸‹ç‰ˆæœ¬æµè§ˆå™¨æä¾›äº†å¯¹Array.ofçš„æ”¯æŒã€‚</p><table><thead><tr><th align="center">Chrome</th><th align="center">Firefox</th><th align="center">Edge</th><th align="center">Safari</th></tr></thead><tbody><tr><td align="center">45+</td><td align="center">25+</td><td align="center">âœ”ï¸</td><td align="center">9.0+</td></tr></tbody></table><p>å³ä½¿å…¶ä»–ç‰ˆæœ¬æµè§ˆå™¨ä¸æ”¯æŒä¹Ÿä¸å¿…æ‹…å¿ƒï¼Œç”±äºArray.ofä¸Arrayæ„é€ å™¨çš„è¿™ç§é«˜åº¦ç›¸ä¼¼æ€§ï¼Œå®ç°ä¸€ä¸ªpolyfillååˆ†ç®€å•ã€‚å¦‚ä¸‹ï¼š</p><pre><code>if (!Array.of)&#123;  Array.of = function()&#123;    return Array.prototype.slice.call(arguments);  &#125;;&#125;12345</code></pre><h4 id="Array-from"><a href="#Array-from" class="headerlink" title="Array.from"></a><strong>Array.from</strong></h4><p>è¯­æ³•ï¼š<em>Array.from(arrayLike[, processingFn[, thisArg]])</em></p><p>Array.fromçš„è®¾è®¡åˆè¡·æ˜¯å¿«é€Ÿä¾¿æ·çš„åŸºäºå…¶ä»–å¯¹è±¡åˆ›å»ºæ–°æ•°ç»„ï¼Œå‡†ç¡®æ¥è¯´å°±æ˜¯ä»ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯è¿­ä»£å¯¹è±¡åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„å®ä¾‹ï¼Œè¯´äººè¯å°±æ˜¯ï¼Œåªè¦ä¸€ä¸ªå¯¹è±¡æœ‰è¿­ä»£å™¨ï¼ŒArray.fromå°±èƒ½æŠŠå®ƒå˜æˆä¸€ä¸ªæ•°ç»„ï¼ˆå½“ç„¶ï¼Œæ˜¯è¿”å›æ–°çš„æ•°ç»„ï¼Œä¸æ”¹å˜åŸå¯¹è±¡ï¼‰ã€‚</p><p>ä»è¯­æ³•ä¸Šçœ‹ï¼ŒArray.fromæ‹¥æœ‰3ä¸ªå½¢å‚ï¼Œç¬¬ä¸€ä¸ªä¸ºç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼Œå¿…é€‰ã€‚ç¬¬äºŒä¸ªä¸ºåŠ å·¥å‡½æ•°ï¼Œæ–°ç”Ÿæˆçš„æ•°ç»„ä¼šç»è¿‡è¯¥å‡½æ•°çš„åŠ å·¥å†è¿”å›ã€‚ç¬¬ä¸‰ä¸ªä¸ºthisä½œç”¨åŸŸï¼Œè¡¨ç¤ºåŠ å·¥å‡½æ•°æ‰§è¡Œæ—¶thisçš„å€¼ã€‚åä¸¤ä¸ªå‚æ•°éƒ½æ˜¯å¯é€‰çš„ã€‚æˆ‘ä»¬æ¥çœ‹çœ‹ç”¨æ³•ã€‚</p><pre><code>var obj = &#123;0: &#39;a&#39;, 1: &#39;b&#39;, 2:&#39;c&#39;, length: 3&#125;;Array.from(obj, function(value, index)&#123;  console.log(value, index, this, arguments.length);  return value.repeat(3); //å¿…é¡»æŒ‡å®šè¿”å›å€¼ï¼Œå¦åˆ™è¿”å›undefined&#125;, obj);12345</code></pre><p>æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</p><p><a href="http://louiszhai.github.io/docImages/array01.png"><img src="http://louiszhai.github.io/docImages/array01.png" alt="Array.fromæ‰§è¡Œç»“æœ"></a></p><p>å¯ä»¥çœ‹åˆ°åŠ å·¥å‡½æ•°çš„thisä½œç”¨åŸŸè¢«objå¯¹è±¡å–ä»£ï¼Œä¹Ÿå¯ä»¥çœ‹åˆ°åŠ å·¥å‡½æ•°é»˜è®¤æ‹¥æœ‰ä¸¤ä¸ªå½¢å‚ï¼Œåˆ†åˆ«ä¸ºè¿­ä»£å™¨å½“å‰å…ƒç´ çš„å€¼å’Œå…¶ç´¢å¼•ã€‚</p><p>æ³¨æ„ï¼Œä¸€æ—¦ä½¿ç”¨åŠ å·¥å‡½æ•°ï¼Œå¿…é¡»æ˜ç¡®æŒ‡å®šè¿”å›å€¼ï¼Œå¦åˆ™å°†éšå¼è¿”å›undefinedï¼Œæœ€ç»ˆç”Ÿæˆçš„æ•°ç»„ä¹Ÿä¼šå˜æˆä¸€ä¸ªåªåŒ…å«è‹¥å¹²ä¸ªundefinedå…ƒç´ çš„ç©ºæ•°ç»„ã€‚</p><p>å®é™…ä¸Šï¼Œå¦‚æœä¸éœ€è¦æŒ‡å®šthisï¼ŒåŠ å·¥å‡½æ•°å®Œå…¨å¯ä»¥æ˜¯ä¸€ä¸ªç®­å¤´å‡½æ•°ã€‚ä¸Šè¿°ä»£ç å¯ä»¥ç®€åŒ–å¦‚ä¸‹ï¼š</p><pre><code>Array.from(obj, (value) =&gt; value.repeat(3));1</code></pre><p>é™¤äº†ä¸Šè¿°objå¯¹è±¡ä»¥å¤–ï¼Œæ‹¥æœ‰è¿­ä»£å™¨çš„å¯¹è±¡è¿˜åŒ…æ‹¬è¿™äº›ï¼š<code>String</code>ï¼Œ<code>Set</code>ï¼Œ<code>Map</code>ï¼Œ<code>arguments</code> ç­‰ï¼ŒArray.fromç»Ÿç»Ÿå¯ä»¥å¤„ç†ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>// StringArray.from(&#39;abc&#39;); // [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]// SetArray.from(new Set([&#39;abc&#39;, &#39;def&#39;])); // [&quot;abc&quot;, &quot;def&quot;]// MapArray.from(new Map([[1, &#39;abc&#39;], [2, &#39;def&#39;]])); // [[1, &#39;abc&#39;], [2, &#39;def&#39;]]// å¤©ç”Ÿçš„ç±»æ•°ç»„å¯¹è±¡argumentsfunction fn()&#123;  return Array.from(arguments);&#125;fn(1, 2, 3); // [1, 2, 3]123456789101112</code></pre><p>åˆ°è¿™ä½ å¯èƒ½ä»¥ä¸ºArray.fromå°±è®²å®Œäº†ï¼Œå®é™…ä¸Šè¿˜æœ‰ä¸€ä¸ªé‡è¦çš„æ‰©å±•åœºæ™¯å¿…é¡»æä¸‹ã€‚æ¯”å¦‚è¯´ç”Ÿæˆä¸€ä¸ªä»0åˆ°æŒ‡å®šæ•°å­—çš„æ–°æ•°ç»„ï¼ŒArray.fromå°±å¯ä»¥è½»æ˜“çš„åšåˆ°ã€‚</p><pre><code>Array.from(&#123;length: 10&#125;, (v, i) =&gt; i); // [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]1</code></pre><p>åé¢æˆ‘ä»¬å°†ä¼šçœ‹åˆ°ï¼Œåˆ©ç”¨æ•°ç»„çš„keysæ–¹æ³•å®ç°ä¸Šè¿°åŠŸèƒ½ï¼Œå¯èƒ½è¿˜è¦ç®€å•ä¸€äº›ã€‚</p><p>ç›®å‰ï¼Œä»¥ä¸‹ç‰ˆæœ¬æµè§ˆå™¨æä¾›äº†å¯¹Array.fromçš„æ”¯æŒã€‚</p><table><thead><tr><th align="center">Chrome</th><th align="center">Firefox</th><th align="center">Edge</th><th align="center">Opera</th><th align="center">Safari</th></tr></thead><tbody><tr><td align="center">45+</td><td align="center">32+</td><td align="center">âœ”ï¸</td><td align="center">âœ”ï¸</td><td align="center">9.0+</td></tr></tbody></table><h3 id="Array-isArray"><a href="#Array-isArray" class="headerlink" title="Array.isArray"></a><strong>Array.isArray</strong></h3><p>é¡¾åæ€ä¹‰ï¼ŒArray.isArrayç”¨æ¥åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦æ•°ç»„ç±»å‹ã€‚JSçš„å¼±ç±»å‹æœºåˆ¶å¯¼è‡´åˆ¤æ–­å˜é‡ç±»å‹æ˜¯åˆçº§å‰ç«¯å¼€å‘è€…é¢è¯•æ—¶çš„å¿…è€ƒé¢˜ï¼Œä¸€èˆ¬æˆ‘éƒ½ä¼šå°†å…¶ä½œä¸ºè€ƒå¯Ÿå€™é€‰äººç¬¬ä¸€é¢˜ï¼Œç„¶ååŸºäºæ­¤å±•å¼€ã€‚åœ¨ES5æä¾›è¯¥æ–¹æ³•ä¹‹å‰ï¼Œæˆ‘ä»¬è‡³å°‘æœ‰å¦‚ä¸‹5ç§æ–¹å¼å»åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦æ•°ç»„ï¼š</p><pre><code>var a = [];// 1.åŸºäºinstanceofa instanceof Array;// 2.åŸºäºconstructora.constructor === Array;// 3.åŸºäºObject.prototype.isPrototypeOfArray.prototype.isPrototypeOf(a);// 4.åŸºäºgetPrototypeOfObject.getPrototypeOf(a) === Array.prototype;// 5.åŸºäºObject.prototype.toStringObject.prototype.toString.apply(a) === &#39;[object Array]&#39;;1234567891011</code></pre><p>ä»¥ä¸Šï¼Œé™¤äº†<code>Object.prototype.toString</code>å¤–ï¼Œå…¶å®ƒæ–¹æ³•éƒ½ä¸èƒ½æ­£ç¡®åˆ¤æ–­å˜é‡çš„ç±»å‹ã€‚</p><p>è¦çŸ¥é“ï¼Œä»£ç çš„è¿è¡Œç¯å¢ƒååˆ†å¤æ‚ï¼Œä¸€ä¸ªå˜é‡å¯èƒ½ä½¿ç”¨æµ‘èº«è§£æ•°å»è¿·æƒ‘å®ƒçš„åˆ›é€ è€…ã€‚ä¸”çœ‹ï¼š</p><pre><code>var a = &#123;  __proto__: Array.prototype&#125;;// åˆ†åˆ«åœ¨æ§åˆ¶å°è¯•è¿è¡Œä»¥ä¸‹ä»£ç // 1.åŸºäºinstanceofa instanceof Array; // true// 2.åŸºäºconstructora.constructor === Array; // true// 3.åŸºäºObject.prototype.isPrototypeOfArray.prototype.isPrototypeOf(a); // true// 4.åŸºäºgetPrototypeOfObject.getPrototypeOf(a) === Array.prototype; // true123456789101112</code></pre><p>ä»¥ä¸Šï¼Œ4ç§æ–¹æ³•å°†å…¨éƒ¨è¿”å›<code>true</code>ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ä»¬åªæ˜¯æ‰‹åŠ¨æŒ‡å®šäº†æŸä¸ªå¯¹è±¡çš„<code>__proto__</code>å±æ€§ä¸º<code>Array.prototype</code>ï¼Œä¾¿å¯¼è‡´äº†è¯¥å¯¹è±¡ç»§æ‰¿äº†Arrayå¯¹è±¡ï¼Œè¿™ç§æ¯«ä¸è´Ÿè´£ä»»çš„ç»§æ‰¿æ–¹å¼ï¼Œä½¿å¾—åŸºäºç»§æ‰¿çš„åˆ¤æ–­æ–¹æ¡ˆç¬é—´åœŸå´©ç“¦è§£ã€‚</p><p>ä¸ä»…å¦‚æ­¤ï¼Œæˆ‘ä»¬è¿˜çŸ¥é“ï¼ŒArrayæ˜¯å †æ•°æ®ï¼Œå˜é‡æŒ‡å‘çš„åªæ˜¯å®ƒçš„å¼•ç”¨åœ°å€ï¼Œå› æ­¤æ¯ä¸ªé¡µé¢çš„Arrayå¯¹è±¡å¼•ç”¨çš„åœ°å€éƒ½æ˜¯ä¸ä¸€æ ·çš„ã€‚iframeä¸­å£°æ˜çš„æ•°ç»„ï¼Œå®ƒçš„æ„é€ å‡½æ•°æ˜¯iframeä¸­çš„Arrayå¯¹è±¡ã€‚å¦‚æœåœ¨iframeå£°æ˜äº†ä¸€ä¸ªæ•°ç»„<code>x</code>ï¼Œå°†å…¶èµ‹å€¼ç»™çˆ¶é¡µé¢çš„å˜é‡<code>y</code>ï¼Œé‚£ä¹ˆåœ¨çˆ¶é¡µé¢ä½¿ç”¨<code>y instanceof Array</code> ï¼Œç»“æœä¸€å®šæ˜¯<code>false</code>çš„ã€‚è€Œæœ€åä¸€ç§è¿”å›çš„æ˜¯å­—ç¬¦ä¸²ï¼Œä¸ä¼šå­˜åœ¨å¼•ç”¨é—®é¢˜ã€‚å®é™…ä¸Šï¼Œå¤šé¡µé¢æˆ–ç³»ç»Ÿä¹‹é—´çš„äº¤äº’åªæœ‰å­—ç¬¦ä¸²èƒ½å¤Ÿç•…è¡Œæ— é˜»ã€‚</p><p>é‰´äºä¸Šè¿°çš„ä¸¤ç‚¹åŸå› ï¼Œæ•…ç¬”è€…æ¨èä½¿ç”¨æœ€åä¸€ç§æ–¹æ³•å»æ’©é¢è¯•å®˜ï¼ˆåˆ«ææ˜¯æˆ‘è¯´çš„ï¼‰ï¼Œå¦‚æœä½ è¿˜ä¸ä¿¡ï¼Œè¿™é‡Œæ°å¥½æœ‰ç¯‡æ–‡ç« è·Ÿæˆ‘æŒæœ‰ç›¸åŒçš„è§‚ç‚¹ï¼š<a href="http://web.mit.edu/jwalden/www/isArray.html">Determining with absolute accuracy whether or not a JavaScript object is an array</a>ã€‚</p><p>ç›¸åï¼Œä½¿ç”¨Array.isArrayåˆ™éå¸¸ç®€å•ï¼Œå¦‚ä¸‹ï¼š</p><pre><code>Array.isArray([]); // trueArray.isArray(&#123;0: &#39;a&#39;, length: 1&#125;); // false12</code></pre><p>ç›®å‰ï¼Œä»¥ä¸‹ç‰ˆæœ¬æµè§ˆå™¨æä¾›äº†å¯¹Array.isArrayçš„æ”¯æŒã€‚</p><table><thead><tr><th align="center">Chrome</th><th align="center">Firefox</th><th align="center">IE</th><th align="center">Opera</th><th align="center">Safari</th></tr></thead><tbody><tr><td align="center">5+</td><td align="center">4+</td><td align="center">9+</td><td align="center">10.5+</td><td align="center">5+</td></tr></tbody></table><p>å®é™…ä¸Šï¼Œé€šè¿‡<code>Object.prototype.toString</code>å»åˆ¤æ–­ä¸€ä¸ªå€¼çš„ç±»å‹ï¼Œä¹Ÿæ˜¯å„å¤§ä¸»æµåº“çš„æ ‡å‡†ã€‚å› æ­¤Array.isArrayçš„polyfillé€šå¸¸é•¿è¿™æ ·ï¼š</p><pre><code>if (!Array.isArray)&#123;  Array.isArray = function(arg)&#123;    return Object.prototype.toString.call(arg) === &#39;[object Array]&#39;;  &#125;;&#125;12345</code></pre><h3 id="æ•°ç»„æ¨å¯¼"><a href="#æ•°ç»„æ¨å¯¼" class="headerlink" title="æ•°ç»„æ¨å¯¼"></a><strong>æ•°ç»„æ¨å¯¼</strong></h3><p>ES6å¯¹æ•°ç»„çš„å¢å¼ºä¸æ­¢æ˜¯ä½“ç°åœ¨apiä¸Šï¼Œè¿˜åŒ…æ‹¬è¯­æ³•ç³–ã€‚æ¯”å¦‚è¯´<code>for of</code>ï¼Œå®ƒå°±æ˜¯å€Ÿé‰´å…¶å®ƒè¯­è¨€è€Œæˆçš„è¯­æ³•ç³–ï¼Œè¿™ç§åŸºäºåŸæ•°ç»„ä½¿ç”¨<code>for of</code>ç”Ÿæˆæ–°æ•°ç»„çš„è¯­æ³•ç³–ï¼Œå«åš<strong>æ•°ç»„æ¨å¯¼</strong>ã€‚<strong>æ•°ç»„æ¨å¯¼æœ€åˆèµ·æ—©åœ¨ES6çš„è‰æ¡ˆä¸­ï¼Œä½†åœ¨ç¬¬27ç‰ˆï¼ˆ2014å¹´8æœˆï¼‰ä¸­è¢«ç§»é™¤ï¼Œç›®å‰åªæœ‰Firefox v30+æ”¯æŒï¼Œæ¨å¯¼æœ‰é£é™©ï¼Œä½¿ç”¨éœ€è°¨æ…ã€‚</strong>æ‰€å¹¸å¦‚ä»Šè¿™äº›è¯­è¨€éƒ½è¿˜æ”¯æŒæ¨å¯¼ï¼šCoffeeScriptã€Pythonã€Haskellã€Clojureï¼Œæˆ‘ä»¬å¯ä»¥ä»ä¸­ä¸€çª¥ç«¯å€ªã€‚è¿™é‡Œæˆ‘ä»¬ä»¥pythonçš„<code>for in</code>æ¨å¯¼æ‰“ä¸ªæ¯”æ–¹ï¼š</p><pre><code># python for in æ¨å¯¼a = [1, 2, 3, 4]print [i * i for i in a if i == 3] # [9]123</code></pre><p>å¦‚ä¸‹æ˜¯SpiderMonkeyå¼•æ“ï¼ˆFirefoxï¼‰ä¹‹å‰åŸºäºES4è§„èŒƒå®ç°çš„æ•°ç»„æ¨å¯¼(ä¸pythonçš„æ¨å¯¼ååˆ†ç›¸ä¼¼)ï¼š</p><pre><code>[i * i for (i of a)] // [1, 4, 9, 16]1</code></pre><p>ES6ä¸­æ•°ç»„æœ‰å…³çš„<code>for of</code>åœ¨ES4çš„åŸºç¡€ä¸Šè¿›ä¸€æ­¥æ¼”åŒ–ï¼Œforå…³é”®å­—å±…é¦–ï¼Œinåœ¨ä¸­é—´ï¼Œæœ€åæ‰æ˜¯è¿ç®—è¡¨è¾¾å¼ã€‚å¦‚ä¸‹ï¼š</p><pre><code>[for (i of [1, 2, 3, 4]) i * i] // [1, 4, 9, 16]1</code></pre><p>åŒpythonçš„ç¤ºä¾‹ï¼ŒES6ä¸­æ•°ç»„æœ‰å…³çš„<code>for of</code>ä¹Ÿå¯ä»¥ä½¿ç”¨ifè¯­å¥ï¼š</p><pre><code>// å•ä¸ªif[for (i of [1, 2, 3, 4]) if (i == 3) i * i] // [9]// ç”šè‡³æ˜¯å¤šä¸ªif[for (i of [1, 2, 3, 4]) if (i &gt; 2) if (i &lt; 4) i * i] // [9]1234</code></pre><p>æ›´ä¸ºå¼ºå¤§çš„æ˜¯ï¼ŒES6æ•°ç»„æ¨å¯¼è¿˜å…è®¸å¤šé‡<code>for of</code>ã€‚</p><pre><code>[for (i of [1, 2, 3]) for (j of [10, 100]) i * j] // [10, 100, 20, 200, 30, 300]1</code></pre><p>ç”šè‡³ï¼Œæ•°ç»„æ¨å¯¼è¿˜èƒ½å¤ŸåµŒå…¥å¦ä¸€ä¸ªæ•°ç»„æ¨å¯¼ä¸­ã€‚</p><pre><code>[for (i of [1, 2, 3]) [for (j of [10, 100]) i * j] ] // [[10, 100], [20, 200], [30, 300]]1</code></pre><p>å¯¹äºä¸Šè¿°ä¸¤ä¸ªè¡¨è¾¾å¼ï¼Œå‰è€…å’Œåè€…å”¯ä¸€çš„åŒºåˆ«ï¼Œå°±åœ¨äºåè€…çš„ç¬¬äºŒä¸ªæ¨å¯¼æ˜¯å…ˆè¿”å›æ•°ç»„ï¼Œç„¶åä¸å¤–éƒ¨çš„æ¨å¯¼å†è¿›è¡Œä¸€æ¬¡è¿ç®—ã€‚</p><p>é™¤äº†å¤šä¸ªæ•°ç»„æ¨å¯¼åµŒå¥—å¤–ï¼ŒES6çš„æ•°ç»„æ¨å¯¼è¿˜ä¼šä¸ºæ¯æ¬¡è¿­ä»£åˆ†é…ä¸€ä¸ªæ–°çš„ä½œç”¨åŸŸï¼ˆç›®å‰Firefoxä¹Ÿæ²¡æœ‰ä¸ºæ¯æ¬¡è¿­ä»£åˆ›å»ºæ–°çš„ä½œç”¨åŸŸï¼‰ï¼š</p><pre><code>// ES6è§„èŒƒ[for (x of [0, 1, 2]) () =&gt; x][0]() // 0// Firefoxè¿è¡Œ[for (x of [0, 1, 2]) () =&gt; x][0]() // 21234</code></pre><p>é€šè¿‡ä¸Šé¢çš„å®ä¾‹ï¼Œæˆ‘ä»¬çœ‹åˆ°ä½¿ç”¨æ•°ç»„æ¨å¯¼æ¥åˆ›å»ºæ–°æ•°ç»„æ¯”<code>forEach</code>ï¼Œ<code>map</code>ï¼Œ<code>filter</code>ç­‰éå†æ–¹æ³•æ›´åŠ ç®€æ´ï¼Œåªæ˜¯éå¸¸å¯æƒœï¼Œå®ƒä¸æ˜¯æ ‡å‡†è§„èŒƒã€‚</p><p>ES6ä¸ä»…æ–°å¢äº†å¯¹Arrayæ„é€ å™¨ç›¸å…³APIï¼Œè¿˜æ–°å¢äº†8ä¸ªåŸå‹çš„æ–¹æ³•ã€‚æ¥ä¸‹æ¥æˆ‘ä¼šåœ¨åŸå‹æ–¹æ³•çš„ä»‹ç»ä¸­ç©¿æ’ç€ES6ç›¸å…³æ–¹æ³•çš„è®²è§£ï¼Œè¯·è€å¿ƒå¾€ä¸‹è¯»ã€‚</p><h3 id="åŸå‹"><a href="#åŸå‹" class="headerlink" title="åŸå‹"></a><strong>åŸå‹</strong></h3><p>ç»§æ‰¿çš„å¸¸è¯†å‘Šè¯‰æˆ‘ä»¬ï¼Œjsä¸­æ‰€æœ‰çš„æ•°ç»„æ–¹æ³•å‡æ¥è‡ªäºArray.prototypeï¼Œå’Œå…¶ä»–æ„é€ å‡½æ•°ä¸€æ ·ï¼Œä½ å¯ä»¥é€šè¿‡æ‰©å±• <code>Array</code> çš„ <code>prototype</code> å±æ€§ä¸Šçš„æ–¹æ³•æ¥ç»™æ‰€æœ‰æ•°ç»„å®ä¾‹å¢åŠ æ–¹æ³•ã€‚</p><p>å€¼å¾—ä¸€è¯´çš„æ˜¯ï¼ŒArray.prototypeæœ¬èº«å°±æ˜¯ä¸€ä¸ªæ•°ç»„ã€‚</p><pre><code>Array.isArray(Array.prototype); // trueconsole.log(Array.prototype.length);// 012</code></pre><p>ä»¥ä¸‹æ–¹æ³•å¯ä»¥è¿›ä¸€æ­¥éªŒè¯ï¼š</p><pre><code>console.log([].__proto__.length);// 0console.log([].__proto__);// [Symbol(Symbol.unscopables): Object]12</code></pre><p>æœ‰å…³Symbol(Symbol.unscopables)çš„çŸ¥è¯†ï¼Œè¿™é‡Œä¸åšè¯¦è¿°ï¼Œå…·ä½“è¯·ç§»æ­¥åç»­ç« èŠ‚ã€‚</p><h3 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a><strong>æ–¹æ³•</strong></h3><p>æ•°ç»„åŸå‹æä¾›çš„æ–¹æ³•éå¸¸ä¹‹å¤šï¼Œä¸»è¦åˆ†ä¸ºä¸‰ç§ï¼Œä¸€ç§æ˜¯ä¼šæ”¹å˜è‡ªèº«å€¼çš„ï¼Œä¸€ç§æ˜¯ä¸ä¼šæ”¹å˜è‡ªèº«å€¼çš„ï¼Œå¦å¤–ä¸€ç§æ˜¯éå†æ–¹æ³•ã€‚</p><p>ç”±äº Array.prototype çš„æŸäº›å±æ€§è¢«è®¾ç½®ä¸º[[DontEnum]]ï¼Œå› æ­¤ä¸èƒ½ç”¨ä¸€èˆ¬çš„æ–¹æ³•è¿›è¡Œéå†ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼è·å– Array.prototype çš„æ‰€æœ‰æ–¹æ³•ï¼š</p><pre><code>Object.getOwnPropertyNames(Array.prototype); // [&quot;length&quot;, &quot;constructor&quot;, &quot;toString&quot;, &quot;toLocaleString&quot;, &quot;join&quot;, &quot;pop&quot;, &quot;push&quot;, &quot;reverse&quot;, &quot;shift&quot;, &quot;unshift&quot;, &quot;slice&quot;, &quot;splice&quot;, &quot;sort&quot;, &quot;filter&quot;, &quot;forEach&quot;, &quot;some&quot;, &quot;every&quot;, &quot;map&quot;, &quot;indexOf&quot;, &quot;lastIndexOf&quot;, &quot;reduce&quot;, &quot;reduceRight&quot;, &quot;copyWithin&quot;, &quot;find&quot;, &quot;findIndex&quot;, &quot;fill&quot;, &quot;includes&quot;, &quot;entries&quot;, &quot;keys&quot;, &quot;concat&quot;]1</code></pre><h4 id="æ”¹å˜è‡ªèº«å€¼çš„æ–¹æ³•-9ä¸ª"><a href="#æ”¹å˜è‡ªèº«å€¼çš„æ–¹æ³•-9ä¸ª" class="headerlink" title="æ”¹å˜è‡ªèº«å€¼çš„æ–¹æ³•(9ä¸ª)"></a><strong>æ”¹å˜è‡ªèº«å€¼çš„æ–¹æ³•(9ä¸ª)</strong></h4><p>åŸºäºES6ï¼Œæ”¹å˜è‡ªèº«å€¼çš„æ–¹æ³•ä¸€å…±æœ‰9ä¸ªï¼Œåˆ†åˆ«ä¸ºpopã€pushã€reverseã€shiftã€sortã€spliceã€unshiftï¼Œä»¥åŠä¸¤ä¸ªES6æ–°å¢çš„æ–¹æ³•copyWithin å’Œ fillã€‚</p><p>å¯¹äºèƒ½æ”¹å˜è‡ªèº«å€¼çš„æ•°ç»„æ–¹æ³•ï¼Œæ—¥å¸¸å¼€å‘ä¸­éœ€è¦ç‰¹åˆ«æ³¨æ„ï¼Œå°½é‡é¿å…åœ¨å¾ªç¯éå†ä¸­å»æ”¹å˜åŸæ•°ç»„çš„é¡¹ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥æ·±å…¥åœ°äº†è§£è¿™äº›æ–¹æ³•ã€‚</p><h5 id="pop"><a href="#pop" class="headerlink" title="pop"></a><strong>pop</strong></h5><p>pop() æ–¹æ³•åˆ é™¤ä¸€ä¸ªæ•°ç»„ä¸­çš„æœ€åçš„ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶ä¸”è¿”å›è¿™ä¸ªå…ƒç´ ã€‚å¦‚æœæ˜¯æ ˆçš„è¯ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯æ ˆé¡¶å¼¹å‡ºã€‚</p><pre><code>var array = [&quot;cat&quot;, &quot;dog&quot;, &quot;cow&quot;, &quot;chicken&quot;, &quot;mouse&quot;];var item = array.pop();console.log(array); // [&quot;cat&quot;, &quot;dog&quot;, &quot;cow&quot;, &quot;chicken&quot;]console.log(item); // mouse1234</code></pre><p>ç”±äºè®¾è®¡ä¸Šçš„å·§å¦™ï¼Œpopæ–¹æ³•å¯ä»¥åº”ç”¨åœ¨ç±»æ•°ç»„å¯¹è±¡ä¸Šï¼Œå³ <code>é¸­å¼è¾¨å‹</code>. å¦‚ä¸‹ï¼š</p><pre><code>var o = &#123;0:&quot;cat&quot;, 1:&quot;dog&quot;, 2:&quot;cow&quot;, 3:&quot;chicken&quot;, 4:&quot;mouse&quot;, length:5&#125;var item = Array.prototype.pop.call(o);console.log(o); // Object &#123;0: &quot;cat&quot;, 1: &quot;dog&quot;, 2: &quot;cow&quot;, 3: &quot;chicken&quot;, length: 4&#125;console.log(item); // mouse1234</code></pre><p>ä½†å¦‚æœç±»æ•°ç»„å¯¹è±¡ä¸å…·æœ‰lengthå±æ€§ï¼Œé‚£ä¹ˆè¯¥å¯¹è±¡å°†è¢«åˆ›å»ºlengthå±æ€§ï¼Œlengthå€¼ä¸º0ã€‚å¦‚ä¸‹ï¼š</p><pre><code>var o = &#123;0:&quot;cat&quot;, 1:&quot;dog&quot;, 2:&quot;cow&quot;, 3:&quot;chicken&quot;, 4:&quot;mouse&quot;&#125;var item = Array.prototype.pop.call(o);console.log(array); // Object &#123;0: &quot;cat&quot;, 1: &quot;dog&quot;, 2: &quot;cow&quot;, 3: &quot;chicken&quot;, 4: &quot;mouse&quot;, length: 0&#125;console.log(item); // undefined1234</code></pre><h5 id="push"><a href="#push" class="headerlink" title="push"></a><strong>push</strong></h5><p>push()æ–¹æ³•æ·»åŠ ä¸€ä¸ªæˆ–è€…å¤šä¸ªå…ƒç´ åˆ°æ•°ç»„æœ«å°¾ï¼Œå¹¶ä¸”è¿”å›æ•°ç»„æ–°çš„é•¿åº¦ã€‚å¦‚æœæ˜¯æ ˆçš„è¯ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯æ ˆé¡¶å‹å…¥ã€‚</p><p>è¯­æ³•ï¼š<em>arr.push(element1, â€¦, elementN)</em></p><pre><code>var array = [&quot;football&quot;, &quot;basketball&quot;, &quot;volleyball&quot;, &quot;Table tennis&quot;, &quot;badminton&quot;];var i = array.push(&quot;golfball&quot;);console.log(array); // [&quot;football&quot;, &quot;basketball&quot;, &quot;volleyball&quot;, &quot;Table tennis&quot;, &quot;badminton&quot;, &quot;golfball&quot;]console.log(i); // 61234</code></pre><p>åŒpopæ–¹æ³•ä¸€æ ·ï¼Œpushæ–¹æ³•ä¹Ÿå¯ä»¥åº”ç”¨åˆ°ç±»æ•°ç»„å¯¹è±¡ä¸Šï¼Œå¦‚æœlengthä¸èƒ½è¢«è½¬æˆä¸€ä¸ªæ•°å€¼æˆ–è€…ä¸å­˜åœ¨lengthå±æ€§æ—¶ï¼Œåˆ™æ’å…¥çš„å…ƒç´ ç´¢å¼•ä¸º0ï¼Œä¸”lengthå±æ€§ä¸å­˜åœ¨æ—¶ï¼Œå°†ä¼šåˆ›å»ºå®ƒã€‚</p><pre><code>var o = &#123;0:&quot;football&quot;, 1:&quot;basketball&quot;&#125;;var i = Array.prototype.push.call(o, &quot;golfball&quot;);console.log(o); // Object &#123;0: &quot;golfball&quot;, 1: &quot;basketball&quot;, length: 1&#125;console.log(i); // 11234</code></pre><p>å®é™…ä¸Šï¼Œpushæ–¹æ³•æ˜¯æ ¹æ®lengthå±æ€§æ¥å†³å®šä»å“ªé‡Œå¼€å§‹æ’å…¥ç»™å®šçš„å€¼ã€‚</p><pre><code>var o = &#123;0:&quot;football&quot;, 1:&quot;basketball&quot;,length:1&#125;;var i = Array.prototype.push.call(o,&quot;golfball&quot;);console.log(o); // Object &#123;0: &quot;football&quot;, 1: &quot;golfball&quot;, length: 2&#125;console.log(i); // 21234</code></pre><p>åˆ©ç”¨pushæ ¹æ®lengthå±æ€§æ’å…¥å…ƒç´ è¿™ä¸ªç‰¹ç‚¹ï¼Œå¯ä»¥å®ç°æ•°ç»„çš„åˆå¹¶ï¼Œå¦‚ä¸‹ï¼š</p><pre><code>var array = [&quot;football&quot;, &quot;basketball&quot;];var array2 = [&quot;volleyball&quot;, &quot;golfball&quot;];var i = Array.prototype.push.apply(array,array2);console.log(array); // [&quot;football&quot;, &quot;basketball&quot;, &quot;volleyball&quot;, &quot;golfball&quot;]console.log(i); // 412345</code></pre><h5 id="reverse"><a href="#reverse" class="headerlink" title="reverse"></a><strong>reverse</strong></h5><p>reverse()æ–¹æ³•é¢ å€’æ•°ç»„ä¸­å…ƒç´ çš„ä½ç½®ï¼Œç¬¬ä¸€ä¸ªä¼šæˆä¸ºæœ€åä¸€ä¸ªï¼Œæœ€åä¸€ä¸ªä¼šæˆä¸ºç¬¬ä¸€ä¸ªï¼Œè¯¥æ–¹æ³•è¿”å›å¯¹æ•°ç»„çš„å¼•ç”¨ã€‚</p><p>è¯­æ³•ï¼š<em>arr.reverse()</em></p><pre><code>var array = [1,2,3,4,5];var array2 = array.reverse();console.log(array); // [5,4,3,2,1]console.log(array2===array); // true1234</code></pre><p>åŒä¸Šï¼Œreverse ä¹Ÿæ˜¯é¸­å¼è¾¨å‹çš„å—ç›Šè€…ï¼Œé¢ å€’å…ƒç´ çš„èŒƒå›´å—lengthå±æ€§åˆ¶çº¦ã€‚å¦‚ä¸‹:</p><pre><code>var o = &#123;0:&quot;a&quot;, 1:&quot;b&quot;, 2:&quot;c&quot;, length:2&#125;;var o2 = Array.prototype.reverse.call(o);console.log(o); // Object &#123;0: &quot;b&quot;, 1: &quot;a&quot;, 2: &quot;c&quot;, length: 2&#125;console.log(o === o2); // true1234</code></pre><p>å¦‚æœ length å±æ€§å°äº2 æˆ–è€… length å±æ€§ä¸ä¸ºæ•°å€¼ï¼Œé‚£ä¹ˆåŸç±»æ•°ç»„å¯¹è±¡å°†æ²¡æœ‰å˜åŒ–ã€‚å³ä½¿ length å±æ€§ä¸å­˜åœ¨ï¼Œè¯¥å¯¹è±¡ä¹Ÿä¸ä¼šå»åˆ›å»º length å±æ€§ã€‚ç‰¹åˆ«çš„æ˜¯ï¼Œå½“ length å±æ€§è¾ƒå¤§æ—¶ï¼Œç±»æ•°ç»„å¯¹è±¡çš„ã€ç´¢å¼•ã€ä¼šå°½å¯èƒ½çš„å‘ length çœ‹é½ã€‚å¦‚ä¸‹:</p><pre><code>var o = &#123;0:&quot;a&quot;, 1:&quot;b&quot;, 2:&quot;c&quot;,length:100&#125;;var o2 = Array.prototype.reverse.call(o);console.log(o); // Object &#123;97: &quot;c&quot;, 98: &quot;b&quot;, 99: &quot;a&quot;, length: 100&#125;console.log(o === o2); // true1234</code></pre><h5 id="shift"><a href="#shift" class="headerlink" title="shift"></a><strong>shift</strong></h5><p>shift()æ–¹æ³•åˆ é™¤æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›è¿™ä¸ªå…ƒç´ ã€‚å¦‚æœæ˜¯æ ˆçš„è¯ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯æ ˆåº•å¼¹å‡ºã€‚</p><p>è¯­æ³•ï¼š<em>arr.shift()</em></p><pre><code>var array = [1,2,3,4,5];var item = array.shift();console.log(array); // [2,3,4,5]console.log(item); // 11234</code></pre><p>åŒæ ·å—ç›Šäºé¸­å¼è¾¨å‹ï¼Œå¯¹äºç±»æ•°ç»„å¯¹è±¡ï¼Œshiftä»ç„¶èƒ½å¤Ÿå¤„ç†ã€‚å¦‚ä¸‹ï¼š</p><pre><code>var o = &#123;0:&quot;a&quot;, 1:&quot;b&quot;, 2:&quot;c&quot;, length:3&#125;;var item = Array.prototype.shift.call(o);console.log(o); // Object &#123;0: &quot;b&quot;, 1: &quot;c&quot;, length: 2&#125;console.log(item); // a1234</code></pre><p>å¦‚æœç±»æ•°ç»„å¯¹è±¡lengthå±æ€§ä¸å­˜åœ¨ï¼Œå°†æ·»åŠ lengthå±æ€§ï¼Œå¹¶åˆå§‹åŒ–ä¸º0ã€‚å¦‚ä¸‹ï¼š</p><pre><code>var o = &#123;0:&quot;a&quot;, 1:&quot;b&quot;, 2:&quot;c&quot;&#125;;var item = Array.prototype.shift.call(o);console.log(o); // Object &#123;0: &quot;a&quot;, 1: &quot;b&quot;, 2:&quot;c&quot; length: 0&#125;console.log(item); // undefined1234</code></pre><h5 id="sort"><a href="#sort" class="headerlink" title="sort"></a><strong>sort</strong></h5><p>sort()æ–¹æ³•å¯¹æ•°ç»„å…ƒç´ è¿›è¡Œæ’åºï¼Œå¹¶è¿”å›è¿™ä¸ªæ•°ç»„ã€‚sortæ–¹æ³•æ¯”è¾ƒå¤æ‚ï¼Œè¿™é‡Œæˆ‘å°†å¤šèŠ±äº›ç¯‡å¹…æ¥è®²è¿™å—ã€‚</p><p>è¯­æ³•ï¼š<em>arr.sort([comparefn])</em></p><p>comparefnæ˜¯å¯é€‰çš„ï¼Œå¦‚æœçœç•¥ï¼Œæ•°ç»„å…ƒç´ å°†æŒ‰ç…§å„è‡ªè½¬æ¢ä¸ºå­—ç¬¦ä¸²çš„Unicode(ä¸‡å›½ç )ä½ç‚¹é¡ºåºæ’åºï¼Œä¾‹å¦‚â€Boyâ€å°†æ’åˆ°â€appleâ€ä¹‹å‰ã€‚å½“å¯¹æ•°å­—æ’åºçš„æ—¶å€™ï¼Œ25å°†ä¼šæ’åˆ°8ä¹‹å‰ï¼Œå› ä¸ºè½¬æ¢ä¸ºå­—ç¬¦ä¸²åï¼Œâ€25â€å°†æ¯”â€8â€é å‰ã€‚ä¾‹å¦‚ï¼š</p><pre><code>var array = [&quot;apple&quot;,&quot;Boy&quot;,&quot;Cat&quot;,&quot;dog&quot;];var array2 = array.sort();console.log(array); // [&quot;Boy&quot;, &quot;Cat&quot;, &quot;apple&quot;, &quot;dog&quot;]console.log(array2 == array); // truearray = [10, 1, 3, 20];var array3 = array.sort();console.log(array3); // [1, 10, 20, 3]12345678</code></pre><p>å¦‚æœæŒ‡æ˜äº†comparefnï¼Œæ•°ç»„å°†æŒ‰ç…§è°ƒç”¨è¯¥å‡½æ•°çš„è¿”å›å€¼æ¥æ’åºã€‚è‹¥ a å’Œ b æ˜¯ä¸¤ä¸ªå°†è¦æ¯”è¾ƒçš„å…ƒç´ ï¼š</p><ul><li>è‹¥ comparefn(a, b) &lt; 0ï¼Œé‚£ä¹ˆa å°†æ’åˆ° b å‰é¢ï¼›</li><li>è‹¥ comparefn(a, b) = 0ï¼Œé‚£ä¹ˆa å’Œ b ç›¸å¯¹ä½ç½®ä¸å˜ï¼›</li><li>è‹¥ comparefn(a, b) &gt; 0ï¼Œé‚£ä¹ˆa , b å°†è°ƒæ¢ä½ç½®ï¼›</li></ul><p>å¦‚æœæ•°ç»„å…ƒç´ ä¸ºæ•°å­—ï¼Œåˆ™æ’åºå‡½æ•°comparefnæ ¼å¼å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>function compare(a, b)&#123;  return a-b;&#125;123</code></pre><p>å¦‚æœæ•°ç»„å…ƒç´ ä¸ºéASCIIå­—ç¬¦çš„å­—ç¬¦ä¸²(å¦‚åŒ…å«ç±»ä¼¼ eã€Ã©ã€Ã¨ã€aã€Ã¤ æˆ–ä¸­æ–‡å­—ç¬¦ç­‰éè‹±æ–‡å­—ç¬¦çš„å­—ç¬¦ä¸²)ï¼Œåˆ™éœ€è¦ä½¿ç”¨String.localeCompareã€‚ä¸‹é¢è¿™ä¸ªå‡½æ•°å°†æ’åˆ°æ­£ç¡®çš„é¡ºåºã€‚</p><pre><code>var array = [&#39;äº’&#39;,&#39;è”&#39;,&#39;ç½‘&#39;,&#39;æ”¹&#39;,&#39;å˜&#39;,&#39;ä¸–&#39;,&#39;ç•Œ&#39;];var array2 = array.sort();var array = [&#39;äº’&#39;,&#39;è”&#39;,&#39;ç½‘&#39;,&#39;æ”¹&#39;,&#39;å˜&#39;,&#39;ä¸–&#39;,&#39;ç•Œ&#39;]; // é‡æ–°èµ‹å€¼,é¿å…å¹²æ‰°array2var array3 = array.sort(function (a, b) &#123;  return a.localeCompare(b);&#125;);console.log(array2); // [&quot;ä¸–&quot;, &quot;äº’&quot;, &quot;å˜&quot;, &quot;æ”¹&quot;, &quot;ç•Œ&quot;, &quot;ç½‘&quot;, &quot;è”&quot;]console.log(array3); // [&quot;å˜&quot;, &quot;æ”¹&quot;, &quot;äº’&quot;, &quot;ç•Œ&quot;, &quot;è”&quot;, &quot;ä¸–&quot;, &quot;ç½‘&quot;]12345678910</code></pre><p>å¦‚ä¸Šï¼Œã€äº’è”ç½‘æ”¹å˜ä¸–ç•Œã€è¿™ä¸ªæ•°ç»„ï¼Œsortå‡½æ•°é»˜è®¤æŒ‰ç…§æ•°ç»„å…ƒç´ unicodeå­—ç¬¦ä¸²å½¢å¼è¿›è¡Œæ’åºï¼Œç„¶è€Œå®é™…ä¸Šï¼Œæˆ‘ä»¬æœŸæœ›çš„æ˜¯æŒ‰ç…§æ‹¼éŸ³å…ˆåé¡ºåºè¿›è¡Œæ’åºï¼Œæ˜¾ç„¶String.localeCompare å¸®åŠ©æˆ‘ä»¬è¾¾åˆ°äº†è¿™ä¸ªç›®çš„ã€‚</p><p>ä¸ºä»€ä¹ˆä¸Šé¢æµ‹è¯•ä¸­éœ€è¦é‡æ–°ç»™arrayèµ‹å€¼å‘¢ï¼Œè¿™æ˜¯å› ä¸ºsortæ¯æ¬¡æ’åºæ—¶æ”¹å˜çš„æ˜¯æ•°ç»„æœ¬èº«ï¼Œå¹¶ä¸”è¿”å›æ•°ç»„å¼•ç”¨ã€‚å¦‚æœä¸è¿™ä¹ˆåšï¼Œç»è¿‡è¿ç»­ä¸¤æ¬¡æ’åºåï¼Œarray2 å’Œ array3 å°†æŒ‡å‘åŒä¸€ä¸ªæ•°ç»„ï¼Œæœ€ç»ˆå½±å“æˆ‘ä»¬æµ‹è¯•ã€‚arrayé‡æ–°èµ‹å€¼åå°±æ–­å¼€äº†å¯¹åŸæ•°ç»„çš„å¼•ç”¨ã€‚</p><p>åŒä¸Šï¼Œsortä¸€æ ·å—ç›Šäºé¸­å¼è¾¨å‹ï¼Œæ¯”å¦‚ï¼š</p><pre><code>var o = &#123;0:&#39;äº’&#39;,1:&#39;è”&#39;,2:&#39;ç½‘&#39;,3:&#39;æ”¹&#39;,4:&#39;å˜&#39;,5:&#39;ä¸–&#39;,6:&#39;ç•Œ&#39;,length:7&#125;;Array.prototype.sort.call(o,function(a, b)&#123;  return a.localeCompare(b);&#125;);console.log(o); // Object &#123;0: &quot;å˜&quot;, 1: &quot;æ”¹&quot;, 2: &quot;äº’&quot;, 3: &quot;ç•Œ&quot;, 4: &quot;è”&quot;, 5: &quot;ä¸–&quot;, 6: &quot;ç½‘&quot;, length: 7&#125;, å¯è§åŒä¸Šè¿°æ’åºç»“æœä¸€è‡´12345</code></pre><p>æ³¨æ„ï¼šä½¿ç”¨sortçš„é¸­å¼è¾¨å‹ç‰¹æ€§æ—¶ï¼Œè‹¥ç±»æ•°ç»„å¯¹è±¡ä¸å…·æœ‰lengthå±æ€§ï¼Œå®ƒå¹¶ä¸ä¼šè¿›è¡Œæ’åºï¼Œä¹Ÿä¸ä¼šä¸ºå…¶æ·»åŠ lengthå±æ€§ã€‚</p><pre><code>var o = &#123;0:&#39;äº’&#39;,1:&#39;è”&#39;,2:&#39;ç½‘&#39;,3:&#39;æ”¹&#39;,4:&#39;å˜&#39;,5:&#39;ä¸–&#39;,6:&#39;ç•Œ&#39;&#125;;Array.prototype.sort.call(o,function(a, b)&#123;  return a.localeCompare(b);&#125;);console.log(o); // Object &#123;0: &quot;äº’&quot;, 1: &quot;è”&quot;, 2: &quot;ç½‘&quot;, 3: &quot;æ”¹&quot;, 4: &quot;å˜&quot;, 5: &quot;ä¸–&quot;, 6: &quot;ç•Œ&quot;&#125;, å¯è§å¹¶æœªæ·»åŠ lengthå±æ€§12345</code></pre><h6 id="ä½¿ç”¨æ˜ å°„æ”¹å–„æ’åº"><a href="#ä½¿ç”¨æ˜ å°„æ”¹å–„æ’åº" class="headerlink" title="ä½¿ç”¨æ˜ å°„æ”¹å–„æ’åº"></a><strong>ä½¿ç”¨æ˜ å°„æ”¹å–„æ’åº</strong></h6><p>comparefn å¦‚æœéœ€è¦å¯¹æ•°ç»„å…ƒç´ å¤šæ¬¡è½¬æ¢ä»¥å®ç°æ’åºï¼Œé‚£ä¹ˆä½¿ç”¨mapè¾…åŠ©æ’åºå°†æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ã€‚åŸºæœ¬æ€æƒ³å°±æ˜¯å°†æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ å®é™…æ¯”è¾ƒçš„å€¼å–å‡ºæ¥ï¼Œæ’åºåå†å°†æ•°ç»„æ¢å¤ã€‚</p><pre><code>// éœ€è¦è¢«æ’åºçš„æ•°ç»„var array = [&#39;dog&#39;, &#39;Cat&#39;, &#39;Boy&#39;, &#39;apple&#39;];// å¯¹éœ€è¦æ’åºçš„æ•°å­—å’Œä½ç½®çš„ä¸´æ—¶å­˜å‚¨var mapped = array.map(function(el, i) &#123;  return &#123; index: i, value: el.toLowerCase() &#125;;&#125;)// æŒ‰ç…§å¤šä¸ªå€¼æ’åºæ•°ç»„mapped.sort(function(a, b) &#123;  return +(a.value &gt; b.value) || +(a.value === b.value) - 1;&#125;);// æ ¹æ®ç´¢å¼•å¾—åˆ°æ’åºçš„ç»“æœvar result = mapped.map(function(el)&#123;  return array[el.index];&#125;);console.log(result); // [&quot;apple&quot;, &quot;Boy&quot;, &quot;Cat&quot;, &quot;dog&quot;]123456789101112131415</code></pre><h6 id="å¥‡æ€ªçš„chrome"><a href="#å¥‡æ€ªçš„chrome" class="headerlink" title="å¥‡æ€ªçš„chrome"></a><strong>å¥‡æ€ªçš„chrome</strong></h6><p>å®é™…ä¸Šï¼ŒECMAscriptè§„èŒƒä¸­å¹¶æœªè§„å®šå…·ä½“çš„sortç®—æ³•ï¼Œè¿™å°±åŠ¿å¿…å¯¼è‡´å„ä¸ªæµè§ˆå™¨ä¸å°½ç›¸åŒçš„sortç®—æ³•ï¼Œè¯·çœ‹sortæ–¹æ³•åœ¨Chromeæµè§ˆå™¨ä¸‹è¡¨ç°ï¼š</p><pre><code>var array = [&#123; n: &quot;a&quot;, v: 1 &#125;, &#123; n: &quot;b&quot;, v: 1 &#125;, &#123; n: &quot;c&quot;, v: 1 &#125;, &#123; n: &quot;d&quot;, v: 1 &#125;, &#123; n: &quot;e&quot;, v: 1 &#125;, &#123; n: &quot;f&quot;, v: 1 &#125;, &#123; n: &quot;g&quot;, v: 1 &#125;, &#123; n: &quot;h&quot;, v: 1 &#125;, &#123; n: &quot;i&quot;, v: 1 &#125;, &#123; n: &quot;j&quot;, v: 1 &#125;, &#123; n: &quot;k&quot;, v: 1 &#125;, ];array.sort(function (a, b) &#123;    return a.v - b.v;&#125;);for (var i = 0,len = array.length; i &lt; len; i++) &#123;    console.log(array[i].n);&#125;// f a c d e b g h i j k12345678</code></pre><p>ç”±äºvå€¼ç›¸ç­‰ï¼Œarrayæ•°ç»„æ’åºå‰ååº”è¯¥ä¸å˜ï¼Œç„¶è€ŒChromeå´è¡¨ç°å¼‚å¸¸ï¼Œè€Œå…¶ä»–æµè§ˆå™¨(å¦‚IE æˆ– Firefox) è¡¨ç°æ­£å¸¸ã€‚</p><p>è¿™æ˜¯å› ä¸ºv8å¼•æ“ä¸ºäº†é«˜æ•ˆæ’åº(é‡‡ç”¨äº†ä¸ç¨³å®šæ’åº)ã€‚å³æ•°ç»„é•¿åº¦è¶…è¿‡10æ¡æ—¶ï¼Œä¼šè°ƒç”¨å¦ä¸€ç§æ’åºæ–¹æ³•(å¿«é€Ÿæ’åº)ï¼›è€Œ10æ¡åŠä»¥ä¸‹é‡‡ç”¨çš„æ˜¯æ’å…¥æ’åºï¼Œæ­¤æ—¶ç»“æœå°†æ˜¯ç¨³å®šçš„ï¼Œå¦‚ä¸‹ï¼š</p><pre><code>var array = [&#123; n: &quot;a&quot;, v: 1 &#125;, &#123; n: &quot;b&quot;, v: 1 &#125;, &#123; n: &quot;c&quot;, v: 1 &#125;, &#123; n: &quot;d&quot;, v: 1 &#125;, &#123; n: &quot;e&quot;, v: 1 &#125;, &#123; n: &quot;f&quot;, v: 1 &#125;, &#123; n: &quot;g&quot;, v: 1 &#125;, &#123; n: &quot;h&quot;, v: 1 &#125;, &#123; n: &quot;i&quot;, v: 1 &#125;, &#123; n: &quot;j&quot;, v: 1 &#125;,];array.sort(function (a, b) &#123;  return a.v - b.v;&#125;);for (var i = 0,len = array.length; i &lt; len; i++) &#123;  console.log(array[i].n);&#125;// a b c d e f g h i j12345678</code></pre><p>ä»a åˆ° j åˆšå¥½10æ¡æ•°æ®ã€‚</p><p>é‚£ä¹ˆæˆ‘ä»¬è¯¥å¦‚ä½•è§„é¿Chromeæµè§ˆå™¨çš„è¿™ç§â€bugâ€å‘¢ï¼Ÿå…¶å®å¾ˆç®€å•ï¼Œåªéœ€ç•¥åŠ¨æ‰‹è„šï¼Œæ”¹å˜æ’åºæ–¹æ³•çš„è¿”å›å€¼å³å¯ï¼Œå¦‚ä¸‹ï¼š</p><pre><code>// ç”±äºå¿«é€Ÿæ’åºä¼šæ‰“ä¹±å€¼ç›¸åŒçš„å…ƒç´ çš„é»˜è®¤æ’åºï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å…ˆæ ‡è®°å…ƒç´ çš„é»˜è®¤ä½ç½®array.forEach(function(v, k)&#123;  v.__index = k;&#125;);array.sort(function (a, b) &#123;  // ç”±äº__indexæ ‡è®°äº†åˆå§‹é¡ºåºï¼Œè¿™æ ·çš„è¿”å›æ‰ä¿è¯äº†å€¼ç›¸åŒå…ƒç´ çš„é¡ºåºä¸å˜ï¼Œè¿›è€Œä½¿å¾—æ’åºç¨³å®š  return a.v - b.v || a.__index - b.__index;&#125;);12345678</code></pre><p>ä½¿ç”¨æ•°ç»„çš„sortæ–¹æ³•éœ€è¦æ³¨æ„ä¸€ç‚¹ï¼šå„æµè§ˆå™¨çš„é’ˆå¯¹sortæ–¹æ³•å†…éƒ¨ç®—æ³•å®ç°ä¸å°½ç›¸åŒï¼Œæ’åºå‡½æ•°å°½é‡åªè¿”å›-1ã€0ã€1ä¸‰ç§ä¸åŒçš„å€¼ï¼Œä¸è¦å°è¯•è¿”å›trueæˆ–falseç­‰å…¶å®ƒæ•°å€¼ï¼Œå› ä¸ºå¯èƒ½å¯¼è‡´ä¸å¯é çš„æ’åºç»“æœã€‚</p><h6 id="é—®é¢˜åˆ†æ"><a href="#é—®é¢˜åˆ†æ" class="headerlink" title="é—®é¢˜åˆ†æ"></a><strong>é—®é¢˜åˆ†æ</strong></h6><p>sortæ–¹æ³•ä¼ å…¥çš„æ’åºå‡½æ•°å¦‚æœè¿”å›å¸ƒå°”å€¼ä¼šå¯¼è‡´ä»€ä¹ˆæ ·çš„ç»“æœå‘¢ï¼Ÿ</p><p>ä»¥ä¸‹æ˜¯å¸¸è§çš„æµè§ˆå™¨ä»¥åŠè„šæœ¬å¼•æ“ï¼š</p><table><thead><tr><th align="left">Browser Name</th><th align="left">ECMAScript Engine</th></tr></thead><tbody><tr><td align="left">Internet Explorer 6 - 8</td><td align="left">JScript</td></tr><tr><td align="left">Internet Explorer 9 - 10</td><td align="left">Chakra</td></tr><tr><td align="left">Firefox</td><td align="left">SpiderMonkey, IonMonkey, TraceMonkey</td></tr><tr><td align="left">Chrome</td><td align="left">V8</td></tr><tr><td align="left">Safair</td><td align="left">JavaScriptCore(SquirrelFish Extreme)</td></tr><tr><td align="left">Opera</td><td align="left">Carakan</td></tr></tbody></table><p>åˆ†æä»¥ä¸‹ä»£ç ï¼Œé¢„æœŸå°†æ•°ç»„å…ƒç´ è¿›è¡Œå‡åºæ’åºï¼š</p><pre><code>var array = [7, 6, 5, 4, 3, 2, 1, 0, 8, 9];var comparefn = function (x, y) &#123;  return x &gt; y;&#125;;array.sort(comparefn);12345</code></pre><p>ä»£ç ä¸­ï¼Œcomparefn å‡½æ•°è¿”å›å€¼ä¸º bool ç±»å‹ï¼Œå¹¶éä¸ºè§„èŒƒè§„å®šçš„ -1ã€0ã€1 å€¼ã€‚é‚£ä¹ˆæ‰§è¡Œæ­¤ä»£ç ï¼Œå„ JS è„šæœ¬å¼•æ“å®ç°æƒ…å†µå¦‚ä½•ï¼Ÿ</p><table><thead><tr><th align="left"></th><th align="left">è¾“å‡ºç»“æœ</th><th align="left">æ˜¯å¦ç¬¦åˆé¢„æœŸ</th></tr></thead><tbody><tr><td align="left">JScript</td><td align="left">[2, 3, 5, 1, 4, 6, 7, 0, 8, 9]</td><td align="left">å¦</td></tr><tr><td align="left">Carakan</td><td align="left">[0, 1, 3, 8, 2, 4, 9, 5, 6, 7]</td><td align="left">å¦</td></tr><tr><td align="left">Chakra &amp; JavaScriptCore</td><td align="left">[7, 6, 5, 4, 3, 2, 1, 0, 8, 9]</td><td align="left">å¦</td></tr><tr><td align="left">SpiderMonkey</td><td align="left">[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</td><td align="left">æ˜¯</td></tr><tr><td align="left">V8</td><td align="left">[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</td><td align="left">æ˜¯</td></tr></tbody></table><p><strong>æ ¹æ®è¡¨ä¸­æ•°æ®å¯è§ï¼Œå½“æ•°ç»„å†…å…ƒç´ ä¸ªæ•°å°äºç­‰äº 10 æ—¶ï¼Œç°è±¡å¦‚ä¸‹ï¼š</strong></p><ul><li>JScript &amp; Carakan æ’åºç»“æœæœ‰è¯¯</li><li>Chakra &amp; JavaScriptCore çœ‹èµ·æ¥æ²¡æœ‰è¿›è¡Œæ’åº</li><li>SpiderMonkey è¿”å›äº†é¢„æœŸçš„æ­£ç¡®ç»“æœ</li><li>V8 æš‚æ—¶çœ‹èµ·æ¥æ’åºæ­£ç¡®</li></ul><p><strong>å°†æ•°ç»„å…ƒç´ æ‰©å¤§è‡³ 11 ä½ï¼Œç°è±¡å¦‚ä¸‹ï¼š</strong></p><pre><code>var array = [7, 6, 5, 4, 3, 2, 1, 0, 10, 9, 8];var comparefn = function (x, y) &#123;  return x &gt; y;&#125;;array.sort(comparefn);12345</code></pre><table><thead><tr><th align="left">JavaScriptå¼•æ“</th><th align="left">è¾“å‡ºç»“æœ</th><th align="left">æ˜¯å¦ç¬¦åˆé¢„æœŸ</th></tr></thead><tbody><tr><td align="left">JScript</td><td align="left">[2, 3, 5, 1, 4, 6, 7, 0, 8, 9, 10]</td><td align="left">å¦</td></tr><tr><td align="left">Carakan</td><td align="left">[0, 1, 3, 8, 2, 4, 9, 5, 10, 6, 7]</td><td align="left">å¦</td></tr><tr><td align="left">Chakra &amp; JavaScriptCore</td><td align="left">[7, 6, 5, 4, 3, 2, 1, 0, 10, 8, 9]</td><td align="left">å¦</td></tr><tr><td align="left">IonMonkey</td><td align="left">[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</td><td align="left">æ˜¯</td></tr><tr><td align="left">V8</td><td align="left">[5, 0, 1, 2, 3, 4, 6, 7, 8, 9, 10]</td><td align="left">å¦</td></tr></tbody></table><p><strong>æ ¹æ®è¡¨ä¸­æ•°æ®å¯è§ï¼Œå½“æ•°ç»„å†…å…ƒç´ ä¸ªæ•°å¤§äº 10 æ—¶ï¼š</strong></p><ul><li>JScript &amp; Carakan æ’åºç»“æœæœ‰è¯¯</li><li>Chakra &amp; JavaScriptCore çœ‹èµ·æ¥æ²¡æœ‰è¿›è¡Œæ’åº</li><li>SpiderMonkey è¿”å›äº†é¢„æœŸçš„æ­£ç¡®ç»“æœ</li><li>V8 <strong>æ’åºç»“æœç”±æ­£ç¡®è½¬ä¸ºä¸æ­£ç¡®</strong></li></ul><h5 id="splice"><a href="#splice" class="headerlink" title="splice"></a><strong>splice</strong></h5><p>splice()æ–¹æ³•ç”¨æ–°å…ƒç´ æ›¿æ¢æ—§å…ƒç´ çš„æ–¹å¼æ¥ä¿®æ”¹æ•°ç»„ã€‚å®ƒæ˜¯ä¸€ä¸ªå¸¸ç”¨çš„æ–¹æ³•ï¼Œå¤æ‚çš„æ•°ç»„æ“ä½œåœºæ™¯é€šå¸¸éƒ½ä¼šæœ‰å®ƒçš„èº«å½±ï¼Œç‰¹åˆ«æ˜¯éœ€è¦ç»´æŒåŸæ•°ç»„å¼•ç”¨æ—¶ï¼Œå°±åœ°åˆ é™¤æˆ–è€…æ–°å¢å…ƒç´ ï¼Œspliceæ˜¯æœ€é€‚åˆçš„ã€‚</p><p>è¯­æ³•ï¼š<em>arr.splice(start,deleteCount[, item1[, item2[, â€¦]]])</em></p><p>start æŒ‡å®šä»å“ªä¸€ä½å¼€å§‹ä¿®æ”¹å†…å®¹ã€‚å¦‚æœè¶…è¿‡äº†æ•°ç»„é•¿åº¦ï¼Œåˆ™ä»æ•°ç»„æœ«å°¾å¼€å§‹æ·»åŠ å†…å®¹ï¼›å¦‚æœæ˜¯è´Ÿå€¼ï¼Œåˆ™å…¶æŒ‡å®šçš„ç´¢å¼•ä½ç½®ç­‰åŒäº length+start (lengthä¸ºæ•°ç»„çš„é•¿åº¦)ï¼Œè¡¨ç¤ºä»æ•°ç»„æœ«å°¾å¼€å§‹çš„ç¬¬ -start ä½ã€‚</p><p>deleteCount æŒ‡å®šè¦åˆ é™¤çš„å…ƒç´ ä¸ªæ•°ï¼Œè‹¥ç­‰äº0ï¼Œåˆ™ä¸åˆ é™¤ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œè‡³å°‘åº”è¯¥æ·»åŠ ä¸€ä½æ–°å…ƒç´ ï¼Œè‹¥å¤§äºstartä¹‹åçš„å…ƒç´ æ€»å’Œï¼Œåˆ™startåŠä¹‹åçš„å…ƒç´ éƒ½å°†è¢«åˆ é™¤ã€‚</p><p>itemN æŒ‡å®šæ–°å¢çš„å…ƒç´ ï¼Œå¦‚æœç¼ºçœï¼Œåˆ™è¯¥æ–¹æ³•åªåˆ é™¤æ•°ç»„å…ƒç´ ã€‚</p><p>è¿”å›å€¼ ç”±åŸæ•°ç»„ä¸­è¢«åˆ é™¤å…ƒç´ ç»„æˆçš„æ•°ç»„ï¼Œå¦‚æœæ²¡æœ‰åˆ é™¤ï¼Œåˆ™è¿”å›ä¸€ä¸ªç©ºæ•°ç»„ã€‚</p><p>ä¸‹é¢æ¥ä¸¾æ —å­è¯´æ˜ï¼š</p><pre><code>var array = [&quot;apple&quot;,&quot;boy&quot;];var splices = array.splice(1,1);console.log(array); // [&quot;apple&quot;]console.log(splices); // [&quot;boy&quot;] ,å¯è§æ˜¯ä»æ•°ç»„ä¸‹æ ‡ä¸º1çš„å…ƒç´ å¼€å§‹åˆ é™¤,å¹¶ä¸”åˆ é™¤ä¸€ä¸ªå…ƒç´ ,ç”±äºitemNç¼ºçœ,æ•…æ­¤æ—¶è¯¥æ–¹æ³•åªåˆ é™¤å…ƒç´ array = [&quot;apple&quot;,&quot;boy&quot;];splices = array.splice(2,1,&quot;cat&quot;);console.log(array); // [&quot;apple&quot;, &quot;boy&quot;, &quot;cat&quot;]console.log(splices); // [], å¯è§ç”±äºstartè¶…è¿‡æ•°ç»„é•¿åº¦,æ­¤æ—¶ä»æ•°ç»„æœ«å°¾å¼€å§‹æ·»åŠ å…ƒç´ ,å¹¶ä¸”åŸæ•°ç»„ä¸ä¼šå‘ç”Ÿåˆ é™¤è¡Œä¸ºarray = [&quot;apple&quot;,&quot;boy&quot;];splices = array.splice(-2,1,&quot;cat&quot;);console.log(array); // [&quot;cat&quot;, &quot;boy&quot;]console.log(splices); // [&quot;apple&quot;], å¯è§å½“startä¸ºè´Ÿå€¼æ—¶,æ˜¯ä»æ•°ç»„æœ«å°¾å¼€å§‹çš„ç¬¬-startä½å¼€å§‹åˆ é™¤,åˆ é™¤ä¸€ä¸ªå…ƒç´ ,å¹¶ä¸”ä»æ­¤å¤„æ’å…¥äº†ä¸€ä¸ªå…ƒç´ array = [&quot;apple&quot;,&quot;boy&quot;];splices = array.splice(-3,1,&quot;cat&quot;);console.log(array); // [&quot;cat&quot;, &quot;boy&quot;]console.log(splices); // [&quot;apple&quot;], å¯è§å³ä½¿-startè¶…å‡ºæ•°ç»„é•¿åº¦,æ•°ç»„é»˜è®¤ä»é¦–ä½å¼€å§‹åˆ é™¤array = [&quot;apple&quot;,&quot;boy&quot;];splices = array.splice(0,3,&quot;cat&quot;);console.log(array); // [&quot;cat&quot;]console.log(splices); // [&quot;apple&quot;, &quot;boy&quot;], å¯è§å½“deleteCountå¤§äºæ•°ç»„startä¹‹åçš„å…ƒç´ æ€»å’Œæ—¶,startåŠä¹‹åçš„å…ƒç´ éƒ½å°†è¢«åˆ é™¤123456789101112131415161718192021222324</code></pre><p>åŒä¸Š, spliceä¸€æ ·å—ç›Šäºé¸­å¼è¾¨å‹, æ¯”å¦‚:</p><pre><code>var o = &#123;0:&quot;apple&quot;,1:&quot;boy&quot;,length:2&#125;;var splices = Array.prototype.splice.call(o,1,1);console.log(o); // Object &#123;0: &quot;apple&quot;, length: 1&#125;, å¯è§å¯¹è±¡oåˆ é™¤äº†ä¸€ä¸ªå±æ€§,å¹¶ä¸”length-1console.log(splices); // [&quot;boy&quot;]1234</code></pre><p>æ³¨æ„ï¼šå¦‚æœç±»æ•°ç»„å¯¹è±¡æ²¡æœ‰lengthå±æ€§ï¼Œspliceå°†ä¸ºè¯¥ç±»æ•°ç»„å¯¹è±¡æ·»åŠ lengthå±æ€§ï¼Œå¹¶åˆå§‹åŒ–ä¸º0ã€‚ï¼ˆæ­¤å¤„å¿½ç•¥ä¸¾ä¾‹ï¼Œå¦‚æœéœ€è¦è¯·åœ¨è¯„è®ºé‡Œåé¦ˆï¼‰</p><p>å¦‚æœéœ€è¦åˆ é™¤æ•°ç»„ä¸­ä¸€ä¸ªå·²å­˜åœ¨çš„å…ƒç´ ï¼Œå¯å‚è€ƒå¦‚ä¸‹ï¼š</p><pre><code>var array = [&#39;a&#39;,&#39;b&#39;,&#39;c&#39;];array.splice(array.indexOf(&#39;b&#39;),1);12</code></pre><h5 id="unshift"><a href="#unshift" class="headerlink" title="unshift"></a><strong>unshift</strong></h5><p>unshift() æ–¹æ³•ç”¨äºåœ¨æ•°ç»„å¼€å§‹å¤„æ’å…¥ä¸€äº›å…ƒç´ (å°±åƒæ˜¯æ ˆåº•æ’å…¥)ï¼Œå¹¶è¿”å›æ•°ç»„æ–°çš„é•¿åº¦ã€‚</p><p>è¯­æ³•ï¼š<em>arr.unshift(element1, â€¦, elementN)</em></p><pre><code>var array = [&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;];var length = array.unshift(&quot;yellow&quot;);console.log(array); // [&quot;yellow&quot;, &quot;red&quot;, &quot;green&quot;, &quot;blue&quot;]console.log(length); // 41234</code></pre><p>å¦‚æœç»™unshiftæ–¹æ³•ä¼ å…¥ä¸€ä¸ªæ•°ç»„å‘¢ï¼Ÿ</p><pre><code>var array = [&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;];var length = array.unshift([&quot;yellow&quot;]);console.log(array); // [[&quot;yellow&quot;], &quot;red&quot;, &quot;green&quot;, &quot;blue&quot;]console.log(length); // 4, å¯è§æ•°ç»„ä¹Ÿèƒ½æˆåŠŸæ’å…¥1234</code></pre><p>åŒä¸Šï¼Œunshiftä¹Ÿå—ç›Šäºé¸­å¼è¾¨å‹ï¼Œå‘ˆä¸Šæ —å­ï¼š</p><pre><code>var o = &#123;0:&quot;red&quot;, 1:&quot;green&quot;, 2:&quot;blue&quot;,length:3&#125;;var length = Array.prototype.unshift.call(o,&quot;gray&quot;);console.log(o); // Object &#123;0: &quot;gray&quot;, 1: &quot;red&quot;, 2: &quot;green&quot;, 3: &quot;blue&quot;, length: 4&#125;console.log(length); // 41234</code></pre><p>æ³¨æ„ï¼šå¦‚æœç±»æ•°ç»„å¯¹è±¡ä¸æŒ‡å®šlengthå±æ€§ï¼Œåˆ™è¿”å›ç»“æœæ˜¯è¿™æ ·çš„ <code>Object &#123;0: &quot;gray&quot;, 1: &quot;green&quot;, 2: &quot;blue&quot;, length: 1&#125;</code>ï¼Œshiftä¼šè®¤ä¸ºæ•°ç»„é•¿åº¦ä¸º0ï¼Œæ­¤æ—¶å°†ä»å¯¹è±¡ä¸‹æ ‡ä¸º0çš„ä½ç½®å¼€å§‹æ’å…¥ï¼Œç›¸åº”ä½ç½®å±æ€§å°†è¢«æ›¿æ¢ï¼Œæ­¤æ—¶åˆå§‹åŒ–ç±»æ•°ç»„å¯¹è±¡çš„lengthå±æ€§ä¸ºæ’å…¥å…ƒç´ ä¸ªæ•°ã€‚</p><h5 id="copyWithin-ES6"><a href="#copyWithin-ES6" class="headerlink" title="copyWithin(ES6)"></a><strong>copyWithin(ES6)</strong></h5><p>copyWithin() æ–¹æ³•åŸºäº<strong>ECMAScript 2015ï¼ˆES6ï¼‰è§„èŒƒ</strong>ï¼Œç”¨äºæ•°ç»„å†…å…ƒç´ ä¹‹é—´çš„æ›¿æ¢ï¼Œå³æ›¿æ¢å…ƒç´ å’Œè¢«æ›¿æ¢å…ƒç´ å‡æ˜¯æ•°ç»„å†…çš„å…ƒç´ ã€‚</p><p>è¯­æ³•ï¼š<em>arr.copyWithin(target, start[, end = this.length])</em></p><p>taget æŒ‡å®šè¢«æ›¿æ¢å…ƒç´ çš„ç´¢å¼•ï¼Œstart æŒ‡å®šæ›¿æ¢å…ƒç´ èµ·å§‹çš„ç´¢å¼•ï¼Œend å¯é€‰ï¼ŒæŒ‡çš„æ˜¯æ›¿æ¢å…ƒç´ ç»“æŸä½ç½®çš„ç´¢å¼•ã€‚</p><p>å¦‚æœstartä¸ºè´Ÿï¼Œåˆ™å…¶æŒ‡å®šçš„ç´¢å¼•ä½ç½®ç­‰åŒäºlength+startï¼Œlengthä¸ºæ•°ç»„çš„é•¿åº¦ã€‚endä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p><p>æ³¨ï¼šç›®å‰åªæœ‰Firefoxï¼ˆç‰ˆæœ¬32åŠå…¶ä»¥ä¸Šç‰ˆæœ¬ï¼‰å®ç°äº†è¯¥æ–¹æ³•ã€‚</p><pre><code>var array = [1,2,3,4,5]; var array2 = array.copyWithin(0,3);console.log(array===array2,array2); // true [4, 5, 3, 4, 5]var array = [1,2,3,4,5]; console.log(array.copyWithin(0,3,4)); // [4, 2, 3, 4, 5]var array = [1,2,3,4,5]; console.log(array.copyWithin(0,-2,-1)); // [4, 2, 3, 4, 5]123456789</code></pre><p>åŒä¸Šï¼ŒcopyWithinä¸€æ ·å—ç›Šäºé¸­å¼è¾¨å‹ï¼Œä¾‹å¦‚ï¼š</p><pre><code>var o = &#123;0:1, 1:2, 2:3, 3:4, 4:5,length:5&#125;var o2 = Array.prototype.copyWithin.call(o,0,3);console.log(o===o2,o2); // true Object &#123; 0=4,  1=5,  2=3,  æ›´å¤š...&#125;123</code></pre><p>å¦‚éœ€åœ¨Firefoxä¹‹å¤–çš„æµè§ˆå™¨ä½¿ç”¨copyWithinæ–¹æ³•ï¼Œè¯·å‚è€ƒ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/copyWithin#Polyfill">Polyfill</a>ã€‚</p><h5 id="fill-ES6"><a href="#fill-ES6" class="headerlink" title="fill(ES6)"></a><strong>fill(ES6)</strong></h5><p>fill() æ–¹æ³•åŸºäº<strong>ECMAScript 2015ï¼ˆES6ï¼‰è§„èŒƒ</strong>ï¼Œå®ƒåŒæ ·ç”¨äºæ•°ç»„å…ƒç´ æ›¿æ¢ï¼Œä½†ä¸copyWithinç•¥æœ‰ä¸åŒï¼Œå®ƒä¸»è¦ç”¨äºå°†æ•°ç»„æŒ‡å®šåŒºé—´å†…çš„å…ƒç´ æ›¿æ¢ä¸ºæŸä¸ªå€¼ã€‚</p><p>è¯­æ³•ï¼š<em>arr.fill(value, start[, end = this.length])</em></p><p>value æŒ‡å®šè¢«æ›¿æ¢çš„å€¼ï¼Œstart æŒ‡å®šæ›¿æ¢å…ƒç´ èµ·å§‹çš„ç´¢å¼•ï¼Œend å¯é€‰ï¼ŒæŒ‡çš„æ˜¯æ›¿æ¢å…ƒç´ ç»“æŸä½ç½®çš„ç´¢å¼•ã€‚</p><p>å¦‚æœstartä¸ºè´Ÿï¼Œåˆ™å…¶æŒ‡å®šçš„ç´¢å¼•ä½ç½®ç­‰åŒäºlength+startï¼Œlengthä¸ºæ•°ç»„çš„é•¿åº¦ã€‚endä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p><p>æ³¨ï¼šç›®å‰åªæœ‰Firefoxï¼ˆç‰ˆæœ¬31åŠå…¶ä»¥ä¸Šç‰ˆæœ¬ï¼‰å®ç°äº†è¯¥æ–¹æ³•ã€‚</p><pre><code>var array = [1,2,3,4,5];var array2 = array.fill(10,0,3);console.log(array===array2,array2); // true [10, 10, 10, 4, 5], å¯è§æ•°ç»„åŒºé—´[0,3]çš„å…ƒç´ å…¨éƒ¨æ›¿æ¢ä¸º10// å…¶ä»–çš„ä¸¾ä¾‹è¯·å‚è€ƒcopyWithin1234</code></pre><p>åŒä¸Šï¼Œfill ä¸€æ ·å—ç›Šäºé¸­å¼è¾¨å‹ï¼Œä¾‹å¦‚ï¼š</p><pre><code>var o = &#123;0:1, 1:2, 2:3, 3:4, 4:5,length:5&#125;var o2 = Array.prototype.fill.call(o,10,0,2);console.log(o===o2,o2); true Object &#123; 0=10,  1=10,  2=3,  æ›´å¤š...&#125;123</code></pre><p>å¦‚éœ€åœ¨Firefoxä¹‹å¤–çš„æµè§ˆå™¨ä½¿ç”¨fillæ–¹æ³•,è¯·å‚è€ƒ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/fill#Compatibility">Polyfill</a>ã€‚</p><h4 id="ä¸ä¼šæ”¹å˜è‡ªèº«çš„æ–¹æ³•-9ä¸ª"><a href="#ä¸ä¼šæ”¹å˜è‡ªèº«çš„æ–¹æ³•-9ä¸ª" class="headerlink" title="ä¸ä¼šæ”¹å˜è‡ªèº«çš„æ–¹æ³•(9ä¸ª)"></a><strong>ä¸ä¼šæ”¹å˜è‡ªèº«çš„æ–¹æ³•(9ä¸ª)</strong></h4><p>åŸºäºES7ï¼Œä¸ä¼šæ”¹å˜è‡ªèº«çš„æ–¹æ³•ä¸€å…±æœ‰9ä¸ªï¼Œåˆ†åˆ«ä¸ºconcatã€joinã€sliceã€toStringã€toLocateStringã€indexOfã€lastIndexOfã€æœªæ ‡å‡†çš„toSourceä»¥åŠES7æ–°å¢çš„æ–¹æ³•includesã€‚</p><h5 id="concat"><a href="#concat" class="headerlink" title="concat"></a><strong>concat</strong></h5><p>concat() æ–¹æ³•å°†ä¼ å…¥çš„æ•°ç»„æˆ–è€…å…ƒç´ ä¸åŸæ•°ç»„åˆå¹¶ï¼Œç»„æˆä¸€ä¸ªæ–°çš„æ•°ç»„å¹¶è¿”å›ã€‚</p><p>è¯­æ³•ï¼š<em>arr.concat(value1, value2, â€¦, valueN)</em></p><pre><code>var array = [1, 2, 3];var array2 = array.concat(4,[5,6],[7,8,9]);console.log(array2); // [1, 2, 3, 4, 5, 6, 7, 8, 9]console.log(array); // [1, 2, 3], å¯è§åŸæ•°ç»„å¹¶æœªè¢«ä¿®æ”¹1234</code></pre><p>è‹¥concatæ–¹æ³•ä¸­ä¸ä¼ å…¥å‚æ•°ï¼Œé‚£ä¹ˆå°†åŸºäºåŸæ•°ç»„<strong>æµ…å¤åˆ¶</strong>ç”Ÿæˆä¸€ä¸ªä¸€æ¨¡ä¸€æ ·çš„æ–°æ•°ç»„ï¼ˆæŒ‡å‘æ–°çš„åœ°å€ç©ºé—´ï¼‰ã€‚</p><pre><code>var array = [&#123;a: 1&#125;];var array3 = array.concat();console.log(array3); // [&#123;a: 1&#125;]console.log(array3 === array); // falseconsole.log(array[0] === array3[0]); // trueï¼Œæ–°æ—§æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ ä¾æ—§å…±ç”¨ä¸€ä¸ªåŒä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨12345</code></pre><p>åŒä¸Šï¼Œconcat ä¸€æ ·å—ç›Šäºé¸­å¼è¾¨å‹ï¼Œä½†å…¶æ•ˆæœå¯èƒ½è¾¾ä¸åˆ°æˆ‘ä»¬çš„æœŸæœ›ï¼Œå¦‚ä¸‹ï¼š</p><pre><code>var o = &#123;0:&quot;a&quot;, 1:&quot;b&quot;, 2:&quot;c&quot;,length:3&#125;;var o2 = Array.prototype.concat.call(o,&#39;d&#39;,&#123;3:&#39;e&#39;,4:&#39;f&#39;,length:2&#125;,[&#39;g&#39;,&#39;h&#39;,&#39;i&#39;]);console.log(o2); // [&#123;0:&quot;a&quot;, 1:&quot;b&quot;, 2:&quot;c&quot;, length:3&#125;, &#39;d&#39;, &#123;3:&#39;e&#39;, 4:&#39;f&#39;, length:2&#125;, &#39;g&#39;, &#39;h&#39;, &#39;i&#39;]123</code></pre><p>å¯è§ï¼Œç±»æ•°ç»„å¯¹è±¡åˆå¹¶åè¿”å›çš„æ˜¯ä¾ç„¶æ˜¯æ•°ç»„ï¼Œå¹¶ä¸æ˜¯æˆ‘ä»¬æœŸæœ›çš„å¯¹è±¡ã€‚</p><h5 id="join"><a href="#join" class="headerlink" title="join"></a><strong>join</strong></h5><p>join() æ–¹æ³•å°†æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ è¿æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</p><p>è¯­æ³•ï¼š<em>arr.join([separator = â€˜,â€™])</em> separatorå¯é€‰ï¼Œç¼ºçœé»˜è®¤ä¸ºé€—å·ã€‚</p><pre><code>var array = [&#39;We&#39;, &#39;are&#39;, &#39;Chinese&#39;];console.log(array.join()); // &quot;We,are,Chinese&quot;console.log(array.join(&#39;+&#39;)); // &quot;We+are+Chinese&quot;console.log(array.join(&#39;&#39;)); // &quot;WeareChinese&quot;1234</code></pre><p>åŒä¸Šï¼Œjoin ä¸€æ ·å—ç›Šäºé¸­å¼è¾¨å‹ï¼Œå¦‚ä¸‹ï¼š</p><pre><code>var o = &#123;0:&quot;We&quot;, 1:&quot;are&quot;, 2:&quot;Chinese&quot;, length:3&#125;;console.log(Array.prototype.join.call(o,&#39;+&#39;)); // &quot;We+are+Chinese&quot;console.log(Array.prototype.join.call(&#39;abc&#39;)); // &quot;a,b,c&quot;123</code></pre><h5 id="slice"><a href="#slice" class="headerlink" title="slice"></a><strong>slice</strong></h5><p>slice() æ–¹æ³•å°†æ•°ç»„ä¸­ä¸€éƒ¨åˆ†å…ƒç´ æµ…å¤åˆ¶å­˜å…¥æ–°çš„æ•°ç»„å¯¹è±¡ï¼Œå¹¶ä¸”è¿”å›è¿™ä¸ªæ•°ç»„å¯¹è±¡ã€‚</p><p>è¯­æ³•ï¼š<em>arr.slice([start[, end]])</em></p><p>å‚æ•° start æŒ‡å®šå¤åˆ¶å¼€å§‹ä½ç½®çš„ç´¢å¼•ï¼Œendå¦‚æœæœ‰å€¼åˆ™è¡¨ç¤ºå¤åˆ¶ç»“æŸä½ç½®çš„ç´¢å¼•ï¼ˆä¸åŒ…æ‹¬æ­¤ä½ç½®ï¼‰ã€‚</p><p>å¦‚æœ start çš„å€¼ä¸ºè´Ÿæ•°ï¼Œå‡å¦‚æ•°ç»„é•¿åº¦ä¸º lengthï¼Œåˆ™è¡¨ç¤ºä» length+start çš„ä½ç½®å¼€å§‹å¤åˆ¶ï¼Œæ­¤æ—¶å‚æ•° end å¦‚æœæœ‰å€¼ï¼Œåªèƒ½æ˜¯æ¯” start å¤§çš„è´Ÿæ•°ï¼Œå¦åˆ™å°†è¿”å›ç©ºæ•°ç»„ã€‚</p><p>sliceæ–¹æ³•å‚æ•°ä¸ºç©ºæ—¶ï¼ŒåŒconcatæ–¹æ³•ä¸€æ ·ï¼Œéƒ½æ˜¯æµ…å¤åˆ¶ç”Ÿæˆä¸€ä¸ªæ–°æ•°ç»„ã€‚</p><pre><code>var array = [&quot;one&quot;, &quot;two&quot;, &quot;three&quot;,&quot;four&quot;, &quot;five&quot;];console.log(array.slice()); // [&quot;one&quot;, &quot;two&quot;, &quot;three&quot;,&quot;four&quot;, &quot;five&quot;]console.log(array.slice(2,3)); // [&quot;three&quot;]123</code></pre><p><strong>æµ…å¤åˆ¶</strong> æ˜¯æŒ‡å½“å¯¹è±¡çš„è¢«å¤åˆ¶æ—¶ï¼Œåªæ˜¯å¤åˆ¶äº†å¯¹è±¡çš„å¼•ç”¨ï¼ŒæŒ‡å‘çš„ä¾ç„¶æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚ä¸‹é¢æ¥è¯´æ˜sliceä¸ºä»€ä¹ˆæ˜¯æµ…å¤åˆ¶ã€‚</p><pre><code>var array = [&#123;color:&quot;yellow&quot;&#125;, 2, 3];var array2 = array.slice(0,1);console.log(array2); // [&#123;color:&quot;yellow&quot;&#125;]array[0][&quot;color&quot;] = &quot;blue&quot;;console.log(array2); // [&#123;color:&quot;bule&quot;&#125;]12345</code></pre><p>ç”±äºsliceæ˜¯æµ…å¤åˆ¶ï¼Œå¤åˆ¶åˆ°çš„å¯¹è±¡åªæ˜¯ä¸€ä¸ªå¼•ç”¨ï¼Œæ”¹å˜åŸæ•°ç»„arrayçš„å€¼ï¼Œarray2ä¹Ÿéšä¹‹æ”¹å˜ã€‚</p><p>åŒæ—¶ï¼Œç¨å¾®åˆ©ç”¨ä¸‹ slice æ–¹æ³•ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºè´Ÿæ•°æ—¶çš„ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥éå¸¸æ–¹ä¾¿çš„æ‹¿åˆ°æ•°ç»„çš„æœ€åä¸€é¡¹å…ƒç´ ï¼Œå¦‚ä¸‹ï¼š</p><pre><code>console.log([1,2,3].slice(-1));//[3]1</code></pre><p>åŒä¸Šï¼Œslice ä¸€æ ·å—ç›Šäºé¸­å¼è¾¨å‹ã€‚å¦‚ä¸‹ï¼š</p><pre><code>var o = &#123;0:&#123;&quot;color&quot;:&quot;yellow&quot;&#125;, 1:2, 2:3, length:3&#125;;var o2 = Array.prototype.slice.call(o,0,1);console.log(o2); // [&#123;color:&quot;yellow&quot;&#125;] ,æ¯«æ— è¿å’Œæ„Ÿ...123</code></pre><p>é‰´äºIE9ä»¥ä¸‹ç‰ˆæœ¬å¯¹äºè¯¥æ–¹æ³•æ”¯æŒæ€§å¹¶ä¸æ˜¯å¾ˆå¥½ï¼Œå¦‚éœ€æ›´å¥½çš„æ”¯æŒä½ç‰ˆæœ¬IEæµè§ˆå™¨ï¼Œè¯·å‚è€ƒ<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/slice">polyfill</a>ã€‚</p><h5 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="toString"></a><strong>toString</strong></h5><p>toString() æ–¹æ³•è¿”å›æ•°ç»„çš„å­—ç¬¦ä¸²å½¢å¼ï¼Œè¯¥å­—ç¬¦ä¸²ç”±æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ çš„ <code>toString()</code> è¿”å›å€¼ç»è°ƒç”¨ <code>join()</code> æ–¹æ³•è¿æ¥ï¼ˆç”±é€—å·éš”å¼€ï¼‰ç»„æˆã€‚</p><p>è¯­æ³•ï¼š <em>arr.toString()</em></p><pre><code>var array = [&#39;Jan&#39;, &#39;Feb&#39;, &#39;Mar&#39;, &#39;Apr&#39;];var str = array.toString();console.log(str); // Jan,Feb,Mar,Apr123</code></pre><p>å½“æ•°ç»„ç›´æ¥å’Œå­—ç¬¦ä¸²ä½œè¿æ¥æ“ä½œæ—¶ï¼Œå°†ä¼šè‡ªåŠ¨è°ƒç”¨å…¶toString() æ–¹æ³•ã€‚</p><pre><code>var str = [&#39;Jan&#39;, &#39;Feb&#39;, &#39;Mar&#39;, &#39;Apr&#39;] + &#39;,May&#39;;console.log(str); // &quot;Jan,Feb,Mar,Apr,May&quot;// ä¸‹é¢æˆ‘ä»¬æ¥è¯•è¯•é¸­å¼è¾¨å‹var o = &#123;0:&#39;Jan&#39;, 1:&#39;Feb&#39;, 2:&#39;Mar&#39;, length:3&#125;;var o2 = Array.prototype.toString.call(o);console.log(o2); // [object Object]console.log(o.toString()==o2); // true1234567</code></pre><p>å¯è§ï¼Œ<code>Array.prototype.toString()</code>æ–¹æ³•å¤„ç†ç±»æ•°ç»„å¯¹è±¡æ—¶ï¼Œè·Ÿç±»æ•°ç»„å¯¹è±¡ç›´æ¥è°ƒç”¨<code>Object.prototype.toString()</code>æ–¹æ³•ç»“æœå®Œå…¨ä¸€è‡´ï¼Œè¯´å¥½çš„é¸­å¼è¾¨å‹å‘¢ï¼Ÿ</p><p>æ ¹æ®ES5è¯­ä¹‰ï¼ŒtoString() æ–¹æ³•æ˜¯é€šç”¨çš„ï¼Œå¯è¢«ç”¨äºä»»ä½•å¯¹è±¡ã€‚å¦‚æœå¯¹è±¡æœ‰ä¸€ä¸ªjoin() æ–¹æ³•ï¼Œå°†ä¼šè¢«è°ƒç”¨ï¼Œå…¶è¿”å›å€¼å°†è¢«è¿”å›ï¼Œæ²¡æœ‰åˆ™è°ƒç”¨<code>Object.prototype.toString()</code>ï¼Œä¸ºæ­¤ï¼Œæˆ‘ä»¬ç»™oå¯¹è±¡æ·»åŠ ä¸€ä¸ªjoinæ–¹æ³•ã€‚å¦‚ä¸‹ï¼š</p><pre><code>var o = &#123;  0:&#39;Jan&#39;,   1:&#39;Feb&#39;,   2:&#39;Mar&#39;,   length:3,   join:function()&#123;    return Array.prototype.join.call(this);  &#125;&#125;;console.log(Array.prototype.toString.call(o)); // &quot;Jan,Feb,Mar&quot;12345678910</code></pre><h5 id="toLocaleString-NaN"><a href="#toLocaleString-NaN" class="headerlink" title="toLocaleString"></a><strong>toLocaleString</strong></h5><p>toLocaleString() ç±»ä¼¼toString()çš„å˜å‹ï¼Œè¯¥å­—ç¬¦ä¸²ç”±æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ çš„ <code>toLocaleString()</code> è¿”å›å€¼ç»è°ƒç”¨ <code>join()</code> æ–¹æ³•è¿æ¥ï¼ˆç”±é€—å·éš”å¼€ï¼‰ç»„æˆã€‚</p><p>è¯­æ³•ï¼š<em>arr.toLocaleString()</em></p><p>æ•°ç»„ä¸­çš„å…ƒç´ å°†è°ƒç”¨å„è‡ªçš„ toLocaleString æ–¹æ³•ï¼š</p><ul><li><code>Object</code>ï¼š<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/toLocaleString"><code>Object.prototype.toLocaleString()</code></a></li><li><code>Number</code>ï¼š<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Number/toLocaleString"><code>Number.prototype.toLocaleString()</code></a></li><li><code>Date</code>ï¼š<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString"><code>Date.prototype.toLocaleString()</code></a></li></ul><pre><code>var array= [&#123;name:&#39;zz&#39;&#125;, 123, &quot;abc&quot;, new Date()];var str = array.toLocaleString();console.log(str); // [object Object],123,abc,2016/1/5 ä¸‹åˆ1:06:23123</code></pre><p>å…¶é¸­å¼è¾¨å‹çš„å†™æ³•ä¹ŸåŒtoString ä¿æŒä¸€è‡´ï¼Œå¦‚ä¸‹ï¼š</p><pre><code>var o = &#123;  0:123,   1:&#39;abc&#39;,   2:new Date(),   length:3,   join:function()&#123;    return Array.prototype.join.call(this);  &#125;&#125;;console.log(Array.prototype.toLocaleString.call(o)); // 123,abc,2016/1/5 ä¸‹åˆ1:16:5012345678910</code></pre><h5 id="indexOf"><a href="#indexOf" class="headerlink" title="indexOf"></a><strong>indexOf</strong></h5><p>indexOf() æ–¹æ³•ç”¨äºæŸ¥æ‰¾å…ƒç´ åœ¨æ•°ç»„ä¸­ç¬¬ä¸€æ¬¡å‡ºç°æ—¶çš„ç´¢å¼•ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™è¿”å›-1ã€‚</p><p>è¯­æ³•ï¼š<em>arr.indexOf(element, fromIndex=0)</em></p><p>element ä¸ºéœ€è¦æŸ¥æ‰¾çš„å…ƒç´ ã€‚</p><p>fromIndex ä¸ºå¼€å§‹æŸ¥æ‰¾çš„ä½ç½®ï¼Œç¼ºçœé»˜è®¤ä¸º0ã€‚å¦‚æœè¶…å‡ºæ•°ç»„é•¿åº¦ï¼Œåˆ™è¿”å›-1ã€‚å¦‚æœä¸ºè´Ÿå€¼ï¼Œå‡è®¾æ•°ç»„é•¿åº¦ä¸ºlengthï¼Œåˆ™ä»æ•°ç»„çš„ç¬¬ length + fromIndexé¡¹å¼€å§‹å¾€æ•°ç»„æœ«å°¾æŸ¥æ‰¾ï¼Œå¦‚æœlength + fromIndex&lt;0 åˆ™æ•´ä¸ªæ•°ç»„éƒ½ä¼šè¢«æŸ¥æ‰¾ã€‚</p><p>indexOfä½¿ç”¨ä¸¥æ ¼ç›¸ç­‰ï¼ˆå³ä½¿ç”¨ === å»åŒ¹é…æ•°ç»„ä¸­çš„å…ƒç´ ï¼‰ã€‚</p><pre><code>var array = [&#39;abc&#39;, &#39;def&#39;, &#39;ghi&#39;,&#39;123&#39;];console.log(array.indexOf(&#39;def&#39;)); // 1console.log(array.indexOf(&#39;def&#39;,-1)); // -1 æ­¤æ—¶è¡¨ç¤ºä»æœ€åä¸€ä¸ªå…ƒç´ å¾€åæŸ¥æ‰¾,å› æ­¤æŸ¥æ‰¾å¤±è´¥è¿”å›-1console.log(array.indexOf(&#39;def&#39;,-4)); // 1 ç”±äº4å¤§äºæ•°ç»„é•¿åº¦,æ­¤æ—¶å°†æŸ¥æ‰¾æ•´ä¸ªæ•°ç»„,å› æ­¤è¿”å›1console.log(array.indexOf(123)); // -1, ç”±äºæ˜¯ä¸¥æ ¼åŒ¹é…,å› æ­¤å¹¶ä¸ä¼šåŒ¹é…åˆ°å­—ç¬¦ä¸²&#39;123&#39;12345</code></pre><p>å¾—ç›Šäºé¸­å¼è¾¨å‹ï¼ŒindexOf å¯ä»¥å¤„ç†ç±»æ•°ç»„å¯¹è±¡ã€‚å¦‚ä¸‹ï¼š</p><pre><code>var o = &#123;0:&#39;abc&#39;, 1:&#39;def&#39;, 2:&#39;ghi&#39;, length:3&#125;;console.log(Array.prototype.indexOf.call(o,&#39;ghi&#39;,-4));//212</code></pre><p>ç„¶è€Œè¯¥æ–¹æ³•å¹¶ä¸æ”¯æŒIE9ä»¥ä¸‹ç‰ˆæœ¬ï¼Œå¦‚éœ€æ›´å¥½çš„æ”¯æŒä½ç‰ˆæœ¬IEæµè§ˆå™¨ï¼ˆIE6~8ï¼‰ï¼Œ è¯·å‚è€ƒ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf#Polyfill">Polyfill</a>ã€‚</p><h5 id="lastIndexOf"><a href="#lastIndexOf" class="headerlink" title="lastIndexOf"></a><strong>lastIndexOf</strong></h5><p>lastIndexOf() æ–¹æ³•ç”¨äºæŸ¥æ‰¾å…ƒç´ åœ¨æ•°ç»„ä¸­æœ€åä¸€æ¬¡å‡ºç°æ—¶çš„ç´¢å¼•ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™è¿”å›-1ã€‚å¹¶ä¸”å®ƒæ˜¯indexOfçš„é€†å‘æŸ¥æ‰¾ï¼Œå³ä»æ•°ç»„æœ€åä¸€ä¸ªå¾€å‰æŸ¥æ‰¾ã€‚</p><p>è¯­æ³•ï¼š<em>arr.lastIndexOf(element, fromIndex=length-1)</em></p><p>element ä¸ºéœ€è¦æŸ¥æ‰¾çš„å…ƒç´ ã€‚</p><p>fromIndex ä¸ºå¼€å§‹æŸ¥æ‰¾çš„ä½ç½®ï¼Œç¼ºçœé»˜è®¤ä¸ºæ•°ç»„é•¿åº¦length-1ã€‚å¦‚æœè¶…å‡ºæ•°ç»„é•¿åº¦ï¼Œç”±äºæ˜¯é€†å‘æŸ¥æ‰¾ï¼Œåˆ™æŸ¥æ‰¾æ•´ä¸ªæ•°ç»„ã€‚å¦‚æœä¸ºè´Ÿå€¼ï¼Œåˆ™ä»æ•°ç»„çš„ç¬¬ length + fromIndexé¡¹å¼€å§‹å¾€æ•°ç»„å¼€å¤´æŸ¥æ‰¾ï¼Œå¦‚æœlength + fromIndex&lt;0 åˆ™æ•°ç»„ä¸ä¼šè¢«æŸ¥æ‰¾ã€‚</p><p>åŒ indexOf ä¸€æ ·ï¼ŒlastIndexOf ä¹Ÿæ˜¯ä¸¥æ ¼åŒ¹é…æ•°ç»„å…ƒç´ ã€‚</p><p>ä¸¾ä¾‹è¯·å‚è€ƒ <code>indexOf</code> ï¼Œä¸å†è¯¦è¿°ï¼Œå…¼å®¹ä½ç‰ˆæœ¬IEæµè§ˆå™¨ï¼ˆIE6~8ï¼‰ï¼Œè¯·å‚è€ƒ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/lastIndexOf#Compatibility">Polyfill</a>ã€‚</p><h5 id="includes-ES7"><a href="#includes-ES7" class="headerlink" title="includes(ES7)"></a><strong>includes(ES7)</strong></h5><p>includes() æ–¹æ³•åŸºäº<strong>ECMAScript 2016ï¼ˆES7ï¼‰è§„èŒƒ</strong>ï¼Œå®ƒç”¨æ¥åˆ¤æ–­å½“å‰æ•°ç»„æ˜¯å¦åŒ…å«æŸä¸ªæŒ‡å®šçš„å€¼ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚</p><p>è¯­æ³•ï¼š<em>arr.includes(element, fromIndex=0)</em></p><p>element ä¸ºéœ€è¦æŸ¥æ‰¾çš„å…ƒç´ ã€‚</p><p>fromIndex è¡¨ç¤ºä»è¯¥ç´¢å¼•ä½ç½®å¼€å§‹æŸ¥æ‰¾ elementï¼Œç¼ºçœä¸º0ï¼Œå®ƒæ˜¯æ­£å‘æŸ¥æ‰¾ï¼Œå³ä»ç´¢å¼•å¤„å¾€æ•°ç»„æœ«å°¾æŸ¥æ‰¾ã€‚</p><pre><code>var array = [-0, 1, 2];console.log(array.includes(+0)); // trueconsole.log(array.includes(1)); // trueconsole.log(array.includes(2,-4)); // true1234</code></pre><p>ä»¥ä¸Šï¼Œincludesä¼¼ä¹å¿½ç•¥äº† <code>-0</code> ä¸ <code>+0</code> çš„åŒºåˆ«ï¼Œè¿™ä¸æ˜¯é—®é¢˜ï¼Œå› ä¸ºJavaScriptä¸€ç›´ä»¥æ¥éƒ½æ˜¯ä¸åŒºåˆ† <code>-0</code> å’Œ <code>+0</code> çš„ã€‚</p><p>ä½ å¯èƒ½ä¼šé—®ï¼Œæ—¢ç„¶æœ‰äº†indexOfæ–¹æ³•ï¼Œä¸ºä»€ä¹ˆåˆé€ ä¸€ä¸ªincludesæ–¹æ³•ï¼Œ<code>arr.indexOf(x)&gt;-1</code>ä¸å°±ç­‰äº<code>arr.includes(x)</code>ï¼Ÿçœ‹èµ·æ¥æ˜¯çš„ï¼Œå‡ ä¹æ‰€æœ‰çš„æ—¶å€™å®ƒä»¬éƒ½ç­‰åŒï¼Œå”¯ä¸€çš„åŒºåˆ«å°±æ˜¯includesèƒ½å¤Ÿå‘ç°NaNï¼Œè€ŒindexOfä¸èƒ½ã€‚</p><pre><code>var array = [NaN];console.log(array.includes(NaN)); // trueconsole.log(arra.indexOf(NaN)&gt;-1); // false123</code></pre><p>è¯¥æ–¹æ³•åŒæ ·å—ç›Šäºé¸­å¼è¾¨å‹ã€‚å¦‚ä¸‹ï¼š</p><pre><code>var o = &#123;0:&#39;a&#39;, 1:&#39;b&#39;, 2:&#39;c&#39;, length:3&#125;;var bool = Array.prototype.includes.call(o, &#39;a&#39;);console.log(bool); // true123</code></pre><p>è¯¥æ–¹æ³•åªæœ‰åœ¨Chrome 47ã€opera 34ã€Safari 9ç‰ˆæœ¬åŠå…¶æ›´é«˜ç‰ˆæœ¬ä¸­æ‰è¢«å®ç°ã€‚å¦‚éœ€æ”¯æŒå…¶ä»–æµè§ˆå™¨ï¼Œè¯·å‚è€ƒ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/includes#Polyfill">Polyfill</a>ã€‚</p><h5 id="toSource-éæ ‡å‡†"><a href="#toSource-éæ ‡å‡†" class="headerlink" title="toSource(éæ ‡å‡†)"></a><strong>toSource(éæ ‡å‡†)</strong></h5><p>toSource() æ–¹æ³•æ˜¯<strong>éæ ‡å‡†çš„</strong>ï¼Œè¯¥æ–¹æ³•è¿”å›æ•°ç»„çš„æºä»£ç ï¼Œç›®å‰åªæœ‰ Firefox å®ç°äº†å®ƒã€‚</p><p>è¯­æ³•ï¼š<em>arr.toSource()</em></p><pre><code>var array = [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;];console.log(array.toSource()); // [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]// æµ‹è¯•é¸­å¼è¾¨å‹var o = &#123;0:&#39;a&#39;, 1:&#39;b&#39;, 2:&#39;c&#39;, length:3&#125;;console.log(Array.prototype.toSource.call(o)); // [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]12345</code></pre><h4 id="éå†æ–¹æ³•-12ä¸ª"><a href="#éå†æ–¹æ³•-12ä¸ª" class="headerlink" title="éå†æ–¹æ³•(12ä¸ª)"></a><strong>éå†æ–¹æ³•(12ä¸ª)</strong></h4><p>åŸºäºES6ï¼Œä¸ä¼šæ”¹å˜è‡ªèº«çš„æ–¹æ³•ä¸€å…±æœ‰12ä¸ªï¼Œåˆ†åˆ«ä¸ºforEachã€everyã€someã€filterã€mapã€reduceã€reduceRight ä»¥åŠES6æ–°å¢çš„æ–¹æ³•entriesã€findã€findIndexã€keysã€valuesã€‚</p><h5 id="forEach"><a href="#forEach" class="headerlink" title="forEach"></a><strong>forEach</strong></h5><p>forEach() æ–¹æ³•æŒ‡å®šæ•°ç»„çš„æ¯é¡¹å…ƒç´ éƒ½æ‰§è¡Œä¸€æ¬¡ä¼ å…¥çš„å‡½æ•°ï¼Œè¿”å›å€¼ä¸ºundefinedã€‚</p><p>è¯­æ³•ï¼š<em>arr.forEach(fn, thisArg)</em></p><p>fn è¡¨ç¤ºåœ¨æ•°ç»„æ¯ä¸€é¡¹ä¸Šæ‰§è¡Œçš„å‡½æ•°ï¼Œæ¥å—ä¸‰ä¸ªå‚æ•°ï¼š</p><ul><li>value å½“å‰æ­£åœ¨è¢«å¤„ç†çš„å…ƒç´ çš„å€¼</li><li>index å½“å‰å…ƒç´ çš„æ•°ç»„ç´¢å¼•</li><li>array æ•°ç»„æœ¬èº«</li></ul><p>thisArg å¯é€‰ï¼Œç”¨æ¥å½“åšfnå‡½æ•°å†…çš„thiså¯¹è±¡ã€‚</p><p>forEach å°†ä¸ºæ•°ç»„ä¸­æ¯ä¸€é¡¹æ‰§è¡Œä¸€æ¬¡ fn å‡½æ•°ï¼Œé‚£äº›å·²åˆ é™¤ï¼Œæ–°å¢æˆ–è€…ä»æœªèµ‹å€¼çš„é¡¹å°†è¢«è·³è¿‡ï¼ˆä½†ä¸åŒ…æ‹¬å€¼ä¸º undefined çš„é¡¹ï¼‰ã€‚</p><p>éå†è¿‡ç¨‹ä¸­ï¼Œfnä¼šè¢«ä¼ å…¥ä¸Šè¿°ä¸‰ä¸ªå‚æ•°ã€‚</p><pre><code>var array = [1, 3, 5];var obj = &#123;name:&#39;cc&#39;&#125;;var sReturn = array.forEach(function(value, index, array)&#123;  array[index] = value * value;  console.log(this.name); // ccè¢«æ‰“å°äº†ä¸‰æ¬¡&#125;,obj);console.log(array); // [1, 9, 25], å¯è§åŸæ•°ç»„æ”¹å˜äº†console.log(sReturn); // undefined, å¯è§è¿”å›å€¼ä¸ºundefined12345678</code></pre><p>å¾—ç›Šäºé¸­å¼è¾¨å‹ï¼Œè™½ç„¶forEachä¸èƒ½ç›´æ¥éå†å¯¹è±¡ï¼Œä½†å®ƒå¯ä»¥é€šè¿‡callæ–¹å¼éå†ç±»æ•°ç»„å¯¹è±¡ã€‚å¦‚ä¸‹ï¼š</p><pre><code>var o = &#123;0:1, 1:3, 2:5, length:3&#125;;Array.prototype.forEach.call(o,function(value, index, obj)&#123;  console.log(value,index,obj);  obj[index] = value * value;&#125;,o);// 1 0 Object &#123;0: 1, 1: 3, 2: 5, length: 3&#125;// 3 1 Object &#123;0: 1, 1: 3, 2: 5, length: 3&#125;// 5 2 Object &#123;0: 1, 1: 9, 2: 5, length: 3&#125;console.log(o); // Object &#123;0: 1, 1: 9, 2: 25, length: 3&#125;123456789</code></pre><p>å‚è€ƒå‰é¢çš„æ–‡ç«  <a href="http://louiszhai.github.io/2015/12/18/traverse/#forEach"><code>è¯¦è§£JSéå†</code></a> ä¸­ forEachçš„è®²è§£ï¼Œæˆ‘ä»¬çŸ¥é“ï¼ŒforEachæ— æ³•ç›´æ¥é€€å‡ºå¾ªç¯ï¼Œåªèƒ½ä½¿ç”¨return æ¥è¾¾åˆ°forå¾ªç¯ä¸­continueçš„æ•ˆæœï¼Œå¹¶ä¸”forEachä¸èƒ½åœ¨ä½ç‰ˆæœ¬IEï¼ˆ6~8ï¼‰ä¸­ä½¿ç”¨ï¼Œå…¼å®¹å†™æ³•è¯·å‚è€ƒ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach#%E5%85%BC%E5%AE%B9%E6%97%A7%E7%8E%AF%E5%A2%83%EF%BC%88Polyfill%EF%BC%89">Polyfill</a>ã€‚</p><h5 id="every"><a href="#every" class="headerlink" title="every"></a><strong>every</strong></h5><p>every() æ–¹æ³•ä½¿ç”¨ä¼ å…¥çš„å‡½æ•°æµ‹è¯•æ‰€æœ‰å…ƒç´ ï¼Œåªè¦å…¶ä¸­æœ‰ä¸€ä¸ªå‡½æ•°è¿”å›å€¼ä¸º falseï¼Œé‚£ä¹ˆè¯¥æ–¹æ³•çš„ç»“æœä¸º falseï¼›å¦‚æœå…¨éƒ¨è¿”å› trueï¼Œé‚£ä¹ˆè¯¥æ–¹æ³•çš„ç»“æœæ‰ä¸º trueã€‚å› æ­¤ every æ–¹æ³•å­˜åœ¨å¦‚ä¸‹è§„å¾‹ï¼š</p><ul><li><p>è‹¥éœ€æ£€æµ‹æ•°ç»„ä¸­å­˜åœ¨å…ƒç´ å¤§äº100 ï¼ˆå³ one &gt; 100ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦åœ¨ä¼ å…¥çš„å‡½æ•°ä¸­æ„é€  â€œfalseâ€ è¿”å›å€¼ ï¼ˆå³è¿”å› item &lt;= 100ï¼‰ï¼ŒåŒæ—¶æ•´ä¸ªæ–¹æ³•ç»“æœä¸º false æ‰è¡¨ç¤ºæ•°ç»„å­˜åœ¨å…ƒç´ æ»¡è¶³æ¡ä»¶ï¼›ï¼ˆç®€å•ç†è§£ä¸ºï¼šè‹¥æ˜¯å•é¡¹åˆ¤æ–­ï¼Œå¯ç”¨ one false ===&gt; falseï¼‰</p></li><li><p>è‹¥éœ€æ£€æµ‹æ•°ç»„ä¸­æ˜¯å¦æ‰€æœ‰å…ƒç´ éƒ½å¤§äº100 ï¼ˆå³all &gt; 100ï¼‰é‚£ä¹ˆæˆ‘ä»¬éœ€è¦åœ¨ä¼ å…¥çš„å‡½æ•°ä¸­æ„é€  â€œtrueâ€ è¿”å›å€¼ ï¼ˆå³è¿”å› item &gt; 100ï¼‰ï¼ŒåŒæ—¶æ•´ä¸ªæ–¹æ³•ç»“æœä¸º true æ‰è¡¨ç¤ºæ•°ç»„æ‰€æœ‰å…ƒç´ å‡æ»¡è¶³æ¡ä»¶ã€‚(ç®€å•ç†è§£ä¸ºï¼šè‹¥æ˜¯å…¨éƒ¨åˆ¤æ–­ï¼Œå¯ç”¨ all true ===&gt; trueï¼‰</p></li></ul><p>è¯­æ³•åŒä¸Šè¿°forEachï¼Œå…·ä½“è¿˜å¯ä»¥å‚è€ƒ <a href="http://louiszhai.github.io/2015/12/18/traverse/#every"><code>è¯¦è§£JSéå†</code></a> ä¸­everyçš„è®²è§£ã€‚</p><p>ä»¥ä¸‹æ˜¯é¸­å¼è¾¨å‹çš„å†™æ³•ï¼š</p><pre><code>var o = &#123;0:10, 1:8, 2:25, length:3&#125;;var bool = Array.prototype.every.call(o,function(value, index, obj)&#123;  return value &gt;= 8;&#125;,o);console.log(bool); // true12345</code></pre><p>every ä¸€æ ·ä¸èƒ½åœ¨ä½ç‰ˆæœ¬IE(6~8)ä¸­ä½¿ç”¨ï¼Œå…¼å®¹å†™æ³•è¯·å‚è€ƒ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/every#Compatibility">Polyfill</a>ã€‚</p><h5 id="some"><a href="#some" class="headerlink" title="some"></a><strong>some</strong></h5><p>some() æ–¹æ³•åˆšå¥½åŒ every() æ–¹æ³•ç›¸åï¼Œsome æµ‹è¯•æ•°ç»„å…ƒç´ æ—¶ï¼Œåªè¦æœ‰ä¸€ä¸ªå‡½æ•°è¿”å›å€¼ä¸º trueï¼Œåˆ™è¯¥æ–¹æ³•è¿”å› trueï¼Œè‹¥å…¨éƒ¨è¿”å› falseï¼Œåˆ™è¯¥æ–¹æ³•è¿”å› falseã€‚some æ–¹æ³•å­˜åœ¨å¦‚ä¸‹è§„å¾‹ï¼š</p><ul><li><p>è‹¥éœ€æ£€æµ‹æ•°ç»„ä¸­å­˜åœ¨å…ƒç´ å¤§äº100 (å³ one &gt; 100)ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦åœ¨ä¼ å…¥çš„å‡½æ•°ä¸­æ„é€  â€œtrueâ€ è¿”å›å€¼ (å³è¿”å› item &gt; 100)ï¼ŒåŒæ—¶æ•´ä¸ªæ–¹æ³•ç»“æœä¸º true æ‰è¡¨ç¤ºæ•°ç»„å­˜åœ¨å…ƒç´ æ»¡è¶³æ¡ä»¶ï¼›ï¼ˆç®€å•ç†è§£ä¸ºï¼šè‹¥æ˜¯å•é¡¹åˆ¤æ–­ï¼Œå¯ç”¨ one true ===&gt; trueï¼‰</p></li><li><p>è‹¥éœ€æ£€æµ‹æ•°ç»„ä¸­æ˜¯å¦æ‰€æœ‰å…ƒç´ éƒ½å¤§äº100ï¼ˆå³ all &gt; 100ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦åœ¨ä¼ å…¥çš„å‡½æ•°ä¸­æ„é€  â€œfalseâ€ è¿”å›å€¼ ï¼ˆå³è¿”å› item &lt;= 100ï¼‰ï¼ŒåŒæ—¶æ•´ä¸ªæ–¹æ³•ç»“æœä¸º false æ‰è¡¨ç¤ºæ•°ç»„æ‰€æœ‰å…ƒç´ å‡æ»¡è¶³æ¡ä»¶ã€‚ï¼ˆç®€å•ç†è§£ä¸ºï¼šè‹¥æ˜¯å…¨éƒ¨åˆ¤æ–­ï¼Œå¯ç”¨ all false ===&gt; falseï¼‰</p></li></ul><p>ä½ æ³¨æ„åˆ°æ²¡æœ‰ï¼Œsomeæ–¹æ³•ä¸includesæ–¹æ³•æœ‰ç€å¼‚æ›²åŒå·¥ä¹‹å¦™ï¼Œä»–ä»¬éƒ½æ˜¯æ¢æµ‹æ•°ç»„ä¸­æ˜¯å¦æ‹¥æœ‰æ»¡è¶³æ¡ä»¶çš„å…ƒç´ ï¼Œä¸€æ—¦æ‰¾åˆ°ï¼Œä¾¿è¿”å›trueã€‚å¤šè§‚å¯Ÿå’Œæ€»ç»“è¿™ç§å¾®å¦™çš„å…³è”å…³ç³»ï¼Œèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬æ·±å…¥ç†è§£å®ƒä»¬çš„åŸç†ã€‚</p><p>some çš„é¸­å¼è¾¨å‹å†™æ³•å¯ä»¥å‚ç…§everyï¼ŒåŒæ ·å®ƒä¹Ÿä¸èƒ½åœ¨ä½ç‰ˆæœ¬IEï¼ˆ6~8ï¼‰ä¸­ä½¿ç”¨ï¼Œå…¼å®¹å†™æ³•è¯·å‚è€ƒ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/some#Compatibility">Polyfill</a>ã€‚</p><h5 id="filter"><a href="#filter" class="headerlink" title="filter"></a><strong>filter</strong></h5><p>filter() æ–¹æ³•ä½¿ç”¨ä¼ å…¥çš„å‡½æ•°æµ‹è¯•æ‰€æœ‰å…ƒç´ ï¼Œå¹¶è¿”å›æ‰€æœ‰é€šè¿‡æµ‹è¯•çš„å…ƒç´ ç»„æˆçš„æ–°æ•°ç»„ã€‚å®ƒå°±å¥½æ¯”ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œç­›æ‰ä¸ç¬¦åˆæ¡ä»¶çš„å…ƒç´ ã€‚</p><p>è¯­æ³•ï¼š<em>arr.filter(fn, thisArg)</em></p><pre><code>var array = [18, 9, 10, 35, 80];var array2 = array.filter(function(value, index, array)&#123;  return value &gt; 20;&#125;);console.log(array2); // [35, 80]12345</code></pre><p>filterä¸€æ ·æ”¯æŒé¸­å¼è¾¨å‹ï¼Œå…·ä½“è¯·å‚è€ƒeveryæ–¹æ³•é¸­å¼è¾¨å‹å†™æ³•ã€‚å…¶åœ¨ä½ç‰ˆæœ¬IEï¼ˆ6~8ï¼‰çš„å…¼å®¹å†™æ³•è¯·å‚è€ƒ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/filter#Compatibility">Polyfill</a>ã€‚</p><h5 id="map"><a href="#map" class="headerlink" title="map"></a><strong>map</strong></h5><p>map() æ–¹æ³•éå†æ•°ç»„ï¼Œä½¿ç”¨ä¼ å…¥å‡½æ•°å¤„ç†æ¯ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›å‡½æ•°çš„è¿”å›å€¼ç»„æˆçš„æ–°æ•°ç»„ã€‚</p><p>è¯­æ³•ï¼š<em>arr.map(fn, thisArg)</em></p><p>å‚æ•°ä»‹ç»åŒ forEach æ–¹æ³•çš„å‚æ•°ä»‹ç»ã€‚</p><p>å…·ä½“ç”¨æ³•è¯·å‚è€ƒ <a href="http://louiszhai.github.io/2015/12/18/traverse/#map"><code>è¯¦è§£JSéå†</code></a> ä¸­ map çš„è®²è§£ã€‚</p><p>map ä¸€æ ·æ”¯æŒé¸­å¼è¾¨å‹, å…·ä½“è¯·å‚è€ƒeveryæ–¹æ³•é¸­å¼è¾¨å‹å†™æ³•ã€‚</p><p>å…¶åœ¨ä½ç‰ˆæœ¬IEï¼ˆ6~8ï¼‰çš„å…¼å®¹å†™æ³•è¯·å‚è€ƒ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/map#Compatibility">Polyfill</a>ã€‚</p><h5 id="reduce"><a href="#reduce" class="headerlink" title="reduce"></a><strong>reduce</strong></h5><p>reduce() æ–¹æ³•æ¥æ”¶ä¸€ä¸ªæ–¹æ³•ä½œä¸ºç´¯åŠ å™¨ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå€¼(ä»å·¦è‡³å³) å¼€å§‹åˆå¹¶ï¼Œæœ€ç»ˆä¸ºä¸€ä¸ªå€¼ã€‚</p><p>è¯­æ³•ï¼š<em>arr.reduce(fn, initialValue)</em></p><p>fn è¡¨ç¤ºåœ¨æ•°ç»„æ¯ä¸€é¡¹ä¸Šæ‰§è¡Œçš„å‡½æ•°ï¼Œæ¥å—å››ä¸ªå‚æ•°ï¼š</p><ul><li>previousValue ä¸Šä¸€æ¬¡è°ƒç”¨å›è°ƒè¿”å›çš„å€¼ï¼Œæˆ–è€…æ˜¯æä¾›çš„åˆå§‹å€¼</li><li>value æ•°ç»„ä¸­å½“å‰è¢«å¤„ç†å…ƒç´ çš„å€¼</li><li>index å½“å‰å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•</li><li>array æ•°ç»„è‡ªèº«</li></ul><p>initialValue æŒ‡å®šç¬¬ä¸€æ¬¡è°ƒç”¨ fn çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚</p><p>å½“ fn ç¬¬ä¸€æ¬¡æ‰§è¡Œæ—¶ï¼š</p><ul><li>å¦‚æœ initialValue åœ¨è°ƒç”¨ reduce æ—¶è¢«æä¾›ï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ª previousValue å°†ç­‰äº initialValueï¼Œæ­¤æ—¶ item ç­‰äºæ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå€¼ï¼›</li><li>å¦‚æœ initialValue æœªè¢«æä¾›ï¼Œé‚£ä¹ˆ previousVaule ç­‰äºæ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå€¼ï¼Œitem ç­‰äºæ•°ç»„ä¸­çš„ç¬¬äºŒä¸ªå€¼ã€‚æ­¤æ—¶å¦‚æœæ•°ç»„ä¸ºç©ºï¼Œé‚£ä¹ˆå°†æŠ›å‡º TypeErrorã€‚</li><li>å¦‚æœæ•°ç»„ä»…æœ‰ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶ä¸”æ²¡æœ‰æä¾› initialValueï¼Œæˆ–æä¾›äº† initialValue ä½†æ•°ç»„ä¸ºç©ºï¼Œé‚£ä¹ˆfnä¸ä¼šè¢«æ‰§è¡Œï¼Œæ•°ç»„çš„å”¯ä¸€å€¼å°†è¢«è¿”å›ã€‚</li></ul><pre><code>var array = [1, 2, 3, 4];var s = array.reduce(function(previousValue, value, index, array)&#123;  return previousValue * value;&#125;,1);console.log(s); // 24// ES6å†™æ³•æ›´åŠ ç®€æ´array.reduce((p, v) =&gt; p * v); // 241234567</code></pre><p>ä»¥ä¸Šå›è°ƒè¢«è°ƒç”¨4æ¬¡ï¼Œæ¯æ¬¡çš„å‚æ•°å’Œè¿”å›è§ä¸‹è¡¨ï¼š</p><table><thead><tr><th align="center">callback</th><th align="center">previousValue</th><th align="center">currentValue</th><th align="center">index</th><th align="center">array</th><th align="center">return value</th></tr></thead><tbody><tr><td align="center">ç¬¬1æ¬¡</td><td align="center">1</td><td align="center">1</td><td align="center">0</td><td align="center">[1,2,3,4]</td><td align="center">1</td></tr><tr><td align="center">ç¬¬2æ¬¡</td><td align="center">1</td><td align="center">2</td><td align="center">1</td><td align="center">[1,2,3,4]</td><td align="center">2</td></tr><tr><td align="center">ç¬¬3æ¬¡</td><td align="center">2</td><td align="center">3</td><td align="center">2</td><td align="center">[1,2,3,4]</td><td align="center">6</td></tr><tr><td align="center">ç¬¬4æ¬¡</td><td align="center">6</td><td align="center">4</td><td align="center">3</td><td align="center">[1,2,3,4]</td><td align="center">24</td></tr></tbody></table><p>reduce ä¸€æ ·æ”¯æŒé¸­å¼è¾¨å‹ï¼Œå…·ä½“è¯·å‚è€ƒeveryæ–¹æ³•é¸­å¼è¾¨å‹å†™æ³•ã€‚</p><p>å…¶åœ¨ä½ç‰ˆæœ¬IEï¼ˆ6~8ï¼‰çš„å…¼å®¹å†™æ³•è¯·å‚è€ƒ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce#%E5%85%BC%E5%AE%B9%E6%97%A7%E7%8E%AF%E5%A2%83%EF%BC%88Polyfill%EF%BC%89">Polyfill</a>ã€‚</p><h5 id="reduceRight"><a href="#reduceRight" class="headerlink" title="reduceRight"></a><strong>reduceRight</strong></h5><p>reduceRight() æ–¹æ³•æ¥æ”¶ä¸€ä¸ªæ–¹æ³•ä½œä¸ºç´¯åŠ å™¨ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå€¼ï¼ˆä»å³è‡³å·¦ï¼‰å¼€å§‹åˆå¹¶ï¼Œæœ€ç»ˆä¸ºä¸€ä¸ªå€¼ã€‚é™¤äº†ä¸reduceæ‰§è¡Œæ–¹å‘ç›¸åå¤–ï¼Œå…¶ä»–å®Œå…¨ä¸å…¶ä¸€è‡´ï¼Œè¯·å‚è€ƒä¸Šè¿° reduce æ–¹æ³•ä»‹ç»ã€‚</p><p>å…¶åœ¨ä½ç‰ˆæœ¬IEï¼ˆ6~8ï¼‰çš„å…¼å®¹å†™æ³•è¯·å‚è€ƒ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/reduceRight#.E5.85.BC.E5.AE.B9.E6.80.A7.E6.97.A7.E7.8E.AF.E5.A2.83.EF.BC.88Polyfill.EF.BC.89">Polyfill</a>ã€‚</p><h5 id="entries-ES6"><a href="#entries-ES6" class="headerlink" title="entries(ES6)"></a><strong>entries(ES6)</strong></h5><p>entries() æ–¹æ³•åŸºäº<strong>ECMAScript 2015ï¼ˆES6ï¼‰è§„èŒƒ</strong>ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„è¿­ä»£å™¨å¯¹è±¡ï¼Œè¯¥å¯¹è±¡åŒ…å«æ•°ç»„ä¸­æ¯ä¸ªç´¢å¼•çš„é”®å€¼å¯¹ã€‚</p><p>è¯­æ³•ï¼š<em>arr.entries()</em></p><pre><code>var array = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;];var iterator = array.entries();console.log(iterator.next().value); // [0, &quot;a&quot;]console.log(iterator.next().value); // [1, &quot;b&quot;]console.log(iterator.next().value); // [2, &quot;c&quot;]console.log(iterator.next().value); // undefined, è¿­ä»£å™¨å¤„äºæ•°ç»„æœ«å°¾æ—¶, å†è¿­ä»£å°±ä¼šè¿”å›undefined123456</code></pre><p>å¾ˆæ˜æ˜¾ï¼Œentries ä¹Ÿå—ç›Šäºé¸­å¼è¾¨å‹ï¼Œå¦‚ä¸‹ï¼š</p><pre><code>var o = &#123;0:&quot;a&quot;, 1:&quot;b&quot;, 2:&quot;c&quot;, length:3&#125;;var iterator = Array.prototype.entries.call(o);console.log(iterator.next().value); // [0, &quot;a&quot;]console.log(iterator.next().value); // [1, &quot;b&quot;]console.log(iterator.next().value); // [2, &quot;c&quot;]12345</code></pre><p>ç”±äºè¯¥æ–¹æ³•åŸºäºES6ï¼Œå› æ­¤ç›®å‰å¹¶ä¸æ”¯æŒæ‰€æœ‰æµè§ˆå™¨ï¼Œä»¥ä¸‹æ˜¯å„æµè§ˆå™¨æ”¯æŒç‰ˆæœ¬ï¼š</p><table><thead><tr><th align="left">Browser</th><th align="left">Chrome</th><th align="left">Firefox (Gecko)</th><th align="left">Internet Explorer</th><th align="left">Opera</th><th align="left">Safari</th></tr></thead><tbody><tr><td align="left">Basic support</td><td align="left">38</td><td align="left"><a href="https://developer.mozilla.org/en-US/Firefox/Releases/28">28</a> (28)</td><td align="left">æœªå®ç°</td><td align="left">25</td><td align="left">7.1</td></tr></tbody></table><h5 id="find-amp-findIndex-ES6"><a href="#find-amp-findIndex-ES6" class="headerlink" title="find&amp;findIndex(ES6)"></a><strong>find&amp;findIndex(ES6)</strong></h5><p>find() æ–¹æ³•åŸºäº<strong>ECMAScript 2015ï¼ˆES6ï¼‰è§„èŒƒ</strong>ï¼Œè¿”å›æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„å…ƒç´ ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ï¼Œ å¦‚æœæ²¡æœ‰ï¼Œåˆ™è¿”å›undefinedã€‚</p><p>findIndex() æ–¹æ³•ä¹ŸåŸºäº<strong>ECMAScript 2015ï¼ˆES6ï¼‰è§„èŒƒ</strong>ï¼Œå®ƒè¿”å›æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„å…ƒç´ çš„ç´¢å¼•ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰å¦åˆ™è¿”å›-1ã€‚</p><p>è¯­æ³•ï¼š<em>arr.find(fn, thisArg)<em>ï¼Œ</em>arr.findIndex(fn, thisArg)</em></p><p>æˆ‘ä»¬å‘ç°å®ƒä»¬çš„è¯­æ³•ä¸forEachç­‰ååˆ†ç›¸ä¼¼ï¼Œå…¶å®ä¸å…‰è¯­æ³•ï¼Œfindï¼ˆæˆ–findIndexï¼‰åœ¨å‚æ•°åŠå…¶ä½¿ç”¨æ³¨æ„äº‹é¡¹ä¸Šï¼Œå‡ä¸forEachä¸€è‡´ã€‚å› æ­¤æ­¤å¤„å°†ç•¥å» findï¼ˆæˆ–findIndexï¼‰çš„å‚æ•°ä»‹ç»ã€‚ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸ªä¾‹å­ğŸŒ° ï¼š</p><pre><code>var array = [1, 3, 5, 7, 8, 9, 10];function f(value, index, array)&#123;  return value%2==0; // è¿”å›å¶æ•°&#125;function f2(value, index, array)&#123;  return value &gt; 20; // è¿”å›å¤§äº20çš„æ•°&#125;console.log(array.find(f)); // 8console.log(array.find(f2)); // undefinedconsole.log(array.findIndex(f)); // 4console.log(array.findIndex(f2)); // -11234567891011</code></pre><p>ç”±äºå…¶é¸­å¼è¾¨å‹å†™æ³•ä¹Ÿä¸forEachæ–¹æ³•ä¸€è‡´ï¼Œæ•…æ­¤å¤„ç•¥å»ã€‚</p><p>å…¼å®¹æ€§ä¸Šæˆ‘æ²¡æœ‰è¯¦æµ‹ï¼Œå¯ä»¥çŸ¥é“çš„æ˜¯ï¼Œæœ€æ–°ç‰ˆçš„Chrome v47ï¼Œä»¥åŠFirefoxçš„ç‰ˆæœ¬25å‡å®ç°äº†å®ƒä»¬ã€‚</p><h5 id="keys-ES6"><a href="#keys-ES6" class="headerlink" title="keys(ES6)"></a><strong>keys(ES6)</strong></h5><p>keys() æ–¹æ³•åŸºäº<strong>ECMAScript 2015ï¼ˆES6ï¼‰è§„èŒƒ</strong>ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„ç´¢å¼•çš„è¿­ä»£å™¨ã€‚ï¼ˆæµè§ˆå™¨å®é™…å®ç°å¯èƒ½ä¼šæœ‰è°ƒæ•´ï¼‰</p><p>è¯­æ³•ï¼š<em>arr.keys()</em></p><pre><code>var array = [&quot;abc&quot;, &quot;xyz&quot;];var iterator = array.keys();console.log(iterator.next()); // Object &#123;value: 0, done: false&#125;console.log(iterator.next()); // Object &#123;value: 1, done: false&#125;console.log(iterator.next()); // Object &#123;value: undefined, done: false&#125;12345</code></pre><p>ç´¢å¼•è¿­ä»£å™¨ä¼šåŒ…å«é‚£äº›æ²¡æœ‰å¯¹åº”å…ƒç´ çš„ç´¢å¼•ï¼Œå¦‚ä¸‹ï¼š</p><pre><code>var array = [&quot;abc&quot;, , &quot;xyz&quot;];var sparseKeys = Object.keys(array);var denseKeys = [...array.keys()];console.log(sparseKeys); // [&quot;0&quot;, &quot;2&quot;]console.log(denseKeys);  // [0, 1, 2]12345</code></pre><p>å…¶é¸­å¼è¾¨å‹å†™æ³•è¯·å‚è€ƒä¸Šè¿° entries æ–¹æ³•ã€‚</p><p>å‰é¢æˆ‘ä»¬ç”¨Array.fromç”Ÿæˆä¸€ä¸ªä»0åˆ°æŒ‡å®šæ•°å­—çš„æ–°æ•°ç»„ï¼Œåˆ©ç”¨keysä¹Ÿå¾ˆå®¹æ˜“å®ç°ã€‚</p><pre><code>[...Array(10).keys()]; // [0, 1, 2, 3, 4, 5, 6, 7, 8, 9][...new Array(10).keys()]; // [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]12</code></pre><p>ç”±äºArrayçš„ç‰¹æ€§ï¼Œnew Array å’Œ Array å¯¹å•ä¸ªæ•°å­—çš„å¤„ç†ç›¸åŒï¼Œå› æ­¤ä»¥ä¸Šä¸¤ç§å‡å¯è¡Œã€‚</p><p>keysåŸºäºES6ï¼Œå¹¶æœªå®Œå…¨æ”¯æŒï¼Œä»¥ä¸‹æ˜¯å„æµè§ˆå™¨æ”¯æŒç‰ˆæœ¬ï¼š</p><table><thead><tr><th align="center">Browser</th><th align="center">Chrome</th><th align="center">Firefox (Gecko)</th><th align="center">Internet Explorer</th><th align="center">Opera</th><th align="center">Safari</th></tr></thead><tbody><tr><td align="center">Basic support</td><td align="center">38</td><td align="center"><a href="https://developer.mozilla.org/en-US/Firefox/Releases/28">28</a> (28)</td><td align="center">æœªå®ç°</td><td align="center">25</td><td align="center">7.1</td></tr></tbody></table><h5 id="values-ES6"><a href="#values-ES6" class="headerlink" title="values(ES6)"></a><strong>values(ES6)</strong></h5><p>values() æ–¹æ³•åŸºäº<strong>ECMAScript 2015ï¼ˆES6ï¼‰è§„èŒƒ</strong>ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„è¿­ä»£å™¨å¯¹è±¡ï¼Œè¯¥å¯¹è±¡åŒ…å«æ•°ç»„ä¸­æ¯ä¸ªç´¢å¼•çš„å€¼ã€‚å…¶ç”¨æ³•åŸºæœ¬ä¸ä¸Šè¿° entries æ–¹æ³•ä¸€è‡´ã€‚</p><p>è¯­æ³•ï¼š<em>arr.values()</em></p><p>é—æ†¾çš„æ˜¯ï¼Œç°åœ¨æ²¡æœ‰æµè§ˆå™¨å®ç°äº†è¯¥æ–¹æ³•ï¼Œå› æ­¤ä¸‹é¢å°†å°±ç€çœ‹çœ‹å§ã€‚</p><pre><code>var array = [&quot;abc&quot;, &quot;xyz&quot;];var iterator = array.values();console.log(iterator.next().value);//abcconsole.log(iterator.next().value);//xyz1234</code></pre><h5 id="Symbol-iterator-ES6"><a href="#Symbol-iterator-ES6" class="headerlink" title="Symbol.iterator(ES6)"></a><strong>Symbol.iterator(ES6)</strong></h5><p>è¯¥æ–¹æ³•åŸºäº<strong>ECMAScript 2015ï¼ˆES6ï¼‰è§„èŒƒ</strong>ï¼ŒåŒ values æ–¹æ³•åŠŸèƒ½ç›¸åŒã€‚</p><p>è¯­æ³•ï¼š<em>arr<a href="">Symbol.iterator</a></em></p><pre><code>var array = [&quot;abc&quot;, &quot;xyz&quot;];var iterator = array[Symbol.iterator]();console.log(iterator.next().value); // abcconsole.log(iterator.next().value); // xyz1234</code></pre><p>å…¶é¸­å¼è¾¨å‹å†™æ³•è¯·å‚è€ƒä¸Šè¿° entries æ–¹æ³•ã€‚</p><p>ç”±äºè¯¥æ–¹æ³•åŸºäºES6ï¼Œå¹¶æœªå®Œå…¨æ”¯æŒï¼Œä»¥ä¸‹æ˜¯å„æµè§ˆå™¨æ”¯æŒç‰ˆæœ¬ï¼š</p><table><thead><tr><th align="center">Browser</th><th align="center">Chrome</th><th align="center">Firefox (Gecko)</th><th align="center">Internet Explorer</th><th align="center">Opera</th><th align="center">Safari</th></tr></thead><tbody><tr><td align="center">Basic support</td><td align="center">38</td><td align="center"><a href="https://developer.mozilla.org/en-US/Firefox/Releases/36">36</a> (36) <a href="http://louiszhai.github.io/2017/04/28/array/#respond">1</a></td><td align="center">æœªå®ç°</td><td align="center">25</td><td align="center">æœªå®ç°</td></tr></tbody></table><h3 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a><strong>å°ç»“</strong></h3><p>ä»¥ä¸Šï¼ŒArray.prototype çš„å„æ–¹æ³•åŸºæœ¬ä»‹ç»å®Œæ¯•ï¼Œè¿™äº›æ–¹æ³•ä¹‹é—´å­˜åœ¨å¾ˆå¤šå…±æ€§ã€‚æ¯”å¦‚ï¼š</p><ul><li>æ‰€æœ‰æ’å…¥å…ƒç´ çš„æ–¹æ³•, æ¯”å¦‚ pushã€unshiftï¼Œä¸€å¾‹è¿”å›æ•°ç»„æ–°çš„é•¿åº¦ï¼›</li><li>æ‰€æœ‰åˆ é™¤å…ƒç´ çš„æ–¹æ³•ï¼Œæ¯”å¦‚ popã€shiftã€splice ä¸€å¾‹è¿”å›åˆ é™¤çš„å…ƒç´ ï¼Œæˆ–è€…è¿”å›åˆ é™¤çš„å¤šä¸ªå…ƒç´ ç»„æˆçš„æ•°ç»„ï¼›</li><li>éƒ¨åˆ†éå†æ–¹æ³•ï¼Œæ¯”å¦‚ forEachã€everyã€someã€filterã€mapã€findã€findIndexï¼Œå®ƒä»¬éƒ½åŒ…å«<code>function(value,index,array)&#123;&#125;</code> å’Œ <code>thisArg</code> è¿™æ ·ä¸¤ä¸ªå½¢å‚ã€‚</li></ul><p>Array.prototype çš„æ‰€æœ‰æ–¹æ³•å‡å…·æœ‰é¸­å¼è¾¨å‹è¿™ç§ç¥å¥‡çš„ç‰¹æ€§ã€‚å®ƒä»¬ä¸æ­¢å¯ä»¥ç”¨æ¥å¤„ç†æ•°ç»„å¯¹è±¡ï¼Œè¿˜å¯ä»¥å¤„ç†ç±»æ•°ç»„å¯¹è±¡ã€‚</p><p>ä¾‹å¦‚ javascript ä¸­ä¸€ä¸ªçº¯å¤©ç„¶çš„ç±»æ•°ç»„å¯¹è±¡å­—ç¬¦ä¸²ï¼ˆStringï¼‰ï¼Œåƒjoinæ–¹æ³•ï¼ˆä¸æ”¹å˜å½“å‰å¯¹è±¡è‡ªèº«ï¼‰å°±å®Œå…¨é€‚ç”¨ï¼Œå¯æƒœçš„æ˜¯ Array.prototype ä¸­å¾ˆå¤šæ–¹æ³•å‡ä¼šå»è¯•å›¾ä¿®æ”¹å½“å‰å¯¹è±¡çš„ length å±æ€§ï¼Œæ¯”å¦‚è¯´ popã€pushã€shift, unshift æ–¹æ³•ï¼Œæ“ä½œ String å¯¹è±¡æ—¶ï¼Œç”±äºStringå¯¹è±¡çš„é•¿åº¦æœ¬èº«ä¸å¯æ›´æ”¹ï¼Œè¿™å°†å¯¼è‡´æŠ›å‡ºTypeErroré”™è¯¯ã€‚</p><p>è¿˜è®°å¾—ä¹ˆï¼ŒArray.prototypeæœ¬èº«å°±æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå¹¶ä¸”å®ƒçš„é•¿åº¦ä¸º0ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> API </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode_part1</title>
      <link href="2020/09/25/leetcode-part1/"/>
      <url>2020/09/25/leetcode-part1/</url>
      
        <content type="html"><![CDATA[<h1 id="ä¸¤æ•°ä¹‹å’Œ"><a href="#ä¸¤æ•°ä¹‹å’Œ" class="headerlink" title="ä¸¤æ•°ä¹‹å’Œ"></a>ä¸¤æ•°ä¹‹å’Œ</h1><p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªç›®æ ‡å€¼ targetï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡ºå’Œä¸ºç›®æ ‡å€¼çš„é‚£ ä¸¤ä¸ª æ•´æ•°ï¼Œå¹¶è¿”å›ä»–ä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚</p><p>ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆã€‚ä½†æ˜¯ï¼Œæ•°ç»„ä¸­åŒä¸€ä¸ªå…ƒç´ ä¸èƒ½ä½¿ç”¨ä¸¤éã€‚</p><p> ç¤ºä¾‹:</p><pre><code>ç»™å®š nums = [2, 7, 11, 15], target = 9å› ä¸º nums[0] + nums[1] = 2 + 7 = 9æ‰€ä»¥è¿”å› [0, 1][0ï¼Œ0ï¼Œ1ï¼Œ3ï¼Œ1ï¼Œ6] target = 0è¿”å›[0,1][-2,-31,-8,-10,-9,-7] target = -11è¿”å›[0ï¼Œ4]</code></pre><p>æˆ‘çš„ä»£ç </p><pre><code>var twoSum = function(nums, target) &#123;    let res = []    for(let i = 0;i &lt; nums.length; i++) &#123;        // if(nums[i] &gt; target)        //     continue;        let logNum = target - nums[i]        for(let j = i + 1;j &lt; nums.length;j++) &#123;            if(logNum === nums[j])&#123;                res.push(i)                res.push(j)                return res            &#125;        &#125;    &#125;&#125;;</code></pre><p>æ‰§è¡Œç”¨æ—¶ï¼š124 ms, åœ¨æ‰€æœ‰ JavaScript æäº¤ä¸­å‡»è´¥äº†53.14%çš„ç”¨æˆ· æ—¶é—´å¤æ‚åº¦O(N^2^)</p><p>å†…å­˜æ¶ˆè€—ï¼š38.6 MB, åœ¨æ‰€æœ‰ JavaScript æäº¤ä¸­å‡»è´¥äº†22.59%çš„ç”¨æˆ·</p><h2 id="hashè¡¨è§£æ³•"><a href="#hashè¡¨è§£æ³•" class="headerlink" title="hashè¡¨è§£æ³•"></a>hashè¡¨è§£æ³•</h2><p>åˆ©ç”¨æ•°ç»„å‡å°‘æŸ¥è¯¢æ—¶é—´<br>åœ¨æš´åŠ›æ³•ä¸­ï¼Œå†…å±‚å¾ªç¯æŸ¥æ‰¾å·®å€¼å¾ˆæµªè´¹æ—¶é—´ï¼Œé‚£ä¹ˆå¦‚ä½•å‡å°‘æŸ¥è¯¢æ—¶é—´å‘¢ï¼Ÿåˆ©ç”¨æ•°ç»„å°±å¯ä»¥å‡å°‘æŸ¥è¯¢æ—¶é—´ã€‚<br>ä½¿ç”¨ä¸€å±‚å¾ªç¯ï¼Œæ¯éå†åˆ°ä¸€ä¸ªå…ƒç´ å°±è®¡ç®—è¯¥å…ƒç´ ä¸ targetä¹‹é—´çš„å·®å€¼ difï¼Œç„¶åä»¥ dif ä¸ºä¸‹æ ‡åˆ°æ•°ç»„tempä¸­å¯»æ‰¾ï¼Œå¦‚æœ temp[dif] æœ‰å€¼(å³ä¸æ˜¯ undefined)ï¼Œåˆ™è¿”å›ä¸¤ä¸ªå…ƒç´ åœ¨æ•°ç»„ nums çš„ä¸‹æ ‡ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™å°†å½“å‰å…ƒç´ å­˜å…¥æ•°ç»„ temp ä¸­(ä¸‹æ ‡: nums[i], Value: i) ã€‚<br>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</p><pre><code>var twoSum = function(nums, target) &#123;    var temp = [];    for(var i=0;i&lt;nums.length;i++)&#123;        var dif = target - nums[i];        if(temp[dif] != undefined)&#123;            return [temp[dif],i];        &#125;        temp[nums[i]] = i;    &#125;&#125;;</code></pre><p>è‡ªæˆ‘ä¼˜åŒ–åä»£ç </p><pre><code>var twoSum = function(nums, target) &#123;    let res = new Map();    let dif = 0;    let i = nums.length - 1;    while(i &gt;= 0) &#123;        dif = target - nums[i];        if(res.has(dif)) &#123;           return [res.get(dif),i]       &#125;       res.set(nums[i],i)       i--    &#125;&#125;;</code></pre><p>æ‰§è¡Œç”¨æ—¶ï¼š72 ms, åœ¨æ‰€æœ‰ JavaScript æäº¤ä¸­å‡»è´¥äº†95.34%çš„ç”¨æˆ·</p><p>å†…å­˜æ¶ˆè€—ï¼š39.4 MB, åœ¨æ‰€æœ‰ JavaScript æäº¤ä¸­å‡»è´¥äº†8.00%çš„ç”¨æˆ·</p><h1 id="æ•´æ•°åè½¬"><a href="#æ•´æ•°åè½¬" class="headerlink" title="æ•´æ•°åè½¬"></a>æ•´æ•°åè½¬</h1><p>ç»™å‡ºä¸€ä¸ª 32 ä½çš„æœ‰ç¬¦å·æ•´æ•°ï¼Œä½ éœ€è¦å°†è¿™ä¸ªæ•´æ•°ä¸­æ¯ä½ä¸Šçš„æ•°å­—è¿›è¡Œåè½¬ã€‚</p><p><strong>ç¤ºä¾‹ 1:</strong></p><pre><code>è¾“å…¥: 123è¾“å‡º: 321</code></pre><p>æˆ‘çš„ä»£ç </p><pre><code>var reverse = function(x) &#123;   let log = &#39;&#39;    let num = &#39;&#39;    function count(y) &#123;        if(y &lt; 0)&#123;            log = &#39;-&#39;            y = Math.abs(y)        &#125;        log = log + y % 10         num = (String)(y / 10)        if(parseInt(num) != 0) &#123;            count(parseInt(num))        &#125;        let logNum = parseInt(log)        return ((logNum &gt;= Math.pow(-2,31) &amp;&amp; logNum &lt;= (Math.pow(2,31) - 1)) ? logNum : 0)    &#125;    return count(x)&#125;;</code></pre><h2 id="åˆ«äººçš„è§£æ³•"><a href="#åˆ«äººçš„è§£æ³•" class="headerlink" title="åˆ«äººçš„è§£æ³•"></a>åˆ«äººçš„è§£æ³•</h2><ol><li>result * 10 + x % 10 å–å‡ºæœ«ä½ x % 10ï¼ˆè´Ÿæ•°ç»“æœè¿˜æ˜¯è´Ÿæ•°ï¼Œæ— éœ€å…³å¿ƒæ­£è´Ÿï¼‰ï¼Œæ‹¼æ¥åˆ° result ä¸­</li><li>x / 10 å»é™¤æœ«ä½ï¼Œ| 0 å¼ºåˆ¶è½¬æ¢ä¸º32ä½æœ‰ç¬¦å·æ•´æ•°ã€‚</li><li>é€šè¿‡ | 0 å–æ•´ï¼Œæ— è®ºæ­£è´Ÿï¼Œåªç§»é™¤å°æ•°ç‚¹éƒ¨åˆ†ï¼ˆæ­£æ•°å‘ä¸‹å–æ•´ï¼Œè´Ÿæ•°å‘ä¸Šå–æ•´ï¼‰ã€‚</li><li>result | 0 è¶…è¿‡32ä½çš„æ•´æ•°è½¬æ¢ç»“æœä¸ç­‰äºè‡ªèº«ï¼Œå¯ç”¨ä½œæº¢å‡ºåˆ¤æ–­ã€‚</li></ol><pre><code>var reverse = function(x) &#123;    let result = 0;    while(x !== 0) &#123;        result = result * 10 + x % 10;        x = (x / 10) | 0;    &#125;    return (result | 0) === result ? result : 0;&#125;;</code></pre><pre><code>var reverse = function(x) &#123;    let ord = Math.abs(x);//å»ç¬¦å·    let now = 0;    while(ord &gt; 0)&#123;        now = now * 10 + ord % 10;        ord = Math.floor(ord / 10);    &#125;    if(x &lt; 0)&#123;        return now &lt;= Math.pow(2,31) ? -now : 0;    &#125;else&#123;        return now &lt; Math.pow(2,31) ? now : 0;    &#125;&#125;;</code></pre><h1 id="å›æ–‡æ•°"><a href="#å›æ–‡æ•°" class="headerlink" title="å›æ–‡æ•°"></a>å›æ–‡æ•°</h1><p>åˆ¤æ–­ä¸€ä¸ªæ•´æ•°æ˜¯å¦æ˜¯å›æ–‡æ•°ã€‚å›æ–‡æ•°æ˜¯æŒ‡æ­£åºï¼ˆä»å·¦å‘å³ï¼‰å’Œå€’åºï¼ˆä»å³å‘å·¦ï¼‰è¯»éƒ½æ˜¯ä¸€æ ·çš„æ•´æ•°ã€‚</p><p>ç¤ºä¾‹ :</p><pre><code>è¾“å…¥: 121è¾“å‡º: trueç¤ºä¾‹ 2:è¾“å…¥: -121è¾“å‡º: falseè§£é‡Š: ä»å·¦å‘å³è¯», ä¸º -121 ã€‚ ä»å³å‘å·¦è¯», ä¸º 121- ã€‚å› æ­¤å®ƒä¸æ˜¯ä¸€ä¸ªå›æ–‡æ•°ã€‚</code></pre><p>è‡ªå·±çš„ä»£ç </p><pre><code>var isPalindrome = function(x) &#123;    if(x &lt; 0)         return false    let n = 0    let log = x    while(x &gt; 0) &#123;        n = n * 10 + x % 10        x = Math.floor(x / 10)    &#125;    return (n === log) ? true : false&#125;;</code></pre><p>æ‰§è¡Œç”¨æ—¶ï¼š208 ms, åœ¨æ‰€æœ‰ JavaScript æäº¤ä¸­å‡»è´¥äº†92.57%çš„ç”¨æˆ·</p><p>å†…å­˜æ¶ˆè€—ï¼š46.4 MB, åœ¨æ‰€æœ‰ JavaScript æäº¤ä¸­å‡»è´¥äº†54.13%çš„ç”¨æˆ·</p><h2 id="åˆ«äººçš„è§£æ³•-1"><a href="#åˆ«äººçš„è§£æ³•-1" class="headerlink" title="åˆ«äººçš„è§£æ³•"></a>åˆ«äººçš„è§£æ³•</h2><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><p>ä½¿ç”¨é™¤æ³•å’Œæ±‚ä½™è·å¾—å¯¹åº”ä½ç½®çš„æ•°å­—ï¼Œæ— å­—ç¬¦ä¸²æ“ä½œã€‚</p><p><img src="https://s1.ax1x.com/2020/09/25/095JIO.png"></p><pre><code>var isPalindrome = function (x) &#123;    if (x &lt; 0) return false;    if (x &lt; 10) return true;    let n = 10 ** Math.floor(Math.log10(x));    while (n &gt; 1 &amp;&amp; x &gt; 0) &#123;        if (Math.floor(x / n) !== x % 10) return false;        x = Math.floor((x % n) / 10);        n /= 100;    &#125;    return true;&#125;;</code></pre>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®è§£æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> ç®—æ³• </tag>
            
            <tag> easy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>promise</title>
      <link href="2020/09/25/promise/"/>
      <url>2020/09/25/promise/</url>
      
        <content type="html"><![CDATA[<h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p>æ¦‚å¿µä¸Šè¯´ï¼ŒPromiseæ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆã€‚</p><p>ä»è¯­æ³•ä¸Šè¯´ï¼ŒPromiseæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯ä»¥ä»ä»–è·å–å¼‚æ­¥æ“ä½œçš„æ¶ˆæ¯ã€‚</p><h1 id="çŠ¶æ€"><a href="#çŠ¶æ€" class="headerlink" title="çŠ¶æ€"></a>çŠ¶æ€</h1><p>Promiseå¯¹è±¡æœ‰ä¸‰ç§çŠ¶æ€ï¼š</p><ol><li><p>pending ï¼ˆè¿›è¡Œä¸­ï¼‰</p></li><li><p>fulfilledï¼ˆå·²æˆåŠŸï¼‰</p></li><li><p>rejected ï¼ˆå·²å¤±è´¥ï¼‰</p></li></ol><h2 id="å‚æ•°"><a href="#å‚æ•°" class="headerlink" title="å‚æ•°"></a>å‚æ•°</h2><p>Promiseæ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¿™ä¸ªå‡½æ•°çš„ä¸¤ä¸ªå‚æ•°åˆ†åˆ«æ˜¯resolveå’Œrejectã€‚</p><ol><li><p>resolve -&gt; å°†Promiseå¯¹è±¡çš„çŠ¶æ€ä»pendingå˜ä¸ºresolved,å¹¶ä¸”å°†å¼‚æ­¥æ“ä½œæˆåŠŸè¿”å›çš„ç»“æœä½œä¸ºå‚æ•°ä¼ é€’å‡ºå»</p></li><li><p>reject -&gt; å°†Promiseå¯¹è±¡çš„çŠ¶æ€ä»pendingå˜ä¸º rejectedï¼Œå¹¶ä¸”å°†å¼‚æ­¥æ“ä½œè¿”å›çš„é”™è¯¯ä½œä¸ºå‚æ•°ä¼ é€’å‡ºå»</p></li></ol><h1 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h1><p>ã€€ã€€Promiseå¯¹è±¡æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š</p><p>ã€€ã€€1. å¯¹è±¡çš„çŠ¶æ€ä¸å—å¤–ç•Œå°è±¡ã€‚Promiseå¯¹è±¡çš„çŠ¶æ€åªæœ‰å¼‚æ­¥æ“ä½œçš„ç»“æœå¯ä»¥å†³å®š</p><p>ã€€ã€€2. å¯¹è±¡çš„çŠ¶æ€æ”¹å˜å°±ä¸ä¼šå†å˜ã€‚Promiseå¯¹è±¡æœ‰ä¸¤ç§çŠ¶æ€æ”¹å˜,ä¸€æ˜¯ä»pendingåˆ°resolvedï¼ŒäºŒæ˜¯ä»pendingåˆ°rejectedã€‚è¿™ä¸¤ç§çŠ¶æ€åªè¦å‘ç”Ÿä¸€ç§ï¼Œå°±ä¼šä¸€ç›´ä¿æŒè¿™ä¸ªç»“æœã€‚</p><h2 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h2><p>ã€€ã€€1. Promiseä¸€æ—¦æ‰§è¡Œï¼Œæ— æ³•å–æ¶ˆã€‚</p><p>ã€€ã€€2. Promiseå¦‚æœä¸è®¾ç½®å›è°ƒå‡½æ•°ï¼Œå…¶å†…éƒ¨æŠ›å‡ºçš„é”™è¯¯ä¸ä¼šååº”åˆ°å¤–éƒ¨</p><p>ã€€ã€€3. pendingçŠ¶æ€ï¼Œæ— æ³•å¾—çŸ¥ç›®å‰è¿›å±•åˆ°å“ªä¸€ä¸ªé˜¶æ®µ</p><h1 id="promiseæ–¹æ³•"><a href="#promiseæ–¹æ³•" class="headerlink" title="promiseæ–¹æ³•"></a>promiseæ–¹æ³•</h1><h2 id="thenæ–¹æ³•"><a href="#thenæ–¹æ³•" class="headerlink" title="thenæ–¹æ³•"></a>thenæ–¹æ³•</h2><p>thenæ–¹æ³•æ¥æ”¶ä¸¤ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯resolvedçŠ¶æ€çš„å›è°ƒå‡½æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯rejectedçŠ¶æ€çš„å›è°ƒå‡½æ•°ã€‚ä¸¤ä¸ªå‡½æ•°åªæœ‰ä¸€ä¸ªä¼šè¢«è°ƒç”¨ã€‚</p><pre><code>let p  = new Promise((resolve,reject) =&gt; &#123;    resolve() // ç»“æœè¾“å‡ºï¼šthenæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°    reject() // å½“å¤„äºreslovedçŠ¶æ€æ—¶æ²¡æœ‰è¾“å‡ºç»“æœï¼Œä¸¤ä¸ªæ–¹æ³•ä¸èƒ½åŒæ—¶ç”Ÿæ•ˆ ç»“æœè¾“å‡ºï¼šthenæ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°&#125;)p.then(() =&gt; &#123;    console.log(&quot;thenæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°&quot;)&#125;,() =&gt; &#123;    console.log(&quot;thenæ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°&quot;)&#125;).catch(() =&gt; &#123;    console.log(&quot;catchæ–¹æ³•&quot;)&#125;)</code></pre><p>thenæ–¹æ³•è¿”å›ä¸€ä¸ªæ–°çš„Promiseå®ä¾‹ï¼ˆä¸æ˜¯ä¹‹å‰é‚£ä¸ªï¼‰ï¼Œæ•…æ­¤å¯ä»¥å†™æˆé“¾å¼è°ƒç”¨ï¼Œthenæ–¹æ³•ä¹‹åå†è°ƒç”¨å¦ä¸€ä¸ªthenæ–¹æ³•ã€‚è¿™æ ·çš„å†™æ³•å¯ä»¥æŒ‡å®šä¸€ç»„æŒ‰ç…§æ¬¡åºè°ƒç”¨çš„å›è°ƒå‡½æ•°ï¼Œå› ä¸ºå¦‚æœå‰é¢ä¸€ä¸ªå›è°ƒå‡½æ•°è¿”å›çš„ä¾ç„¶æ˜¯ä¸€ä¸ªpromiseå¯¹è±¡ï¼Œé‚£ä¹ˆä¸‹ä¸€ä¸ªå›è°ƒå‡½æ•°å°±ä¼šç­‰å¾…è¿™ä¸ªPromiseçš„çŠ¶æ€ç»“æœæ‰è°ƒç”¨ã€‚</p><pre><code>let p  = new Promise((resolve,reject) =&gt; &#123;    setTimeout(() =&gt; &#123;        console.log(&quot;Promise ----- p&quot;)        resolve()    &#125;,1000)&#125;)let p1 = new Promise((resolve,reject) =&gt;&#123;    console.log(&quot;Promise ----- p1&quot;)    resolve(p)&#125;)p1.then(res =&gt; &#123;    console.log(&quot;thenæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°&quot;)&#125;).catch(() =&gt; &#123;    console.log(&quot;catchæ–¹æ³•&quot;)&#125;)è¿”å›ç»“æœçš„è¾“å‡ºé¡ºåºï¼šã€€ã€€Promise ----- p1ã€€ã€€ï¼ˆä¸¤æ¬¡è¾“å‡ºä¹‹é—´é—´éš”1ç§’ï¼‰ã€€ã€€Promise ----- pã€€ã€€thenæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°</code></pre><h3 id="é“¾å¼è°ƒç”¨"><a href="#é“¾å¼è°ƒç”¨" class="headerlink" title="é“¾å¼è°ƒç”¨"></a>é“¾å¼è°ƒç”¨</h3><pre><code>let p  = new Promise((resolve,reject) =&gt; &#123;    resolve()&#125;)p.then(() =&gt; &#123;    console.log(&quot;ç¬¬ä¸€ä¸ªthenæ–¹æ³•&quot;)&#125;).then(() =&gt; &#123;    console.log(&quot;ç¬¬äºŒä¸ªthenæ–¹æ³•&quot;)&#125;).then(() =&gt; &#123;    console.log(&quot;ç¬¬ä¸‰ä¸ªthenæ–¹æ³•&quot;)&#125;).then(() =&gt; &#123;    console.log(&quot;ç¬¬å››ä¸ªthenæ–¹æ³•&quot;)&#125;).then(() =&gt; &#123;    console.log(&quot;ç¬¬äº”ä¸ªthenæ–¹æ³•&quot;)&#125;)è¾“å‡ºç»“æœï¼šã€€ã€€ç¬¬ä¸€ä¸ªthenæ–¹æ³•ã€€ã€€ç¬¬äºŒä¸ªthenæ–¹æ³•ã€€ã€€ç¬¬ä¸‰ä¸ªthenæ–¹æ³•ã€€ã€€ç¬¬å››ä¸ªthenæ–¹æ³•ã€€ã€€ç¬¬äº”ä¸ªthenæ–¹æ³•</code></pre><h2 id="catchæ–¹æ³•"><a href="#catchæ–¹æ³•" class="headerlink" title="catchæ–¹æ³•"></a><strong>catchæ–¹æ³•</strong></h2><p>å‘ç”Ÿé”™è¯¯æ—¶çš„å›è°ƒå‡½æ•°ã€‚Promiseå¯¹è±¡çš„é”™è¯¯å…·æœ‰å‘åä¼ é€’çš„æ€§è´¨ï¼Œå‰é¢çš„é”™è¯¯ï¼ˆåŒ…æ‹¬thenæ–¹æ³•ä¸­çš„é”™è¯¯æˆ–è€…å‰é¢ä¸€ä¸ªcatchä¸­çš„é”™è¯¯ï¼‰æ€»æ˜¯ä¼šè¢«ä¸‹ä¸€ ä¸ªcatchæ•è·ï¼ˆæ•è·å‰é¢æ²¡æœ‰è¢«æ•è·çš„é”™è¯¯ï¼ŒåŒ…æ‹¬thençš„å›è°ƒå‡½æ•°ä¸­æŠ›å‡ºçš„é”™è¯¯ï¼‰ã€‚</p><pre><code>let p  = new Promise((resolve,reject) =&gt; &#123;    reject()&#125;)p.then(() =&gt; &#123;    console.log(&quot;thenæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°&quot;)&#125;).catch(() =&gt; &#123;    console.log(&quot;catchæ–¹æ³•&quot;)&#125;)ç»“æœè¾“å‡º:ã€€ã€€catchæ–¹æ³•</code></pre><p>catchæ•æ‰thenæ–¹æ³•ä¸­çš„é”™è¯¯</p><pre><code>let p  = new Promise((resolve,reject) =&gt; &#123;    resolve()&#125;)p.then(() =&gt; &#123;    console.log(&quot;thenæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°&quot;)    throw new Error(&quot;then é”™è¯¯&quot;)&#125;).catch(() =&gt; &#123;    console.log(&quot;catchæ–¹æ³•&quot;)&#125;)è¾“å‡ºç»“æœï¼šã€€ã€€ã€€thenæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€€ã€€catchæ–¹æ³•</code></pre><p>catchå‘åä¼ é€’çš„ç‰¹æ€§</p><pre><code>let p  = new Promise((resolve,reject) =&gt; &#123;    reject()&#125;)p.then(() =&gt; &#123;    console.log(&quot;thenæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°&quot;)&#125;).catch(() =&gt; &#123;    console.log(&quot;ç¬¬ä¸€ä¸ªcatchæ–¹æ³•&quot;)    throw new Error(&quot;catché”™è¯¯&quot;)&#125;).then(() =&gt; &#123;    console.log(&quot;ç¬¬äºŒä¸ªthenæ–¹æ³•&quot;)&#125;).catch(() =&gt; &#123;    console.log(&quot;ç¬¬äºŒä¸ªcatch&quot;)&#125;)è¾“å‡ºç»“æœï¼šã€€ã€€ç¬¬ä¸€ä¸ªcatchæ–¹æ³•ã€€ã€€ç¬¬äºŒä¸ªcatch</code></pre><p><strong>finallyæ–¹æ³•</strong></p><p>ä¸ç®¡Promiseå¯¹è±¡çš„çŠ¶æ€æ˜¯ä»€ä¹ˆéƒ½ä¼šæ‰§è¡Œçš„æ“ä½œã€‚finallyæ–¹æ³•çš„å›è°ƒå‡½æ•°ä¸æ¥å—ä»»ä½•å‚æ•°ï¼Œåˆ™æ²¡æœ‰åŠæ³•çŸ¥é“å‰ç«¯Promiseçš„å…·ä½“çŠ¶æ€ï¼Œæ¢å¥è¯è¯´finallyä¸ä¾èµ–äºPromiseçš„æ‰§è¡Œç»“æœ</p><pre><code>let p  = new Promise((resolve,reject) =&gt; &#123;    resolve()&#125;)p.then(() =&gt; &#123;    console.log(&quot;ç¬¬ä¸€ä¸ªthenæ–¹æ³•&quot;)&#125;).catch(() =&gt; &#123;    console.log(&quot;ç¬¬ä¸€ä¸ªcatchæ–¹æ³•&quot;)&#125;).finally(() =&gt; &#123;    console.log(&quot;finally&quot;)&#125;)è¾“å‡ºç»“æœï¼šã€€ã€€ã€€ã€€ç¬¬ä¸€ä¸ªthenæ–¹æ³•ã€€ã€€finally</code></pre><pre><code>let p  = new Promise((resolve,reject) =&gt; &#123;   reject()&#125;)p.then(() =&gt; &#123;    console.log(&quot;ç¬¬ä¸€ä¸ªthenæ–¹æ³•&quot;)&#125;).catch(() =&gt; &#123;    console.log(&quot;ç¬¬ä¸€ä¸ªcatchæ–¹æ³•&quot;)&#125;).finally(() =&gt; &#123;    console.log(&quot;finally&quot;)&#125;)è¾“å‡ºç»“æœï¼šã€€ã€€ã€€ã€€ç¬¬ä¸€ä¸ªcatchæ–¹æ³•ã€€ã€€finally</code></pre><p><strong>allæ–¹æ³•</strong></p><p>allæ–¹æ³•ç”¨äºå°†å¤šä¸ªPromiseå®ä¾‹åŒ…è£…æˆä¸€ä¸ªæ–°çš„Promiseå®ä¾‹ã€‚æ–°çš„Promiseå®ä¾‹çš„çŠ¶æ€ç”±ç»„æˆå®ƒçš„Promiseå®ä¾‹çš„çŠ¶æ€å…±åŒå†³å®šï¼ˆä¸ªäººæ„Ÿè§‰æœ‰ç‚¹ç±»ä¼¼äº&amp;&amp;è¿ç®—ç¬¦ï¼‰ã€‚</p><p>1&gt; å¤šä¸ªPromiseå®ä¾‹çš„çŠ¶æ€éƒ½å˜æˆå·²å®Œæˆï¼ˆresolvedï¼‰çŠ¶æ€ï¼Œæ–°çš„Promiseå®ä¾‹çš„çŠ¶æ€æ‰ä¼šå˜æˆå·²å®ŒæˆçŠ¶æ€ï¼Œå¹¶ä¸”å°†å¤šä¸ªPromiseå®ä¾‹çš„è¿”å›å€¼ç»„æˆä¸€ä¸ªæ•°ç»„ä¼ é€’ç»™æ–°çš„Promiseçš„å›è°ƒå‡½æ•°</p><p>2&gt; å¤šä¸ªPromiseå®ä¾‹ä¸­ï¼Œåªè¦æœ‰ä¸€ä¸ªå®ä¾‹çš„çŠ¶æ€å˜æˆrejectedï¼Œæ–°çš„å®ä¾‹çš„çŠ¶æ€å°±ä¼šå˜æˆrejecteï¼Œå¹¶ä¸”å°†ç¬¬ä¸€ä¸ªçŠ¶æ€ä¸ºrejectedçš„å®ä¾‹çš„è¿”å›å€¼ä¼ é€’ç»™æ–°çš„Promiseå®ä¾‹çš„å›è°ƒå‡½æ•°ã€‚</p><pre><code> let p1  = new Promise((resolve,reject) =&gt; &#123;     resolve(&quot;p1&quot;)  &#125;) let p2  = new Promise((resolve,reject) =&gt; &#123;      resolve(&quot;p2&quot;)  &#125;)  let p3  = new Promise((resolve,reject) =&gt; &#123;      resolve(&quot;p3&quot;) &#125;) let p  = Promise.all([p1,p2,p3]) p.then(res =&gt; &#123;     console.log(&#39;è¿”å›ç»“æœres --&gt;&#39;,res) &#125;) .catch((error) =&gt; &#123;     console.log(&#39;è¿”å›é”™è¯¯error --&gt;&#39;,error) &#125;) è¾“å‡ºç»“æœï¼šã€€ã€€è¿”å›ç»“æœres --&gt; (3) [&quot;p1&quot;, &quot;p2&quot;, &quot;p3&quot;]</code></pre><pre><code>let p1  = new Promise((resolve,reject) =&gt; &#123;     resolve(&quot;p1&quot;)&#125;)let p2  = new Promise((resolve,reject) =&gt; &#123;       reject(&quot;p2&quot;)&#125;)let p3  = new Promise((resolve,reject) =&gt; &#123;    resolve(&quot;p3&quot;)&#125;) let p  = Promise.all([p1,p2,p3])p.then(res =&gt; &#123;     console.log(&#39;è¿”å›ç»“æœres --&gt;&#39;,res)&#125;).catch((error) =&gt; &#123;     console.log(&#39;è¿”å›é”™è¯¯error --&gt;&#39;,error)&#125;)è¾“å‡ºç»“æœï¼šã€€ã€€è¿”å›é”™è¯¯error --&gt; p2</code></pre><p><strong>raceæ–¹æ³•</strong></p><p>è·Ÿallæ–¹æ³•ç›¸åŒï¼Œå°†å¤šä¸ªPromiseå®ä¾‹åŒ…è£…æˆä¸€ä¸ªæ–°çš„Promiseå®ä¾‹ï¼Œåªä¸è¿‡å’Œallæ–¹æ³•ä¸åŒçš„æ˜¯ï¼Œraceæ˜¯å“ªä¸ªPromiseå…ˆè¿”å›ç»“æœå°±å–å“ªä¸ªPromiseçš„ç»“æœï¼Œä¸ä¼šç­‰å¾…å…¨éƒ¨çš„Promiseå®ä¾‹æ‰§è¡Œå®Œã€‚</p><p>allæ–¹æ³•è¿”å›çš„ç»“æœå’Œå‚æ•°ä¸­æ•°ç»„çš„æœ‰å…³ç³»ï¼Œä½†æ˜¯raceæ–¹æ³•çš„è¿”å›ç»“æœå’ŒPromiseå®ä¾‹çš„æ‰§è¡Œé¡ºåºæœ‰å…³ã€‚</p><pre><code>let p1  = new Promise((resolve,reject) =&gt; &#123;    resolve(&quot;p1&quot;)&#125;)let p2  = new Promise((resolve,reject) =&gt; &#123;    resolve(&quot;p2&quot;)&#125;)let p3  = new Promise((resolve,reject) =&gt; &#123;    resolve(&quot;p3&quot;)&#125;)let p  = Promise.race([p1,p2,p3])p.then(res =&gt; &#123;    console.log(&#39;è¿”å›ç»“æœres --&gt;&#39;,res)&#125;).catch((error) =&gt; &#123;    console.log(&#39;è¿”å›é”™è¯¯error --&gt;&#39;,error)&#125;)è¾“å‡ºç»“æœï¼šã€€ã€€è¿”å›ç»“æœres --&gt; p1</code></pre><pre><code>let p1  = new Promise((resolve,reject) =&gt; &#123;    setTimeout(() =&gt; &#123;        resolve(&quot;p1&quot;)    &#125;,1000)&#125;)let p2  = new Promise((resolve,reject) =&gt; &#123;    setTimeout(() =&gt; &#123;        resolve(&quot;p2&quot;)    &#125;,1500)&#125;)let p3  = new Promise((resolve,reject) =&gt; &#123;    setTimeout(() =&gt; &#123;        reject(&quot;p3&quot;)    &#125;,500)&#125;)let p  = Promise.race([p1,p2,p3])p.then(res =&gt; &#123;    console.log(&#39;è¿”å›ç»“æœres --&gt;&#39;,res)&#125;).catch((error) =&gt; &#123;    console.log(&#39;è¿”å›é”™è¯¯error --&gt;&#39;,error)&#125;)è¾“å‡ºç»“æœï¼šã€€ã€€è¿”å›é”™è¯¯error --&gt; p3</code></pre><p>å°è®°ï¼š</p><p><strong>catchå’Œthenæ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°çš„åŒºåˆ«ï¼š</strong></p><p>æˆ‘ä»¬çŸ¥é“ï¼Œthenæ–¹æ³•çš„æ˜¯ç¬¬äºŒä¸ªå‚æ•°å’Œcatchéƒ½æ˜¯PromiseçŠ¶æ€å˜ä¸ºrejectedæ—¶æ‰§è¡Œçš„å›è°ƒå‡½æ•°ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸€èˆ¬ä¸ç”¨thenæ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°è€Œæ€»æ˜¯ä½¿ç”¨catchæ–¹æ³•ï¼Œè¿™æ˜¯å› ä¸ºcatchæ–¹æ³•å¯ä»¥æ•è·åˆ°thenæ–¹æ³•ä¸­çš„é”™è¯¯ï¼Œè€Œthenæ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯æ•æ‰ä¸åˆ°çš„ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ES6 </tag>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é¡¹ç›®ä¸­é‡åˆ°çš„é—®é¢˜</title>
      <link href="2020/09/24/xiang-mu-zhong-yu-dao-de-wen-ti/"/>
      <url>2020/09/24/xiang-mu-zhong-yu-dao-de-wen-ti/</url>
      
        <content type="html"><![CDATA[<h1 id="9-24"><a href="#9-24" class="headerlink" title="9.24"></a>9.24</h1><ol><li>å‘åç«¯è¯·æ±‚æ•°æ®è¦æŸ¥çœ‹networkçš„headersä¸­çš„urlæ˜¯å¦ä¸APIçš„urlä¸€è‡´</li><li>è¯·æ±‚çš„æ•°æ®(data)è¦ä¼ é€’ä¸€ä¸ªå¯¹è±¡</li><li>å°†ä¿®æ”¹çš„æ–‡ä»¶ç‚¹é€‰åŠ å·æäº¤åˆ°æš‚å­˜åŒºï¼ŒQUEST-33  æäº¤çš„ä¿¡æ¯ï¼Œç‚¹é€‰å·¦ä¸‹è§’çš„ä¸Šä¼ ï¼Œæäº¤ä»£ç </li></ol><h1 id="9-25"><a href="#9-25" class="headerlink" title="9.25"></a>9.25</h1><ol><li>jsä½¿ç”¨mapæå‡æ•ˆç‡</li></ol><pre><code>å£°æ˜ var map = new Map();è®¾å€¼map.set(&quot;key&quot;,&quot;value&quot;);å–å€¼map.get(&quot;key&quot;);åˆ¤æ–­keyæ˜¯å¦å­˜åœ¨map.has(&quot;key&quot;);åˆ é™¤keymap.delete(&quot;key&quot;);</code></pre><ol start="2"><li>å¼ºåˆ¶ç±»å‹è½¬æ¢</li></ol><pre><code>stringæä¾›äº†parseInt()å’ŒparseFloat()ä¸¤ä¸ªè½¬æ¢å‡½æ•°ã€‚å‰è€…æŠŠå€¼è½¬æ¢æˆæ•´æ•°ï¼Œåè€…æŠŠå€¼è½¬æ¢æˆæµ®ç‚¹æ•°Boolean(value)â€”â€”æŠŠç»™å®šçš„å€¼è½¬æ¢æˆBooleanå‹ï¼›Number(value)â€”â€”æŠŠç»™å®šçš„å€¼è½¬æ¢æˆæ•°å­—ï¼ˆå¯ä»¥æ˜¯æ•´æ•°æˆ–æµ®ç‚¹æ•°ï¼‰ï¼›String(value)â€”â€”æŠŠç»™å®šçš„å€¼è½¬æ¢æˆå­—ç¬¦ä¸²ã€‚</code></pre><ol start="3"><li>2 ** 5 ç»“æœ32 10**3 ç»“æœ1000</li></ol>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®°å½• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å•ç‚¹ç™»å½•</title>
      <link href="2020/09/24/dan-dian-deng-lu/"/>
      <url>2020/09/24/dan-dian-deng-lu/</url>
      
        <content type="html"><![CDATA[<p>åœ¨ä¼ä¸šå‘å±•åˆæœŸï¼Œä¼ä¸šä½¿ç”¨çš„ç³»ç»Ÿå¾ˆå°‘ï¼Œé€šå¸¸ä¸€ä¸ªæˆ–è€…ä¸¤ä¸ªï¼Œæ¯ä¸ªç³»ç»Ÿéƒ½æœ‰è‡ªå·±çš„ç™»å½•æ¨¡å—ï¼Œè¿è¥äººå‘˜æ¯å¤©ç”¨è‡ªå·±çš„è´¦å·ç™»å½•ï¼Œå¾ˆæ–¹ä¾¿ã€‚</p><p>ä½†éšç€ä¼ä¸šçš„å‘å±•ï¼Œç”¨åˆ°çš„ç³»ç»Ÿéšä¹‹å¢å¤šï¼Œè¿è¥äººå‘˜åœ¨æ“ä½œä¸åŒçš„ç³»ç»Ÿæ—¶ï¼Œéœ€è¦å¤šæ¬¡ç™»å½•ï¼Œè€Œä¸”æ¯ä¸ªç³»ç»Ÿçš„è´¦å·éƒ½ä¸ä¸€æ ·ï¼Œè¿™å¯¹äºè¿è¥äººå‘˜</p><p>æ¥è¯´ï¼Œå¾ˆä¸æ–¹ä¾¿ã€‚äºæ˜¯ï¼Œå°±æƒ³åˆ°æ˜¯ä¸æ˜¯å¯ä»¥åœ¨ä¸€ä¸ªç³»ç»Ÿç™»å½•ï¼Œå…¶ä»–ç³»ç»Ÿå°±ä¸ç”¨ç™»å½•äº†å‘¢ï¼Ÿè¿™å°±æ˜¯å•ç‚¹ç™»å½•è¦è§£å†³çš„é—®é¢˜ã€‚</p><p>å•ç‚¹ç™»å½•è‹±æ–‡å…¨ç§°Single Sign Onï¼Œç®€ç§°å°±æ˜¯SSOã€‚å®ƒçš„è§£é‡Šæ˜¯ï¼š<strong>åœ¨å¤šä¸ªåº”ç”¨ç³»ç»Ÿä¸­ï¼Œåªéœ€è¦ç™»å½•ä¸€æ¬¡ï¼Œå°±å¯ä»¥è®¿é—®å…¶ä»–ç›¸äº’ä¿¡ä»»çš„åº”ç”¨ç³»ç»Ÿã€‚</strong></p><p><img src="https://s1.ax1x.com/2020/09/24/0SEQC4.png"></p><p>å¦‚å›¾æ‰€ç¤ºï¼Œå›¾ä¸­æœ‰4ä¸ªç³»ç»Ÿï¼Œåˆ†åˆ«æ˜¯Application1ã€Application2ã€Application3ã€å’ŒSSOã€‚Application1ã€Application2ã€Application3æ²¡æœ‰ç™»å½•æ¨¡å—ï¼Œè€ŒSSOåªæœ‰ç™»å½•æ¨¡å—ï¼Œæ²¡æœ‰å…¶ä»–çš„ä¸šåŠ¡æ¨¡å—ï¼Œå½“Application1ã€Application2ã€Application3éœ€è¦ç™»å½•æ—¶ï¼Œå°†è·³åˆ°SSOç³»ç»Ÿï¼ŒSSOç³»ç»Ÿå®Œæˆç™»å½•ï¼Œå…¶ä»–çš„åº”ç”¨ç³»ç»Ÿä¹Ÿå°±éšä¹‹ç™»å½•äº†ã€‚è¿™å®Œå…¨ç¬¦åˆæˆ‘ä»¬å¯¹å•ç‚¹ç™»å½•ï¼ˆSSOï¼‰çš„å®šä¹‰ã€‚</p><h1 id="æŠ€æœ¯å®ç°"><a href="#æŠ€æœ¯å®ç°" class="headerlink" title="æŠ€æœ¯å®ç°"></a>æŠ€æœ¯å®ç°</h1><p>åœ¨è¯´å•ç‚¹ç™»å½•ï¼ˆSSOï¼‰çš„æŠ€æœ¯å®ç°ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆè¯´ä¸€è¯´æ™®é€šçš„ç™»å½•è®¤è¯æœºåˆ¶ã€‚</p><p><img src="https://s1.ax1x.com/2020/09/24/0SEnET.png"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬åœ¨æµè§ˆå™¨ï¼ˆBrowserï¼‰ä¸­è®¿é—®ä¸€ä¸ªåº”ç”¨ï¼Œè¿™ä¸ªåº”ç”¨éœ€è¦ç™»å½•ï¼Œæˆ‘ä»¬å¡«å†™å®Œç”¨æˆ·åå’Œå¯†ç åï¼Œå®Œæˆç™»å½•è®¤è¯ã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬åœ¨è¿™ä¸ªç”¨æˆ·çš„sessionä¸­æ ‡è®°ç™»å½•çŠ¶æ€ä¸ºyesï¼ˆå·²ç™»å½•ï¼‰ï¼ŒåŒæ—¶åœ¨æµè§ˆå™¨ï¼ˆBrowserï¼‰ä¸­å†™å…¥Cookieï¼Œè¿™ä¸ªCookieæ˜¯è¿™ä¸ªç”¨æˆ·çš„å”¯ä¸€æ ‡è¯†ã€‚ä¸‹æ¬¡æˆ‘ä»¬å†è®¿é—®è¿™ä¸ªåº”ç”¨çš„æ—¶å€™ï¼Œè¯·æ±‚ä¸­ä¼šå¸¦ä¸Šè¿™ä¸ªCookieï¼ŒæœåŠ¡ç«¯ä¼šæ ¹æ®è¿™ä¸ªCookieæ‰¾åˆ°å¯¹åº”çš„sessionï¼Œé€šè¿‡sessionæ¥åˆ¤æ–­è¿™ä¸ªç”¨æˆ·æ˜¯å¦ç™»å½•ã€‚å¦‚æœä¸åšç‰¹æ®Šé…ç½®ï¼Œè¿™ä¸ªCookieçš„åå­—å«åšjsessionidï¼Œå€¼åœ¨æœåŠ¡ç«¯ï¼ˆserverï¼‰æ˜¯å”¯ä¸€çš„ã€‚</p><h2 id="åŒåŸŸä¸‹çš„å•ç‚¹ç™»å½•"><a href="#åŒåŸŸä¸‹çš„å•ç‚¹ç™»å½•" class="headerlink" title="åŒåŸŸä¸‹çš„å•ç‚¹ç™»å½•"></a>åŒåŸŸä¸‹çš„å•ç‚¹ç™»å½•</h2><p>ä¸€ä¸ªä¼ä¸šä¸€èˆ¬æƒ…å†µä¸‹åªæœ‰ä¸€ä¸ªåŸŸåï¼Œé€šè¿‡äºŒçº§åŸŸååŒºåˆ†ä¸åŒçš„ç³»ç»Ÿã€‚æ¯”å¦‚æˆ‘ä»¬æœ‰ä¸ªåŸŸåå«åšï¼ša.comï¼ŒåŒæ—¶æœ‰ä¸¤ä¸ªä¸šåŠ¡ç³»ç»Ÿåˆ†åˆ«ä¸ºï¼šapp1.a.comå’Œapp2.a.comã€‚æˆ‘ä»¬è¦åšå•ç‚¹ç™»å½•ï¼ˆSSOï¼‰ï¼Œéœ€è¦ä¸€ä¸ªç™»å½•ç³»ç»Ÿï¼Œå«åšï¼šsso.a.comã€‚</p><p>æˆ‘ä»¬åªè¦åœ¨sso.a.comç™»å½•ï¼Œapp1.a.comå’Œapp2.a.comå°±ä¹Ÿç™»å½•äº†ã€‚é€šè¿‡ä¸Šé¢çš„ç™»é™†è®¤è¯æœºåˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œåœ¨sso.a.comä¸­ç™»å½•äº†ï¼Œå…¶å®æ˜¯åœ¨sso.a.comçš„æœåŠ¡ç«¯çš„sessionä¸­è®°å½•äº†ç™»å½•çŠ¶æ€ï¼ŒåŒæ—¶åœ¨æµè§ˆå™¨ç«¯ï¼ˆBrowserï¼‰çš„sso.a.comä¸‹å†™å…¥äº†Cookieã€‚é‚£ä¹ˆæˆ‘ä»¬æ€ä¹ˆæ‰èƒ½è®©app1.a.comå’Œapp2.a.comç™»å½•å‘¢ï¼Ÿè¿™é‡Œæœ‰ä¸¤ä¸ªé—®é¢˜ï¼š</p><ul><li>Cookieæ˜¯ä¸èƒ½è·¨åŸŸçš„ï¼Œæˆ‘ä»¬Cookieçš„domainå±æ€§æ˜¯sso.a.comï¼Œåœ¨ç»™app1.a.comå’Œapp2.a.comå‘é€è¯·æ±‚æ˜¯å¸¦ä¸ä¸Šçš„ã€‚</li><li>ssoã€app1å’Œapp2æ˜¯ä¸åŒçš„åº”ç”¨ï¼Œå®ƒä»¬çš„sessionå­˜åœ¨è‡ªå·±çš„åº”ç”¨å†…ï¼Œæ˜¯ä¸å…±äº«çš„ã€‚</li><li><img src="https://s1.ax1x.com/2020/09/24/0SEK5F.png"></li></ul><p>é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•è§£å†³è¿™ä¸¤ä¸ªé—®é¢˜å‘¢ï¼Ÿé’ˆå¯¹ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œssoç™»å½•ä»¥åï¼Œå¯ä»¥å°†Cookieçš„åŸŸè®¾ç½®ä¸ºé¡¶åŸŸï¼Œå³.a.comï¼Œè¿™æ ·æ‰€æœ‰å­åŸŸçš„ç³»ç»Ÿéƒ½å¯ä»¥è®¿é—®åˆ°é¡¶åŸŸçš„Cookieã€‚<strong>æˆ‘ä»¬åœ¨è®¾ç½®Cookieæ—¶ï¼Œåªèƒ½è®¾ç½®é¡¶åŸŸå’Œè‡ªå·±çš„åŸŸï¼Œä¸èƒ½è®¾ç½®å…¶ä»–çš„åŸŸã€‚æ¯”å¦‚ï¼šæˆ‘ä»¬ä¸èƒ½åœ¨è‡ªå·±çš„ç³»ç»Ÿä¸­ç»™baidu.comçš„åŸŸè®¾ç½®Cookieã€‚</strong></p><p>Cookieçš„é—®é¢˜è§£å†³äº†ï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹sessionçš„é—®é¢˜ã€‚æˆ‘ä»¬åœ¨ssoç³»ç»Ÿç™»å½•äº†ï¼Œè¿™æ—¶å†è®¿é—®app1ï¼ŒCookieä¹Ÿå¸¦åˆ°äº†app1çš„æœåŠ¡ç«¯ï¼ˆServerï¼‰ï¼Œapp1çš„æœåŠ¡ç«¯æ€ä¹ˆæ‰¾åˆ°è¿™ä¸ªCookieå¯¹åº”çš„Sessionå‘¢ï¼Ÿè¿™é‡Œå°±è¦æŠŠ3ä¸ªç³»ç»Ÿçš„Sessionå…±äº«ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚å…±äº«Sessionçš„è§£å†³æ–¹æ¡ˆæœ‰å¾ˆå¤šï¼Œä¾‹å¦‚ï¼šSpring-Sessionã€‚è¿™æ ·ç¬¬2ä¸ªé—®é¢˜ä¹Ÿè§£å†³äº†ã€‚</p><p>åŒåŸŸä¸‹çš„å•ç‚¹ç™»å½•å°±å®ç°äº†ï¼Œ<strong>ä½†è¿™è¿˜ä¸æ˜¯çœŸæ­£çš„å•ç‚¹ç™»å½•ã€‚</strong></p><h2 id="ä¸åŒåŸŸä¸‹çš„å•ç‚¹ç™»å½•"><a href="#ä¸åŒåŸŸä¸‹çš„å•ç‚¹ç™»å½•" class="headerlink" title="ä¸åŒåŸŸä¸‹çš„å•ç‚¹ç™»å½•"></a>ä¸åŒåŸŸä¸‹çš„å•ç‚¹ç™»å½•</h2><p>åŒåŸŸä¸‹çš„å•ç‚¹ç™»å½•æ˜¯å·§ç”¨äº†Cookieé¡¶åŸŸçš„ç‰¹æ€§ã€‚å¦‚æœæ˜¯ä¸åŒåŸŸå‘¢ï¼Ÿä¸åŒåŸŸä¹‹é—´Cookieæ˜¯ä¸å…±äº«çš„ï¼Œæ€ä¹ˆåŠï¼Ÿ</p><p>è¿™é‡Œæˆ‘ä»¬å°±è¦è¯´ä¸€è¯´CASæµç¨‹äº†ï¼Œè¿™ä¸ªæµç¨‹æ˜¯å•ç‚¹ç™»å½•çš„æ ‡å‡†æµç¨‹ã€‚</p><p>å…·ä½“æµç¨‹å¦‚ä¸‹ï¼š</p><ol><li>ç”¨æˆ·è®¿é—®appç³»ç»Ÿï¼Œappç³»ç»Ÿæ˜¯éœ€è¦ç™»å½•çš„ï¼Œä½†ç”¨æˆ·ç°åœ¨æ²¡æœ‰ç™»å½•ã€‚</li><li>è·³è½¬åˆ°CAS serverï¼Œå³SSOç™»å½•ç³»ç»Ÿï¼Œ<strong>ä»¥åå›¾ä¸­çš„CAS Serveræˆ‘ä»¬ç»Ÿä¸€å«åšSSOç³»ç»Ÿã€‚</strong> SSOç³»ç»Ÿä¹Ÿæ²¡æœ‰ç™»å½•ï¼Œå¼¹å‡ºç”¨æˆ·ç™»å½•é¡µã€‚</li><li>ç”¨æˆ·å¡«å†™ç”¨æˆ·åã€å¯†ç ï¼ŒSSOç³»ç»Ÿè¿›è¡Œè®¤è¯åï¼Œå°†ç™»å½•çŠ¶æ€å†™å…¥SSOçš„sessionï¼Œæµè§ˆå™¨ï¼ˆBrowserï¼‰ä¸­å†™å…¥SSOåŸŸä¸‹çš„Cookieã€‚</li><li>SSOç³»ç»Ÿç™»å½•å®Œæˆåä¼šç”Ÿæˆä¸€ä¸ªSTï¼ˆService Ticketï¼‰ï¼Œç„¶åè·³è½¬åˆ°appç³»ç»Ÿï¼ŒåŒæ—¶å°†STä½œä¸ºå‚æ•°ä¼ é€’ç»™appç³»ç»Ÿã€‚</li><li>appç³»ç»Ÿæ‹¿åˆ°STåï¼Œä»åå°å‘SSOå‘é€è¯·æ±‚ï¼ŒéªŒè¯STæ˜¯å¦æœ‰æ•ˆã€‚</li><li>éªŒè¯é€šè¿‡åï¼Œappç³»ç»Ÿå°†ç™»å½•çŠ¶æ€å†™å…¥sessionå¹¶è®¾ç½®appåŸŸä¸‹çš„Cookieã€‚</li></ol><p>è‡³æ­¤ï¼Œè·¨åŸŸå•ç‚¹ç™»å½•å°±å®Œæˆäº†ã€‚ä»¥åæˆ‘ä»¬å†è®¿é—®appç³»ç»Ÿæ—¶ï¼Œappå°±æ˜¯ç™»å½•çš„ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†çœ‹çœ‹è®¿é—®app2ç³»ç»Ÿæ—¶çš„æµç¨‹ã€‚</p><ol><li>ç”¨æˆ·è®¿é—®app2ç³»ç»Ÿï¼Œapp2ç³»ç»Ÿæ²¡æœ‰ç™»å½•ï¼Œè·³è½¬åˆ°SSOã€‚</li><li>ç”±äºSSOå·²ç»ç™»å½•äº†ï¼Œä¸éœ€è¦é‡æ–°ç™»å½•è®¤è¯ã€‚</li><li>SSOç”ŸæˆSTï¼Œæµè§ˆå™¨è·³è½¬åˆ°app2ç³»ç»Ÿï¼Œå¹¶å°†STä½œä¸ºå‚æ•°ä¼ é€’ç»™app2ã€‚</li><li>app2æ‹¿åˆ°STï¼Œåå°è®¿é—®SSOï¼ŒéªŒè¯STæ˜¯å¦æœ‰æ•ˆã€‚</li><li>éªŒè¯æˆåŠŸåï¼Œapp2å°†ç™»å½•çŠ¶æ€å†™å…¥sessionï¼Œå¹¶åœ¨app2åŸŸä¸‹å†™å…¥Cookieã€‚</li></ol><p>è¿™æ ·ï¼Œapp2ç³»ç»Ÿä¸éœ€è¦èµ°ç™»å½•æµç¨‹ï¼Œå°±å·²ç»æ˜¯ç™»å½•äº†ã€‚SSOï¼Œappå’Œapp2åœ¨ä¸åŒçš„åŸŸï¼Œå®ƒä»¬ä¹‹é—´çš„sessionä¸å…±äº«ä¹Ÿæ˜¯æ²¡é—®é¢˜çš„ã€‚</p><p><strong>æœ‰çš„åŒå­¦é—®æˆ‘ï¼ŒSSOç³»ç»Ÿç™»å½•åï¼Œè·³å›åŸä¸šåŠ¡ç³»ç»Ÿæ—¶ï¼Œå¸¦äº†ä¸ªå‚æ•°STï¼Œä¸šåŠ¡ç³»ç»Ÿè¿˜è¦æ‹¿STå†æ¬¡è®¿é—®SSOè¿›è¡ŒéªŒè¯ï¼Œè§‰å¾—è¿™ä¸ªæ­¥éª¤æœ‰ç‚¹å¤šä½™ã€‚ä»–æƒ³SSOç™»å½•è®¤è¯é€šè¿‡åï¼Œé€šè¿‡å›è°ƒåœ°å€å°†ç”¨æˆ·ä¿¡æ¯è¿”å›ç»™åŸä¸šåŠ¡ç³»ç»Ÿï¼ŒåŸä¸šåŠ¡ç³»ç»Ÿç›´æ¥è®¾ç½®ç™»å½•çŠ¶æ€ï¼Œè¿™æ ·æµç¨‹ç®€å•ï¼Œä¹Ÿå®Œæˆäº†ç™»å½•ï¼Œä¸æ˜¯å¾ˆå¥½å—ï¼Ÿ</strong></p><p><strong>å…¶å®è¿™æ ·é—®é¢˜æ—¶å¾ˆä¸¥é‡çš„ï¼Œå¦‚æœæˆ‘åœ¨SSOæ²¡æœ‰ç™»å½•ï¼Œè€Œæ˜¯ç›´æ¥åœ¨æµè§ˆå™¨ä¸­æ•²å…¥å›è°ƒçš„åœ°å€ï¼Œå¹¶å¸¦ä¸Šä¼ªé€ çš„ç”¨æˆ·ä¿¡æ¯ï¼Œæ˜¯ä¸æ˜¯ä¸šåŠ¡ç³»ç»Ÿä¹Ÿè®¤ä¸ºç™»å½•äº†å‘¢ï¼Ÿè¿™æ˜¯å¾ˆå¯æ€•çš„ã€‚</strong></p><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>å•ç‚¹ç™»å½•ï¼ˆSSOï¼‰çš„æ‰€æœ‰æµç¨‹éƒ½ä»‹ç»å®Œäº†ï¼ŒåŸç†å¤§å®¶éƒ½æ¸…æ¥šäº†ã€‚æ€»ç»“ä¸€ä¸‹å•ç‚¹ç™»å½•è¦åšçš„äº‹æƒ…ï¼š</p><ul><li><strong>å•ç‚¹ç™»å½•ï¼ˆSSOç³»ç»Ÿï¼‰æ˜¯ä¿éšœå„ä¸šåŠ¡ç³»ç»Ÿçš„ç”¨æˆ·èµ„æºçš„å®‰å…¨ ã€‚</strong></li><li><strong>å„ä¸ªä¸šåŠ¡ç³»ç»Ÿè·å¾—çš„ä¿¡æ¯æ˜¯ï¼Œè¿™ä¸ªç”¨æˆ·èƒ½ä¸èƒ½è®¿é—®æˆ‘çš„èµ„æºã€‚</strong></li><li><strong>å•ç‚¹ç™»å½•ï¼Œèµ„æºéƒ½åœ¨å„ä¸ªä¸šåŠ¡ç³»ç»Ÿè¿™è¾¹ï¼Œä¸åœ¨SSOé‚£ä¸€æ–¹ã€‚ ç”¨æˆ·åœ¨ç»™SSOæœåŠ¡å™¨æä¾›äº†ç”¨æˆ·åå¯†ç åï¼Œä½œä¸ºä¸šåŠ¡ç³»ç»Ÿå¹¶ä¸çŸ¥é“è¿™ä»¶äº‹ã€‚ SSOéšä¾¿ç»™ä¸šåŠ¡ç³»ç»Ÿä¸€ä¸ªSTï¼Œé‚£ä¹ˆä¸šåŠ¡ç³»ç»Ÿæ˜¯ä¸èƒ½ç¡®å®šè¿™ä¸ªSTæ˜¯ç”¨æˆ·ä¼ªé€ çš„ï¼Œè¿˜æ˜¯çœŸçš„æœ‰æ•ˆï¼Œæ‰€ä»¥è¦æ‹¿ç€è¿™ä¸ªSTå»SSOæœåŠ¡å™¨å†é—®ä¸€ä¸‹ï¼Œè¿™ä¸ªç”¨æˆ·ç»™æˆ‘çš„STæ˜¯å¦æœ‰æ•ˆï¼Œæ˜¯æœ‰æ•ˆçš„æˆ‘æ‰èƒ½è®©è¿™ä¸ªç”¨æˆ·è®¿é—®ã€‚</strong></li></ul>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> å¤šç³»ç»Ÿ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>typescript+vue</title>
      <link href="2020/09/23/typescript-vue-zhi-shi-dian/"/>
      <url>2020/09/23/typescript-vue-zhi-shi-dian/</url>
      
        <content type="html"><![CDATA[<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>Vue<span class="token punctuation">,</span> Prop<span class="token punctuation">,</span> Emit<span class="token punctuation">,</span> Component<span class="token punctuation">,</span> Watch<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">from</span> <span class="token string">'vue-property-decorator'</span><span class="token punctuation">;</span></code></pre><h1 id="äº‹ä»¶å¤„ç†"><a href="#äº‹ä»¶å¤„ç†" class="headerlink" title="äº‹ä»¶å¤„ç†"></a>äº‹ä»¶å¤„ç†</h1><h2 id="äº‹ä»¶ä¿®é¥°ç¬¦"><a href="#äº‹ä»¶ä¿®é¥°ç¬¦" class="headerlink" title="äº‹ä»¶ä¿®é¥°ç¬¦"></a>äº‹ä»¶ä¿®é¥°ç¬¦</h2><p>åœ¨äº‹ä»¶å¤„ç†ç¨‹åºä¸­è°ƒç”¨ <code>event.preventDefault()</code> æˆ– <code>event.stopPropagation()</code> æ˜¯éå¸¸å¸¸è§çš„éœ€æ±‚ã€‚å°½ç®¡æˆ‘ä»¬å¯ä»¥åœ¨æ–¹æ³•ä¸­è½»æ¾å®ç°è¿™ç‚¹ï¼Œä½†æ›´å¥½çš„æ–¹å¼æ˜¯ï¼šæ–¹æ³•åªæœ‰çº¯ç²¹çš„æ•°æ®é€»è¾‘ï¼Œè€Œä¸æ˜¯å»å¤„ç† DOM äº‹ä»¶ç»†èŠ‚ã€‚</p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒVue.js ä¸º <code>v-on</code> æä¾›äº†<strong>äº‹ä»¶ä¿®é¥°ç¬¦</strong>ã€‚ä¹‹å‰æè¿‡ï¼Œä¿®é¥°ç¬¦æ˜¯ç”±ç‚¹å¼€å¤´çš„æŒ‡ä»¤åç¼€æ¥è¡¨ç¤ºçš„ã€‚</p><ul><li><code>.stop</code></li><li><code>.prevent</code></li><li><code>.capture</code></li><li><code>.self</code></li><li><code>.once</code></li><li><code>.passive</code></li></ul><h2 id="ç³»ç»Ÿä¿®é¥°é”®"><a href="#ç³»ç»Ÿä¿®é¥°é”®" class="headerlink" title="ç³»ç»Ÿä¿®é¥°é”®"></a>ç³»ç»Ÿä¿®é¥°é”®</h2><blockquote><p>2.1.0 æ–°å¢</p></blockquote><p>å¯ä»¥ç”¨å¦‚ä¸‹ä¿®é¥°ç¬¦æ¥å®ç°ä»…åœ¨æŒ‰ä¸‹ç›¸åº”æŒ‰é”®æ—¶æ‰è§¦å‘é¼ æ ‡æˆ–é”®ç›˜äº‹ä»¶çš„ç›‘å¬å™¨ã€‚</p><ul><li><code>.ctrl</code></li><li><code>.alt</code></li><li><code>.shift</code></li><li><code>.meta</code></li></ul><p>ä¾‹å¦‚ï¼š</p><pre><code>&lt;!-- Alt + C --&gt;&lt;input v-on:keyup.alt.67=&quot;clear&quot;&gt;&lt;!-- Ctrl + Click --&gt;&lt;div v-on:click.ctrl=&quot;doSomething&quot;&gt;Do something&lt;/div&gt;</code></pre><h1 id="çˆ¶å­ç»„ä»¶ä¼ å€¼"><a href="#çˆ¶å­ç»„ä»¶ä¼ å€¼" class="headerlink" title="çˆ¶å­ç»„ä»¶ä¼ å€¼"></a>çˆ¶å­ç»„ä»¶ä¼ å€¼</h1><p>çˆ¶ç»„ä»¶ $emitFa.vue</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>$emitå­ç»„ä»¶è°ƒç”¨çˆ¶ç»„ä»¶çš„æ–¹æ³•å¹¶ä¼ é€’æ•°æ®<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>çˆ¶ç»„ä»¶æ•°æ®ï¼š<span class="token entity" title="&#123;">&amp;#123;</span><span class="token entity" title="&#123;">&amp;#123;</span>msg<span class="token entity" title="&#125;">&amp;#125;</span><span class="token entity" title="&#125;">&amp;#125;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>emit-ch</span> <span class="token attr-name">@updateInfo</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>updateInfo<span class="token punctuation">"</span></span> <span class="token attr-name">:sendData</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>msg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>emit-ch</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript"><span class="token keyword">import</span> emitCh <span class="token keyword">from</span> <span class="token string">'./$emitCh'</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  name<span class="token punctuation">:</span> <span class="token string">'emitFa'</span><span class="token punctuation">,</span>  components<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> emitCh <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>  data <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>      msg<span class="token punctuation">:</span> <span class="token string">'åŒ—äº¬'</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>  methods<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    updateInfo <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ç‚¹å‡»å­ç»„ä»¶æŒ‰é’®æ—¶è§¦å‘äº‹ä»¶</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>msg <span class="token operator">=</span> data<span class="token punctuation">.</span>city <span class="token comment" spellcheck="true">// æ”¹å˜äº†çˆ¶ç»„ä»¶çš„å€¼</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><p>å­ç»„ä»¶ $emitCh.vue</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>train-city<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>çˆ¶ç»„ä»¶ä¼ ç»™å­ç»„ä»¶çš„æ•°æ®ï¼š<span class="token entity" title="&#123;">&amp;#123;</span><span class="token entity" title="&#123;">&amp;#123;</span>sendData<span class="token entity" title="&#125;">&amp;#125;</span><span class="token entity" title="&#125;">&amp;#125;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>select()<span class="token punctuation">'</span></span><span class="token punctuation">></span></span>ç‚¹å‡»å­ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  name<span class="token punctuation">:</span> <span class="token string">'emitCh'</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// ç›¸å½“äºä¸€ä¸ªå…¨å±€ IDï¼Œå¯ä»¥ä¸å†™ï¼Œå†™äº†å¯ä»¥æä¾›æ›´å¥½çš„è°ƒè¯•ä¿¡æ¯</span>  props<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'sendData'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// ç”¨æ¥æ¥æ”¶çˆ¶ç»„ä»¶ä¼ ç»™å­ç»„ä»¶çš„æ•°æ®</span>  data <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>  computed<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>  methods<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    select <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>      <span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        city<span class="token punctuation">:</span> <span class="token string">'æ­å·'</span>      <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'updateInfo'</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token comment" spellcheck="true">// selectäº‹ä»¶è§¦å‘åï¼Œè‡ªåŠ¨è§¦å‘updateInfoäº‹ä»¶</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><h1 id="çˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶æ–¹æ³•"><a href="#çˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶æ–¹æ³•" class="headerlink" title="çˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶æ–¹æ³•"></a>çˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶æ–¹æ³•</h1><p>å­ç»„ä»¶ï¼š</p><pre><code>alertInfo() &#123;      console.log(&#39;å­ç»„ä»¶çš„è¾“å‡ºæ–¹æ³•&#39;)    &#125;</code></pre><p>çˆ¶ç»„ä»¶</p><p>index.html</p><pre><code>    &lt;prj-search-tool        :searchToolItems = &#39;searchToolItems&#39;        @getTableData = &#39;onSubmit111&#39;        ref = &#39;myChild&#39;    &gt;</code></pre><p>vue.html</p><pre><code>childFun() &#123;        (this.$refs[&quot;myChild&quot;] as prjSearchTool).alertInfo();    &#125;</code></pre><h1 id="computedå’Œwatch"><a href="#computedå’Œwatch" class="headerlink" title="computedå’Œwatch"></a>computedå’Œwatch</h1><h2 id="è®¡ç®—å±æ€§computed"><a href="#è®¡ç®—å±æ€§computed" class="headerlink" title="è®¡ç®—å±æ€§computed :"></a><strong>è®¡ç®—å±æ€§computed :</strong></h2><ol><li><p>æ”¯æŒç¼“å­˜ï¼Œåªæœ‰ä¾èµ–æ•°æ®å‘ç”Ÿæ”¹å˜ï¼Œæ‰ä¼šé‡æ–°è¿›è¡Œè®¡ç®—</p></li><li><p>ä¸æ”¯æŒå¼‚æ­¥ï¼Œå½“computedå†…æœ‰å¼‚æ­¥æ“ä½œæ—¶æ— æ•ˆï¼Œæ— æ³•ç›‘å¬æ•°æ®çš„å˜åŒ–</p></li><li><p>computed å±æ€§å€¼ä¼šé»˜è®¤èµ°ç¼“å­˜ï¼Œè®¡ç®—å±æ€§æ˜¯åŸºäºå®ƒä»¬çš„å“åº”å¼ä¾èµ–è¿›è¡Œç¼“å­˜çš„ï¼Œä¹Ÿå°±æ˜¯åŸºäºdataä¸­å£°æ˜è¿‡æˆ–è€…çˆ¶ç»„ä»¶ä¼ é€’çš„propsä¸­çš„æ•°æ®é€šè¿‡è®¡ç®—å¾—åˆ°çš„å€¼</p></li><li><p>å¦‚æœä¸€ä¸ªå±æ€§æ˜¯ç”±å…¶ä»–å±æ€§è®¡ç®—è€Œæ¥çš„ï¼Œè¿™ä¸ªå±æ€§ä¾èµ–å…¶ä»–å±æ€§ï¼Œæ˜¯ä¸€ä¸ªå¤šå¯¹ä¸€æˆ–è€…ä¸€å¯¹ä¸€ï¼Œä¸€èˆ¬ç”¨computed</p></li><li><p>å¦‚æœcomputedå±æ€§å±æ€§å€¼æ˜¯å‡½æ•°ï¼Œé‚£ä¹ˆé»˜è®¤ä¼šèµ°getæ–¹æ³•ï¼›å‡½æ•°çš„è¿”å›å€¼å°±æ˜¯å±æ€§çš„å±æ€§å€¼ï¼›åœ¨computedä¸­çš„ï¼Œå±æ€§éƒ½æœ‰ä¸€ä¸ªgetå’Œä¸€ä¸ªsetæ–¹æ³•ï¼Œå½“æ•°æ®å˜åŒ–æ—¶ï¼Œè°ƒç”¨setæ–¹æ³•ã€‚</p><p><img src="https://s1.ax1x.com/2020/09/18/whd4FH.png"></p></li></ol><h2 id="ä¾¦å¬å±æ€§watchï¼š"><a href="#ä¾¦å¬å±æ€§watchï¼š" class="headerlink" title="ä¾¦å¬å±æ€§watchï¼š"></a><strong>ä¾¦å¬å±æ€§watchï¼š</strong></h2><ol><li><p>ä¸æ”¯æŒç¼“å­˜ï¼Œæ•°æ®å˜ï¼Œç›´æ¥ä¼šè§¦å‘ç›¸åº”çš„æ“ä½œï¼›</p></li><li><p>watchæ”¯æŒå¼‚æ­¥ï¼›</p></li><li><p>ç›‘å¬çš„å‡½æ•°æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æœ€æ–°çš„å€¼ï¼›ç¬¬äºŒä¸ªå‚æ•°æ˜¯è¾“å…¥ä¹‹å‰çš„å€¼ï¼›</p></li><li><p>å½“ä¸€ä¸ªå±æ€§å‘ç”Ÿå˜åŒ–æ—¶ï¼Œéœ€è¦æ‰§è¡Œå¯¹åº”çš„æ“ä½œï¼›ä¸€å¯¹å¤šï¼›</p></li><li><p>ç›‘å¬æ•°æ®å¿…é¡»æ˜¯dataä¸­å£°æ˜è¿‡æˆ–è€…çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„propsä¸­çš„æ•°æ®ï¼Œå½“æ•°æ®å˜åŒ–æ—¶ï¼Œè§¦å‘å…¶ä»–æ“ä½œï¼Œå‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œ</p></li></ol><p>ã€€ã€€immediateï¼šç»„ä»¶åŠ è½½ç«‹å³è§¦å‘å›è°ƒå‡½æ•°æ‰§è¡Œï¼Œ</p><p>ã€€ã€€deep: æ·±åº¦ç›‘å¬ï¼Œä¸ºäº†å‘ç°<strong>å¯¹è±¡å†…éƒ¨å€¼</strong>çš„å˜åŒ–ï¼Œå¤æ‚ç±»å‹çš„æ•°æ®æ—¶ä½¿ç”¨ï¼Œä¾‹å¦‚æ•°ç»„ä¸­çš„å¯¹è±¡å†…å®¹çš„æ”¹å˜ï¼Œæ³¨æ„ç›‘å¬æ•°ç»„çš„å˜åŠ¨ä¸éœ€è¦è¿™ä¹ˆåšã€‚æ³¨æ„ï¼šdeepæ— æ³•ç›‘å¬åˆ°æ•°ç»„çš„å˜åŠ¨å’Œå¯¹è±¡çš„æ–°å¢ï¼Œå‚è€ƒvueæ•°ç»„å˜å¼‚,åªæœ‰ä»¥å“åº”å¼çš„æ–¹å¼è§¦å‘æ‰ä¼šè¢«ç›‘å¬åˆ°ã€‚</p><p><img src="https://s1.ax1x.com/2020/09/18/whwlnK.png"></p><pre><code>input: string = &#39;&#39;    @Watch(&#39;input&#39;)    alertInfo() &#123;        if(this.input === &#39;&#39;)            alert(1)    &#125;</code></pre><h1 id="æ’æ§½"><a href="#æ’æ§½" class="headerlink" title="æ’æ§½"></a>æ’æ§½</h1><p>å­ç»„ä»¶ä½¿ç”¨å…·åæ’æ§½</p><pre><code>&lt;slot name=&quot;header&quot;&gt;&lt;/slot&gt;&lt;slot name=&quot;footer&quot;&gt;&lt;/slot&gt;</code></pre><p>çˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶æ—¶ï¼Œå®šä¹‰æ’æ§½ä¸­å†…å®¹</p><pre><code> &lt;template v-slot:header&gt;        &lt;p&gt;æˆ‘æ˜¯header&lt;/p&gt;      &lt;/template&gt;    &lt;template v-slot:footer&gt;        &lt;p&gt;æˆ‘æ˜¯footer&lt;/p&gt;      &lt;/template&gt;</code></pre><p>è·Ÿ <code>v-on</code> å’Œ <code>v-bind</code> ä¸€æ ·ï¼Œ<code>v-slot</code> ä¹Ÿæœ‰ç¼©å†™ï¼Œå³æŠŠå‚æ•°ä¹‹å‰çš„æ‰€æœ‰å†…å®¹ (<code>v-slot:</code>) æ›¿æ¢ä¸ºå­—ç¬¦ <code>#</code>ã€‚ä¾‹å¦‚ <code>v-slot:header</code> å¯ä»¥è¢«é‡å†™ä¸º <code>#header</code></p><h1 id="è§£æ„èµ‹å€¼"><a href="#è§£æ„èµ‹å€¼" class="headerlink" title="è§£æ„èµ‹å€¼"></a>è§£æ„èµ‹å€¼</h1><p> ç›¸è¾ƒäºå¸¸è§„çš„èµ‹å€¼æ–¹å¼,è§£æ„èµ‹å€¼æœ€ä¸»è¦çš„æ˜¯â€™è§£æ„â€™ä¸¤ä¸ªå­—,åœ¨èµ‹å€¼çš„è¿‡ç¨‹ä¸­è¦æ¸…æ™°çš„çŸ¥é“ç­‰å·å³è¾¹çš„ç»“æ„.</p><p> å…ˆç®€å•åœ°çœ‹ä¸€ä¸‹åŸæ¥çš„èµ‹å€¼æ–¹å¼.</p><pre><code>var a=[1,2]ã€€ã€€</code></pre><p>åˆ†æä¸€ä¸‹è¿™å¥ä»£ç çš„å‡ ä¸ªç‚¹:</p><p>(1)å˜é‡ç”³æ˜å’Œèµ‹å€¼</p><pre><code>var a;a=[1,2]//ä½ å¯ä»¥ç†è§£è¿™ä¸¤ä¸ªæ“ä½œæ˜¯åˆ†å¼€çš„,è™½ç„¶æ˜¯ä¸€å¥ä»£ç .å£°æ˜å˜é‡éƒ½ä¼šå‡ºç°å˜é‡åçš„æå‡(ä¹Ÿå°±æ˜¯æ˜¯å£°æ˜å˜é‡çš„è¿™å¥ä»£ç ä¼šè¢«æå‡åˆ°ç”Ÿæ•ˆä½œç”¨åŸŸçš„æœ€å‰é¢),åŒºåˆ«åœ¨äº&#39;var&#39;å£°æ˜çš„æ˜¯å…¨å±€å˜é‡,è€Œ&#39;let const&#39;å£°æ˜çš„æ˜¯å—çº§ä½œç”¨åŸŸå˜é‡.</code></pre><p> (2)ç»“æ„å¯¹åº”</p><pre><code>var a;a=[1,2];a=12;   a=&#123;name:&#39;å°æ˜&#39;,age:18&#125;</code></pre><p> è§£æ„èµ‹å€¼</p><p>ç»“åˆä¸Šé¢çš„çš„ä¾‹å­,å‡å¦‚æˆ‘ç°åœ¨åªæƒ³è¦{name:â€™å°æ˜â€™,age:18}è¿™ä¸ªå¯¹è±¡ä¸­çš„â€™nameâ€™å±æ€§,åŸæ¥çš„åšæ³•</p><pre><code>var a=&#123;name:&#39;å°æ˜&#39;,age:18&#125;console.log(a.name)</code></pre><p>   å°±éœ€è¦é€šè¿‡ç‚¹è¯­æ³•å»è·å–,å®é™…å¼€å‘ä¸­,æˆ‘ä»¬çš„æ•°æ®å¾ˆå¤šæ—¶å€™æ˜¯åµŒå¥—å¾ˆå¤šå±‚çš„,æ‰€ä»¥å°±ä¼šå‡ºç°ç±»ä¼¼â€™a.b.c.dâ€™è¿™ç±»ä»£ç .çœ‹ç€è®©äººå¤´æ™•,è€Œè§£æ„èµ‹å€¼å°±æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ¡ˆä¹‹ä¸€</p><p>åŸºæœ¬ç”¨æ³•</p><p><strong>(1)å£°æ˜å’Œèµ‹å€¼</strong></p><p>  <strong>æ•°ç»„</strong></p><pre><code>let [a] = [1];</code></pre><p>  å¯¹è±¡</p><pre><code>let &#123;name&#125; = &#123;name:&#39;å°æ˜&#39;,age:18&#125;</code></pre><p>ã€€{å˜é‡å}:å˜é‡åå¿…é¡»æ˜¯å¯¹è±¡ä¸­çš„å±æ€§åã€€</p><p><strong>(2)ç»“æ„å¯¹åº”(é‡éš¾ç‚¹)</strong>ã€€</p><p> æ•°ç»„(è¦ä½ä¸è¦å)ã€€</p><p> å¯¹è±¡(è¦åä¸è¦ä½)</p><p> å®Œå…¨è§£æ„ã€€</p><p>â€‹    <strong>æ•°ç»„:</strong></p><p>â€‹     <strong>a:æŒ‰é¡ºåº</strong></p><pre><code>let [a, b, c] = [1, 2, 3];console.log(a,b,c)//1,2,3è¿™æ ·èµ‹å€¼çš„è¯­ä¹‰æ˜¯æˆ‘çŸ¥é“å³è¾¹æ˜¯ä¸€ä¸ªæœ‰ä¸‰ä¸ªå…ƒç´ çš„æ•°å­—,æ‰€ä»¥æˆ‘å£°æ˜äº†ä¸€ä¸ªæ•°ç»„,ä¸‰ä¸ªå…ƒç´ åˆ†åˆ«æ˜¯a,b,cå’Œå³è¾¹çš„ä¸‰ä¸ªå…ƒç´ å¯¹åº”.æ‰€ä»¥a=1,b=2,c=3 </code></pre><p> ã€€ <strong>b:æ‰“ä¹±é¡ºåº</strong></p><pre><code>let [a, c, b] = [1, 2, 3];console.log(a,b,c)//1,3,2å› ä¸ºä¸‰ä¸ªå˜é‡çš„ä½ç½®å˜äº†,æ‰€ä»¥å…¶å¯¹åº”çš„å…ƒç´ (å€¼)ä¹Ÿå°±å˜é‡ã€€ã€€</code></pre><p>ã€€<strong>å¯¹è±¡:</strong></p><p>â€‹    <strong>a:æŒ‰é¡ºåº</strong></p><pre><code>let &#123;name,age&#125; =&#123;name:&#39;å°æ˜&#39;,age:18&#125;console.log(name,age)//å°æ˜,18</code></pre><p>  ã€€<strong>b:æ‰“ä¹±é¡ºåº</strong>ã€€ã€€</p><pre><code>let &#123;age,name&#125; =&#123;name:&#39;å°æ˜&#39;,age:18&#125;console.log(name,age)//å°æ˜,18</code></pre><p>ã€€è™½ç„¶å˜é‡çš„å£°æ˜å‰åé¡ºåºå˜äº†,ä½†æ˜¯å¯¹è±¡ä¸­çš„å€¼æ²¡å˜,å®ƒæœ€ç»ˆè¿˜æ˜¯æ ¹æ®å±æ€§åå»æ‰¾å€¼,æ‰€ä»¥ç»“æœæ²¡å˜</p><p><strong>c:ä¸å­˜åœ¨çš„å±æ€§å</strong></p><pre><code>let &#123;name,sex&#125; =&#123;name:&#39;å°æ˜&#39;,age:18&#125;console.log(name,sex)//å°æ˜,undefined</code></pre><p>åµŒå¥—è§£æ„</p><p>  <strong>æ•°ç»„</strong>:</p><pre><code>let [a, [b,c], d] = [1, [2, 3], 4];console.log(a,b,c,d)//1,2,3,4//åæ­£ç»“æ„å’Œä½ç½®ä¸€ä¸€å¯¹åº”å°±è¡Œäº†.</code></pre><p> <strong>å¯¹è±¡</strong></p><pre><code>const obj=&#123;    man:&#123;      student:&#123;           name:&#39;å°æ˜&#39;,           age:18        &#125;   &#125;&#125;let &#123;man:&#123;student&#125;&#125; = obj //objé‡Œé¢æœ‰ä¸ªman,ç„¶åé‡Œé¢æœ‰ä¸ªstudent,æ³¨æ„è¿™ä¸€è¡Œä»£ç é‡Œå˜é‡å°±åªæœ‰ä¸€ä¸ªstudent,å¹¶æ²¡æœ‰manconsole.log(man,student) // undefined,&#123;name:&#39;å°æ˜&#39;,age:18&#125;let &#123;man:&#123;student:&#123;name&#125;&#125;&#125; = obj //åŒç†,é€å±‚æ‹¿åˆ°æœ€åçš„nameå€¼,è€Œä¸”ä¹Ÿåªæœ‰nameè¿™ä¸€ä¸ªå±æ€§console.log(name) //å°æ˜//å¦‚ä½•åŒæ—¶æ‹¿åˆ°åµŒå¥—çš„æ¯å±‚çš„æ•°æ®let &#123;man,man:&#123;studengt&#125;,man:&#123;student:&#123;name&#125;&#125;&#125; = objconsole.log(man,student,name) //&#123;student:&#123;name:&#39;å°æ˜&#39;,age:18&#125;&#125;,&#123;name:&#39;å°æ˜&#39;,age:18&#125;,18</code></pre><p>ä¸å®Œå…¨è§£æ„</p><pre><code>let [a, b] = [1, 2, 3];console.log(a,b,c)//1,2//è¿™é‡Œå˜é‡åªæœ‰ä¸¤ä¸ª,ä½†æ˜¯æ•°ç»„ä¸­å…ƒç´ æœ‰ä¸‰ä¸ª.è¿™é‡Œè¿˜æ˜¯æ ¹æ®ä½ç½®å¯¹åº”åŸç†å°±è¡Œ.aè¡¨ç¤ºæ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ,bè¡¨ç¤ºç¬¬2ä¸ª.è€Œç¬¬ä¸‰ä¸ªå…ƒç´ æˆ‘ä¸è¦.let [a, [b], d] = [1, [2, 3], 4];console.log(a,b,d)//1,2,4//åµŒå¥—è§£æ„åŒæ ·ä¹Ÿå¯ä»¥ä¸å®Œå…¨è§£æ„,æ ¹æ®å®é™…éœ€è¦,éœ€è¦å“ªä¸ªå°±è§£æ„èµ‹å€¼å“ªä¸ªlet [, , c] = [1, 2, 3];console.log(c)//3//æ³¨æ„è¿™é‡Œæ˜¯å®Œå…¨è§£æ„,åªä¸è¿‡å‰ä¸¤ä¸ªå…ƒç´ æˆ‘è™½ç„¶è§£æ„äº†,ä½†æ˜¯æˆ‘ä¸è¦.å› ä¸ºä½ç½®å¯¹åº”çš„å…³ç³»,æ‰€ä»¥å¿…é¡»æœ‰ä¸¤ä¸ªå ä½çš„,æ‰èƒ½æ‹¿åˆ°ç¬¬ä¸‰ä¸ª.//æ”¾åœ¨è¿™é‡Œæ˜¯ä¸ºäº†æ–¹ä¾¿ç†è§£ä¸ºå•¥å‰é¢ä¸¤ä¸ªæ˜æ˜ä¸è¦è¿˜å¾—å†™ä¸¤ä¸ª&#39;,&#39;</code></pre><p> è¶…é‡èµ‹å€¼(è‡ªå·±çç¼–çš„è¯)ã€€ã€€</p><pre><code>let [a,b,c,d] = [1,2,3]onsole.log(a,b,c,d)//1,2,3,undefined//å› ä¸ºå‰ä¸‰ä¸ªå…ƒç´ éƒ½èƒ½å¯¹åº”æ‰¾åˆ°,è€Œç¬¬å››ä¸ªæ‰¾ä¸åˆ°,ä½†æ˜¯å·²ç»å£°æ˜äº†,æ²¡æœ‰å€¼.//å¯¹è±¡åŒç†,å¦‚æœå‡ºç°äº†å¯¹è±¡ä¸­æ²¡æœ‰çš„å±æ€§å°±ä¼šå¾—åˆ°undefined</code></pre><p><strong>(3)é‡å‘½å(å…ˆå–å†é‡å‘½å)</strong></p><p>  æ•°ç»„:æˆ‘ä»¬ä¸Šé¢è¯´è¿‡,æ•°ç»„è§£æ„çš„æ—¶å€™åªè¦æ³¨æ„ä½ç½®å¯¹åº”å°±è¡Œäº†,åç§°å•¥çš„æ— æ‰€è°“,ä½ å–œæ¬¢å«ä»€ä¹ˆå˜é‡åå°±ä»€ä¹ˆå˜é‡å</p><p>  å¯¹è±¡:å¯¹è±¡è§£æ„çš„æ—¶å€™æ˜¯è¦å±æ€§åå¯¹åº”æ‰èƒ½å–åˆ°å€¼.ä½†æ˜¯æ²¡æœ‰è¯´å–åˆ°å€¼ä¹‹åä¸èƒ½é‡å‘½åå•Š.ä¸€å®šè¦å–åˆ°å€¼ä¹‹ååœ¨å‘½åã€€ã€€</p><pre><code>let &#123;name:myName,age&#125; =&#123;name:&#39;å°æ˜&#39;,age:18&#125;//è¿™é‡Œname:myNameçš„æ„æ€æ˜¯:å–åˆ°nameå±æ€§å€¼,å†’å·åé¢çš„å˜é‡åæ²¡æœ‰èŠ±æ‹¬å·,æ„æ€æ˜¯æŠŠæˆ‘å–åˆ°çš„å€¼äº¤ç»™å†’å·åé¢çš„å˜é‡å,å³&#39;myName&#39;.ç›¸å½“äºæŠŠnameå˜é‡é‡å‘½åä¸ºmyName//è€Œstudent:&#123;name&#125;,åŒæ ·æ˜¯&#39;å±æ€§å:&#39;æ„æ€ä¸€æ ·,å–é‡Œé¢å¯¹åº”çš„å±æ€§,å†’å·åé¢è¿˜æœ‰èŠ±æ‹¬å·,æ‰€ä»¥å†è§£æ„,å–studenté‡Œé¢çš„nameå±æ€§console.log(name,myName,age)//undefined,å°æ˜,18</code></pre><p>ã€€<strong>(4)é»˜è®¤å€¼(å…ˆå–å†é»˜è®¤)</strong></p><p>â€‹    æ•°ç»„</p><pre><code>let [a=0, b=0,c=10] = [1, 2];console.log(a,b,c) //1,2,10//è¿™é‡Œa,b,cåœ¨å·¦è¾¹éƒ½å…ˆç»™äº†ä¸ªé»˜è®¤å€¼,ä½†æ˜¯è¿™é‡Œæ˜¯è¶…é‡è§£æ„,aå’Œbéƒ½æˆåŠŸå–åˆ°å€¼,ä½†æ˜¯cæ²¡å–åˆ°,æ‰€ä»¥æœ€ç»ˆæ˜¯é»˜è®¤å€¼10,å¦‚æœæ²¡æœ‰é»˜è®¤å€¼å°±æ˜¯undefined</code></pre><p>å¯¹è±¡</p><pre><code>let &#123;name:sex=&#39;ç”·&#39;&#125; =&#123;name:&#39;å°æ˜&#39;,age:18&#125;console.log(sex)  //å°æ˜let &#123;name:&#123;sex=&#39;ç”·&#39;&#125;&#125; = &#123;name:&#39;å°æ˜&#39;,age:18&#125;console.log(sex)  //ç”·//è¿™é‡Œåˆšå¥½é€šè¿‡è¿™ä¸¤ä¸ªä¾‹å­åŒºåˆ†ä¸€ä¸‹é‡å‘½åå’ŒåµŒå¥—</code></pre><p>  <strong>(5)å­—ç¬¦ä¸²è§£æ„</strong></p><p>  å­—ç¬¦ä¸²çš„è§£æ„å¯ä»¥ç†è§£ä¸ºä¸€ç»´æ•°ç»„çš„è§£æ„,è¿™åœ¨å¤„ç†å­—ç¬¦ä¸²çš„æ—¶å€™ç‰¹åˆ«æ–¹ä¾¿.</p><pre><code>let [a,b,c] =&#39;123&#39;console.log(a,b,c,typeof c)  //1,2,3,string   è§£æ„å‡ºæ¥çš„æ˜¯å­—ç¬¦ç±»å‹çš„æ•°æ®ã€€</code></pre><p>ã€€é•¿åº¦</p><pre><code>let &#123;length:s&#125; =&#39;123&#39;console.log(s,typeof s) //3,number //åŒç†,æ•°ç»„ä¹Ÿæœ‰é•¿åº¦let &#123;length:s&#125; = [1,2,3]console,log(s,typeof s) //3,number</code></pre><p><strong>(6)å‡½æ•°å‚æ•°è‡ªåŠ¨è§£æ„</strong></p><pre><code>function look([x,y])&#123;console.log(x,y)&#125;look([1,2]) //1,2</code></pre><p>å‚æ•°é»˜è®¤å€¼é™·é˜±å•ç‹¬å†å†™ä¸€ç¯‡</p><p>  <strong>(7)å…ˆå£°æ˜å†èµ‹å€¼(å°‘ç”¨)</strong></p><p>  <strong>æ•°ç»„</strong></p><pre><code>let a;let b;[a,b]=[1,2]console.log(a,b) //1,2</code></pre><p><strong>å¯¹è±¡</strong></p><pre><code>let x;&#123;x&#125;=&#123;x:1,y:1&#125; //æŠ¥é”™ ä¸»è¦è¿˜æ˜¯å¤§æ‹¬å·çš„åŸå› ,jsåœ¨è¡Œé¦–é‡åˆ°&#123;&#125;ä¼šæŠŠå®ƒå½“åšä»£ç å—æ‰§è¡Œ,æ‰€ä»¥ä¼šæŠ¥é”™.(&#123;x&#125;=&#123;x:1,y:1&#125;) //è¿™æ ·å¯ä»¥è§£å†³é—®é¢˜,ä½†æ˜¯å°½é‡åˆ«å¼•å…¥(),é—®é¢˜ä¼šå˜å¾—å¤æ‚</code></pre><p>åˆ°è¿™é‡Œä¸ºæ­¢,è§£æ„èµ‹å€¼çš„æ—¥å¸¸ä½¿ç”¨æ²¡é—®é¢˜äº†,å®ƒå¸¦æ¥äº†ä¸å°‘æ–¹ä¾¿,ä½†ä¹Ÿä¼šäº§ç”Ÿä¸€äº›æ–°bug,æ¯”å¦‚:let {data} =res çš„å†™æ³•,å‡å¦‚resé‡Œé¢å¹¶æ²¡æœ‰dataå±æ€§,é‚£å°±ä¼šundefined,æ‰€ä»¥è¿˜æ˜¯å¾—æ˜ç¡®ç­‰å·å³è¾¹çš„è§£æ„.ã€€</p><h1 id="vuex"><a href="#vuex" class="headerlink" title="vuex"></a>vuex</h1><p>å½“åˆ·æ–°é¡µé¢ï¼ˆè¿™é‡Œçš„åˆ·æ–°é¡µé¢æŒ‡çš„æ˜¯ â€“&gt; F5åˆ·æ–°,å±äºæ¸…é™¤å†…å­˜äº†ï¼‰æ—¶vuexå­˜å‚¨çš„å€¼ä¼šä¸¢å¤±ï¼Œsessionstorageé¡µé¢å…³é—­åå°±æ¸…é™¤æ‰äº†ï¼Œlocalstorageä¸ä¼šã€‚ </p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
            <tag> typescript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>docker</title>
      <link href="2020/09/22/docker/"/>
      <url>2020/09/22/docker/</url>
      
        <content type="html"><![CDATA[<h1 id="docker"><a href="#docker" class="headerlink" title="docker"></a>docker</h1><p> é•œåƒçœ‹ä½œç±»ï¼ŒæŠŠå®¹å™¨çœ‹ä½œç±»å®ä¾‹åŒ–åçš„å¯¹è±¡ </p><h2 id="Dockeræ¦‚è¿°"><a href="#Dockeræ¦‚è¿°" class="headerlink" title="Dockeræ¦‚è¿°"></a>Dockeræ¦‚è¿°</h2><h3 id="ä¸ºä»€ä¹ˆä¼šå‡ºç°"><a href="#ä¸ºä»€ä¹ˆä¼šå‡ºç°" class="headerlink" title="ä¸ºä»€ä¹ˆä¼šå‡ºç°"></a>ä¸ºä»€ä¹ˆä¼šå‡ºç°</h3><p>æ¬¾äº§å“ï¼š å¼€å‘â€“ä¸Šçº¿ ä¸¤å¥—ç¯å¢ƒï¼åº”ç”¨ç¯å¢ƒï¼Œåº”ç”¨é…ç½®ï¼</p><p>å¼€å‘ â€” è¿ç»´ã€‚ é—®é¢˜ï¼šæˆ‘åœ¨æˆ‘çš„ç”µè„‘ä¸Šå¯ä»¥å…è®¸ï¼ç‰ˆæœ¬æ›´æ–°ï¼Œå¯¼è‡´æœåŠ¡ä¸å¯ç”¨ï¼å¯¹äºè¿ç»´æ¥è¯´è€ƒéªŒååˆ†å¤§ï¼Ÿ</p><p>ç¯å¢ƒé…ç½®æ˜¯ååˆ†çš„éº»çƒ¦ï¼Œæ¯ä¸€ä¸ªåŠå…¶éƒ½è¦éƒ¨ç½²ç¯å¢ƒ(é›†ç¾¤Redisã€ESã€Hadoopâ€¦) !è´¹äº‹è´¹åŠ›ã€‚</p><p>å‘å¸ƒä¸€ä¸ªé¡¹ç›®( jar + (Redis MySQL JDK ES) ),é¡¹ç›®èƒ½ä¸èƒ½å¸¦ä¸Šç¯å¢ƒå®‰è£…æ‰“åŒ…ï¼</p><p>ä¹‹å‰åœ¨æœåŠ¡å™¨é…ç½®ä¸€ä¸ªåº”ç”¨çš„ç¯å¢ƒ Redis MySQL JDK ES Hadoop é…ç½®è¶…éº»çƒ¦ï¼Œä¸èƒ½å¤Ÿè·¨å¹³å°ã€‚</p><p>å¼€å‘ç¯å¢ƒWindowsï¼Œæœ€åå‘å¸ƒåˆ°Linuxï¼</p><p>ä¼ ç»Ÿï¼šå¼€å‘jarï¼Œè¿ç»´æ¥åšï¼</p><p>ç°åœ¨ï¼šå¼€å‘æ‰“åŒ…éƒ¨ç½²ä¸Šçº¿ï¼Œä¸€å¥—æµç¨‹åšå®Œï¼</p><p> java â€“ jarï¼ˆç¯å¢ƒï¼‰ â€” æ‰“åŒ…é¡¹ç›®å¸¦ä¸Šç¯å¢ƒï¼ˆé•œåƒï¼‰ â€”- ( Dockerä»“åº“ï¼šå•†åº—ï¼‰â€”-ä¸‹è½½åˆ°ä¸ºæˆ‘ä»¬å‘å¸ƒçš„é•œåƒ â€”- ç›´æ¥è¿è¡Œå³å¯ï¼ </p><h3 id="Dockerè§£å†³æ–¹æ¡ˆ"><a href="#Dockerè§£å†³æ–¹æ¡ˆ" class="headerlink" title="Dockerè§£å†³æ–¹æ¡ˆ"></a>Dockerè§£å†³æ–¹æ¡ˆ</h3><p>Dockerçš„æ€æƒ³å°±æ¥è‡ªäºé›†è£…ç®±ï¼</p><p>JRE â€“ å¤šä¸ªåº”ç”¨(ç«¯å£å†²çª) â€” åŸæ¥éƒ½æ˜¯äº¤å‰çš„ï¼</p><p>éš”ç¦»ï¼šDockeræ ¸å¿ƒæ€æƒ³ï¼æ‰“åŒ…è£…ç®±ï¼æ¯ä¸ªç®±å­æ˜¯äº’ç›¸éš”ç¦»çš„ã€‚</p><p>æ°´æœ ç”ŸåŒ–æ­¦å™¨</p><p>Dockeré€šè¿‡éš”ç¦»æœºåˆ¶ï¼Œå¯ä»¥å°†æœåŠ¡å™¨åˆ©ç”¨åˆ°æè‡´ï¼</p><h3 id="Dockerå†å²"><a href="#Dockerå†å²" class="headerlink" title="Dockerå†å²"></a>Dockerå†å²</h3><p>2010å¹´ï¼Œå‡ ä¸ªçš„å¹´è½»äººï¼Œå°±åœ¨ç¾å›½æˆç«‹äº†ä¸€å®¶å…¬å¸ dotcloud</p><p>åšä¸€äº›passçš„äº‘è®¡ç®—æœåŠ¡ï¼LXCï¼ˆLinux Containerå®¹å™¨ï¼‰æœ‰å…³çš„å®¹å™¨æŠ€æœ¯ï¼</p><p>Linux Containerå®¹å™¨æ˜¯ä¸€ç§å†…æ ¸è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œå¯ä»¥æä¾›è½»é‡çº§çš„è™šæ‹ŸåŒ–ï¼Œä»¥ä¾¿éš”ç¦»è¿›ç¨‹å’Œèµ„æºã€‚</p><p>ä»–ä»¬å°†è‡ªå·±çš„æŠ€æœ¯ï¼ˆå®¹å™¨åŒ–æŠ€æœ¯ï¼‰å‘½åå°±æ˜¯ Docker</p><p>Dockeråˆšåˆšå»¶ç”Ÿçš„æ—¶å€™ï¼Œæ²¡æœ‰å¼•èµ·è¡Œä¸šçš„æ³¨æ„ï¼dotCloudï¼Œå°±æ´»ä¸ä¸‹å»ï¼</p><h4 id="å¼€æº"><a href="#å¼€æº" class="headerlink" title="å¼€æº"></a>å¼€æº</h4><p>2013å¹´ï¼ŒDockerå¼€æºï¼</p><p>è¶Šæ¥è¶Šå¤šçš„äººå‘ç°dockerçš„ä¼˜ç‚¹ï¼ç«äº†ã€‚Dockeræ¯ä¸ªæœˆéƒ½ä¼šæ›´æ–°ä¸€ä¸ªç‰ˆæœ¬ï¼</p><p>2014å¹´4æœˆ9æ—¥ï¼ŒDocker1.0å‘å¸ƒï¼</p><p>dockerä¸ºä»€ä¹ˆè¿™ä¹ˆç«ï¼Ÿååˆ†çš„è½»å·§ï¼</p><p>åœ¨å®¹å™¨æŠ€æœ¯å‡ºæ¥ä¹‹å‰ï¼Œæˆ‘ä»¬éƒ½æ˜¯ä½¿ç”¨è™šæ‹ŸæœºæŠ€æœ¯ï¼</p><p>è™šæ‹Ÿæœºï¼šåœ¨windowä¸­è£…ä¸€ä¸ªVMwareï¼Œé€šè¿‡è¿™ä¸ªè½¯ä»¶æˆ‘ä»¬å¯ä»¥è™šæ‹Ÿå‡ºæ¥ä¸€å°æˆ–è€…å¤šå°ç”µè„‘ï¼ç¬¨é‡ï¼</p><p>è™šæ‹Ÿæœºä¹Ÿå±äºè™šæ‹ŸåŒ–æŠ€æœ¯ï¼ŒDockerå®¹å™¨æŠ€æœ¯ï¼Œä¹Ÿæ˜¯ä¸€ç§è™šæ‹ŸåŒ–æŠ€æœ¯ï¼</p><p>vm : linux centos åŸç”Ÿé•œåƒï¼ˆä¸€ä¸ªç”µè„‘ï¼ï¼‰ éš”ç¦»ã€éœ€è¦å¼€å¯å¤šä¸ªè™šæ‹Ÿæœºï¼ å‡ ä¸ªG å‡ åˆ†é’Ÿ<br>docker : éš”ç¦»ï¼Œé•œåƒï¼ˆæœ€æ ¸å¿ƒçš„ç¯å¢ƒ 4m + jdk + mysqlï¼‰ååˆ†çš„å°å·§ï¼Œè¿è¡Œé•œåƒå°±å¯ä»¥äº†ï¼å°å·§ï¼ å‡ ä¸ªM ç§’çº§å¯åŠ¨ï¼</p><h3 id="èŠèŠDocker"><a href="#èŠèŠDocker" class="headerlink" title="èŠèŠDocker"></a>èŠèŠDocker</h3><p>DockeråŸºäºGoè¯­è¨€å¼€å‘çš„ï¼å¼€æºé¡¹ç›®ï¼</p><p>dockerå®˜ç½‘ï¼š<a href="https://www.docker.com/">https://www.docker.com/</a></p><p>æ–‡æ¡£ï¼š<a href="https://docs.docker.com/">https://docs.docker.com/</a> Dockerçš„æ–‡æ¡£æ˜¯è¶…çº§è¯¦ç»†çš„ï¼</p><p>ä»“åº“ï¼š<a href="https://hub.docker.com/">https://hub.docker.com/</a></p><h3 id="Dockerèƒ½å¹²å˜›"><a href="#Dockerèƒ½å¹²å˜›" class="headerlink" title="Dockerèƒ½å¹²å˜›"></a>Dockerèƒ½å¹²å˜›</h3><p>ä¹‹å‰çš„è™šæ‹ŸæœºæŠ€æœ¯ï¼</p><p><img src="G:\xmind&md\imgs\1591688800800.png" alt="1591688800800"></p><h4 id="è™šæ‹ŸæœºæŠ€æœ¯ç¼ºç‚¹ï¼š"><a href="#è™šæ‹ŸæœºæŠ€æœ¯ç¼ºç‚¹ï¼š" class="headerlink" title="è™šæ‹ŸæœºæŠ€æœ¯ç¼ºç‚¹ï¼š"></a>è™šæ‹ŸæœºæŠ€æœ¯ç¼ºç‚¹ï¼š</h4><p>1ã€ èµ„æºå ç”¨ååˆ†å¤š</p><p>2ã€ å†—ä½™æ­¥éª¤å¤š</p><p>3ã€ å¯åŠ¨å¾ˆæ…¢ï¼</p><h4 id="å®¹å™¨åŒ–æŠ€æœ¯"><a href="#å®¹å™¨åŒ–æŠ€æœ¯" class="headerlink" title="å®¹å™¨åŒ–æŠ€æœ¯"></a><strong>å®¹å™¨åŒ–æŠ€æœ¯</strong></h4><p> <strong>å®¹å™¨åŒ–æŠ€æœ¯ä¸æ˜¯æ¨¡æ‹Ÿä¸€ä¸ªå®Œæ•´çš„æ“ä½œç³»ç»Ÿ</strong> </p><p><img src="G:\xmind&md\imgs\1591689239886.png" alt="1591689239886"></p><h4 id="æ¯”è¾ƒDockerå’Œè™šæ‹ŸæœºæŠ€æœ¯çš„ä¸åŒï¼š"><a href="#æ¯”è¾ƒDockerå’Œè™šæ‹ŸæœºæŠ€æœ¯çš„ä¸åŒï¼š" class="headerlink" title="æ¯”è¾ƒDockerå’Œè™šæ‹ŸæœºæŠ€æœ¯çš„ä¸åŒï¼š"></a>æ¯”è¾ƒDockerå’Œè™šæ‹ŸæœºæŠ€æœ¯çš„ä¸åŒï¼š</h4><p>ä¼ ç»Ÿè™šæ‹Ÿæœºï¼Œè™šæ‹Ÿå‡ºä¸€æ¡ç¡¬ä»¶ï¼Œè¿è¡Œä¸€ä¸ªå®Œæ•´çš„æ“ä½œç³»ç»Ÿï¼Œç„¶ååœ¨è¿™ä¸ªç³»ç»Ÿä¸Šå®‰è£…å’Œè¿è¡Œè½¯ä»¶<br>å®¹å™¨å†…çš„åº”ç”¨ç›´æ¥è¿è¡Œåœ¨å®¿ä¸»æœºçš„å†…å®¹ï¼Œå®¹å™¨æ˜¯æ²¡æœ‰è‡ªå·±çš„å†…æ ¸çš„ï¼Œä¹Ÿæ²¡æœ‰è™šæ‹Ÿæˆ‘ä»¬çš„ç¡¬ä»¶ï¼Œæ‰€ä»¥å°±è½»ä¾¿äº†<br>æ¯ä¸ªå®¹å™¨é—´æ˜¯äº’ç›¸éš”ç¦»ï¼Œæ¯ä¸ªå®¹å™¨å†…éƒ½æœ‰ä¸€ä¸ªå±äºè‡ªå·±çš„æ–‡ä»¶ç³»ç»Ÿï¼Œäº’ä¸å½±å“</p><h3 id="DevOpsï¼ˆå¼€å‘ã€è¿ç»´ï¼‰"><a href="#DevOpsï¼ˆå¼€å‘ã€è¿ç»´ï¼‰" class="headerlink" title="DevOpsï¼ˆå¼€å‘ã€è¿ç»´ï¼‰"></a>DevOpsï¼ˆå¼€å‘ã€è¿ç»´ï¼‰</h3><h4 id="1-åº”ç”¨æ›´å¿«é€Ÿçš„äº¤ä»˜å’Œéƒ¨ç½²"><a href="#1-åº”ç”¨æ›´å¿«é€Ÿçš„äº¤ä»˜å’Œéƒ¨ç½²" class="headerlink" title="1.åº”ç”¨æ›´å¿«é€Ÿçš„äº¤ä»˜å’Œéƒ¨ç½²"></a>1.åº”ç”¨æ›´å¿«é€Ÿçš„äº¤ä»˜å’Œéƒ¨ç½²</h4><p>ä¼ ç»Ÿï¼šä¸€å¯¹å¸®åŠ©æ–‡æ¡£ï¼Œå®‰è£…ç¨‹åºã€‚</p><p>Dockerï¼šæ‰“åŒ…é•œåƒå‘å¸ƒæµ‹è¯•ä¸€é”®è¿è¡Œã€‚</p><h4 id="2-æ›´ä¾¿æ·çš„å‡çº§å’Œæ‰©ç¼©å®¹"><a href="#2-æ›´ä¾¿æ·çš„å‡çº§å’Œæ‰©ç¼©å®¹" class="headerlink" title="2.æ›´ä¾¿æ·çš„å‡çº§å’Œæ‰©ç¼©å®¹"></a>2.æ›´ä¾¿æ·çš„å‡çº§å’Œæ‰©ç¼©å®¹</h4><p>ä½¿ç”¨äº† Dockerä¹‹åï¼Œæˆ‘ä»¬éƒ¨ç½²åº”ç”¨å°±å’Œæ­ç§¯æœ¨ä¸€æ ·<br>é¡¹ç›®æ‰“åŒ…ä¸ºä¸€ä¸ªé•œåƒï¼Œæ‰©å±•æœåŠ¡å™¨Aï¼æœåŠ¡å™¨B</p><h4 id="3-æ›´ç®€å•çš„ç³»ç»Ÿè¿ç»´"><a href="#3-æ›´ç®€å•çš„ç³»ç»Ÿè¿ç»´" class="headerlink" title="3.æ›´ç®€å•çš„ç³»ç»Ÿè¿ç»´"></a>3.æ›´ç®€å•çš„ç³»ç»Ÿè¿ç»´</h4><p>åœ¨å®¹å™¨åŒ–ä¹‹åï¼Œæˆ‘ä»¬çš„å¼€å‘ï¼Œæµ‹è¯•ç¯å¢ƒéƒ½æ˜¯é«˜åº¦ä¸€è‡´çš„</p><h4 id="4-æ›´é«˜æ•ˆçš„è®¡ç®—èµ„æºåˆ©ç”¨"><a href="#4-æ›´é«˜æ•ˆçš„è®¡ç®—èµ„æºåˆ©ç”¨" class="headerlink" title="4.æ›´é«˜æ•ˆçš„è®¡ç®—èµ„æºåˆ©ç”¨"></a>4.æ›´é«˜æ•ˆçš„è®¡ç®—èµ„æºåˆ©ç”¨</h4><p>Dockeræ˜¯å†…æ ¸çº§åˆ«çš„è™šæ‹ŸåŒ–ï¼Œå¯ä»¥åœ¨ä¸€ä¸ªç‰©ç†æœºä¸Šå¯ä»¥è¿è¡Œå¾ˆå¤šçš„å®¹å™¨å®ä¾‹ï¼æœåŠ¡å™¨çš„æ€§èƒ½å¯ä»¥è¢«å‹æ¦¨åˆ°æè‡´ã€‚</p><h2 id="Dockerå®‰è£…"><a href="#Dockerå®‰è£…" class="headerlink" title="Dockerå®‰è£…"></a>Dockerå®‰è£…</h2><h3 id="dockerçš„åŸºæœ¬ç»„æˆ"><a href="#dockerçš„åŸºæœ¬ç»„æˆ" class="headerlink" title="dockerçš„åŸºæœ¬ç»„æˆ"></a>dockerçš„åŸºæœ¬ç»„æˆ</h3><p><img src="G:\xmind&md\imgs\1591689686866.png" alt="1591689686866"></p><p>**é•œåƒ(image):**ç±»ä¼¼ä¸€ä¸ªæ¨¡æ¿ï¼Œå¯ä»¥é€šè¿‡ä¸€ä¸ªé•œåƒæ¥åˆ›å»ºå®¹å™¨æœåŠ¡ï¼Œtomcat==&gt;run==&gt;tomcat01å®¹å™¨(æä¾›æœåŠ¡çš„)ï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªé•œåƒå¯ä»¥åˆ›å»ºå¤šä¸ªå®¹å™¨(æœ€ç»ˆæœåŠ¡è¿è¡Œæˆ–è€…é¡¹ç›®è¿è¡Œå°±æ˜¯åœ¨å®¹å™¨ä¸­çš„)ã€‚ç±»ä¼¼javaä¸­çš„ç±»(é•œåƒ)å’Œå¯¹è±¡(å®¹å™¨)</p><p>**å®¹å™¨(contain):**å¯ä»¥ç‹¬ç«‹è¿è¡Œä¸€ä¸ªæˆ–è€…ä¸€ç»„åº”ç”¨ï¼Œé€šè¿‡é•œåƒåˆ›å»ºã€‚</p><p>åŸºæœ¬å‘½ä»¤ï¼šå¯åŠ¨ï¼Œåœæ­¢ï¼Œåˆ é™¤ã€‚</p><p>**ä»“åº“(repository):**å°±æ˜¯å­˜æ”¾é•œåƒçš„åœ°æ–¹ã€‚</p><h3 id="å®‰è£…docker"><a href="#å®‰è£…docker" class="headerlink" title="å®‰è£…docker"></a>å®‰è£…docker</h3><p> <em>1.å¸è½½æ—§ç‰ˆæœ¬</em> </p><pre><code>yum remove docker \                  docker-client \                  docker-client-latest \                  docker-common \                  docker-latest \                  docker-latest-logrotate \                  docker-logrotate \                  docker-engine  </code></pre><p> <em>2.éœ€è¦çš„å®‰è£…åŒ…</em> </p><pre><code>yum install -y yum-utils</code></pre><p> <em>3.è®¾ç½®é•œåƒçš„ä»“åº“</em> </p><pre><code>yum-config-manager \    --add-repo \    https://download.docker.com/linux/centos/docker-ce.repo #é»˜è®¤æ˜¯ä»å›½å¤–çš„ï¼Œä¸æ¨è#æ¨èä½¿ç”¨é˜¿é‡Œäº‘çš„ï¼Œéå¸¸å¿«yum-config-manager \    --add-repo \    https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo#æ›´æ–°yumè½¯ä»¶åŒ…ç´¢å¼•yum makecache fast</code></pre><p> <em>4.å®‰è£…dockerç›¸å…³çš„ docker-ce ç¤¾åŒºç‰ˆ è€Œeeæ˜¯ä¼ä¸šç‰ˆ</em> </p><pre><code>yum install docker-ce docker-ce-cli containerd.io</code></pre><p> <em>5. å¯åŠ¨docker</em> </p><pre><code>systemctl start docker</code></pre><p> <em>6. ä½¿ç”¨docker versionæŸ¥çœ‹æ˜¯å¦æŒ‰ç…§æˆåŠŸ</em> </p><pre><code> docker version</code></pre><p> <em>7. æµ‹è¯•</em> </p><p>è®¾ç½®å›½å†…ä¸‹è½½æº</p><pre><code># vi /etc/docker/daemon.json&#123;    &quot;registry-mirrors&quot;: [&quot;http://hub-mirror.c.163.com&quot;]&#125;systemctl restart docker.service</code></pre><pre><code>docker run hello-worlddocker exec -it 775c7c9ee1e1 /bin/bash  </code></pre><p> <em>8.æŸ¥çœ‹ä¸€ä¸‹ä¸‹è½½çš„é•œåƒ</em>       </p><pre><code>docker images</code></pre><h3 id="å¸è½½docker"><a href="#å¸è½½docker" class="headerlink" title="å¸è½½docker"></a>å¸è½½docker</h3><pre><code>#1. å¸è½½ä¾èµ–yum remove docker-ce docker-ce-cli containerd.io#2. åˆ é™¤èµ„æºrm -rf /var/lib/docker# /var/lib/docker dockerçš„é»˜è®¤</code></pre><h3 id="å›é¡¾HelloWorldæµç¨‹"><a href="#å›é¡¾HelloWorldæµç¨‹" class="headerlink" title="å›é¡¾HelloWorldæµç¨‹"></a>å›é¡¾HelloWorldæµç¨‹</h3><p><img src="G:\xmind&md\imgs\1591691509601.png" alt="1591691509601"></p><p> docker run æµç¨‹å›¾ </p><p><img src="G:\xmind&md\imgs\1591691537760.png" alt="1591691537760"></p><h3 id="åº•å±‚åŸç†"><a href="#åº•å±‚åŸç†" class="headerlink" title="åº•å±‚åŸç†"></a>åº•å±‚åŸç†</h3><h4 id="Dockeræ˜¯æ€ä¹ˆå·¥ä½œçš„ï¼Ÿ"><a href="#Dockeræ˜¯æ€ä¹ˆå·¥ä½œçš„ï¼Ÿ" class="headerlink" title="Dockeræ˜¯æ€ä¹ˆå·¥ä½œçš„ï¼Ÿ"></a>Dockeræ˜¯æ€ä¹ˆå·¥ä½œçš„ï¼Ÿ</h4><ul><li>Dockeræ˜¯ä¸€ä¸ªClient-Serverç»“æ„çš„ç³»ç»Ÿï¼ŒDockerçš„å®ˆæŠ¤è¿›ç¨‹è¿è¡Œåœ¨ä¸»æœºä¸Šã€‚é€šè¿‡Socketä»å®¢æˆ·ç«¯è®¿é—®ï¼</li><li>Docker-Serveræ¥æ”¶åˆ°Docker-Clientçš„æŒ‡ä»¤ï¼Œå°±ä¼šæ‰§è¡Œè¿™ä¸ªå‘½ä»¤ï¼</li><li><img src="G:\xmind&md\imgs\1591691653610.png" alt="1591691653610"></li></ul><h4 id="ä¸ºä»€ä¹ˆDockeræ¯”VMå¿«"><a href="#ä¸ºä»€ä¹ˆDockeræ¯”VMå¿«" class="headerlink" title="ä¸ºä»€ä¹ˆDockeræ¯”VMå¿«"></a>ä¸ºä»€ä¹ˆDockeræ¯”VMå¿«</h4><p>dockeræœ‰ç€æ¯”è™šæ‹Ÿæœºæ›´å°‘çš„æŠ½è±¡å±‚ã€‚ç”±äºdockerä¸éœ€è¦Hypervisorå®ç°ç¡¬ä»¶èµ„æºè™šæ‹ŸåŒ–,è¿è¡Œåœ¨dockerå®¹å™¨ä¸Šçš„ç¨‹åºç›´æ¥ä½¿ç”¨çš„éƒ½æ˜¯å®é™…ç‰©ç†æœºçš„ç¡¬ä»¶èµ„æºã€‚å› æ­¤åœ¨CPUã€å†…å­˜åˆ©ç”¨ç‡ä¸Šdockerå°†ä¼šåœ¨æ•ˆç‡ä¸Šæœ‰æ˜æ˜¾ä¼˜åŠ¿ã€‚</p><p>dockeråˆ©ç”¨çš„æ˜¯å®¿ä¸»æœºçš„å†…æ ¸,è€Œä¸éœ€è¦Guest OSã€‚</p><p>GuestOSï¼š VMï¼ˆè™šæ‹Ÿæœºï¼‰é‡Œçš„çš„ç³»ç»Ÿï¼ˆOSï¼‰;<br>HostOSï¼šç‰©ç†æœºé‡Œçš„ç³»ç»Ÿï¼ˆOSï¼‰ï¼›</p><p><img src="G:\xmind&md\imgs\1591691833753.png" alt="1591691833753"></p><p>å› æ­¤,å½“æ–°å»ºä¸€ä¸ª å®¹å™¨æ—¶,dockerä¸éœ€è¦å’Œè™šæ‹Ÿæœºä¸€æ ·é‡æ–°åŠ è½½ä¸€ä¸ªæ“ä½œç³»ç»Ÿå†…æ ¸ã€‚ä»è€Œé¿å…å¼•å¯¼ã€åŠ è½½æ“ä½œç³»ç»Ÿå†…æ ¸è¿”ä¸ªæ¯”è¾ƒè´¹æ—¶è´¹èµ„æºçš„è¿‡ç¨‹,å½“æ–°å»ºä¸€ä¸ªè™šæ‹Ÿæœºæ—¶,è™šæ‹Ÿæœºè½¯ä»¶éœ€è¦åŠ è½½GuestOS,è¿”ä¸ªæ–°å»ºè¿‡ç¨‹æ˜¯åˆ†é’Ÿçº§åˆ«çš„ã€‚è€Œdockerç”±äºç›´æ¥åˆ©ç”¨å®¿ä¸»æœºçš„æ“ä½œç³»ç»Ÿ,åˆ™çœç•¥äº†è¿™ä¸ªå¤æ‚çš„è¿‡ç¨‹,å› æ­¤æ–°å»ºä¸€ä¸ªdockerå®¹å™¨åªéœ€è¦å‡ ç§’é’Ÿã€‚</p><h2 id="Dockerå‘½ä»¤"><a href="#Dockerå‘½ä»¤" class="headerlink" title="Dockerå‘½ä»¤"></a>Dockerå‘½ä»¤</h2><h3 id="é•œåƒå‘½ä»¤"><a href="#é•œåƒå‘½ä»¤" class="headerlink" title="é•œåƒå‘½ä»¤"></a>é•œåƒå‘½ä»¤</h3><pre><code>docker images æŸ¥çœ‹æ‰€æœ‰é•œåƒ</code></pre><p><img src="G:\xmind&md\imgs\1591692390070.png" alt="1591692390070"></p><pre><code>docker search mysql æœç´¢é•œåƒdocker pull mysql   ä¸‹è½½é•œåƒ</code></pre><p><img src="G:\xmind&md\imgs\1591692754240.png" alt="1591692754240"></p><p><img src="G:\xmind&md\imgs\1591692801844.png" alt="1591692801844"></p><pre><code>docker rmi åˆ é™¤é•œåƒdocker rmi -f $(docker images -aq) åˆ é™¤å…¨éƒ¨é•œåƒ</code></pre><h3 id="å®¹å™¨å‘½ä»¤"><a href="#å®¹å™¨å‘½ä»¤" class="headerlink" title="å®¹å™¨å‘½ä»¤"></a>å®¹å™¨å‘½ä»¤</h3><pre><code>docker pull centos</code></pre><h4 id="æ–°å»ºå®¹å™¨å¹¶å¯åŠ¨"><a href="#æ–°å»ºå®¹å™¨å¹¶å¯åŠ¨" class="headerlink" title="æ–°å»ºå®¹å™¨å¹¶å¯åŠ¨"></a>æ–°å»ºå®¹å™¨å¹¶å¯åŠ¨</h4><pre><code>docker run [å¯é€‰å‚æ•°] imagedocker run -it 470671670cac /bin/bashexit é€€å‡ºå®¹å™¨Ctrl + P + Q å®¹å™¨ä¸åœæ­¢é€€å‡ºdocker ps æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨docker rm å®¹å™¨id åˆ é™¤å®¹å™¨ï¼Œä¸èƒ½åˆ é™¤æ­£åœ¨è¿è¡Œçš„å®¹å™¨</code></pre><p><img src="G:\xmind&md\imgs\1591693427313.png" alt="1591693427313"></p><p><img src="G:\xmind&md\imgs\1591694744515.png" alt="1591694744515"></p><h3 id="å¸¸ç”¨çš„å…¶ä»–å‘½ä»¤"><a href="#å¸¸ç”¨çš„å…¶ä»–å‘½ä»¤" class="headerlink" title="å¸¸ç”¨çš„å…¶ä»–å‘½ä»¤"></a>å¸¸ç”¨çš„å…¶ä»–å‘½ä»¤</h3><pre><code>docker run -d centos åå°å¯åŠ¨é—®é¢˜ docker ps ï¼Œå‘ç°centosåœæ­¢äº†docker å®¹å™¨ä½¿ç”¨åå°è¿è¡Œï¼Œå°±å¿…é¡»è¦æœ‰ä¸€ä¸ªå‰å°è¿›ç¨‹ï¼Œdockerå‘ç°æ²¡æœ‰åº”ç”¨å°±ä¼šè‡ªåŠ¨åœæ­¢</code></pre><p><img src="G:\xmind&md\imgs\1591695363396.png" alt="1591695363396"></p><p><img src="G:\xmind&md\imgs\1591695466426.png" alt="1591695466426"></p><h4 id="æŸ¥çœ‹å…ƒæ•°æ®"><a href="#æŸ¥çœ‹å…ƒæ•°æ®" class="headerlink" title="æŸ¥çœ‹å…ƒæ•°æ®"></a>æŸ¥çœ‹å…ƒæ•°æ®</h4><pre><code>docker inspect å®¹å™¨id</code></pre><h4 id="è¿›å…¥å½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨"><a href="#è¿›å…¥å½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨" class="headerlink" title="è¿›å…¥å½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨"></a>è¿›å…¥å½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨</h4><pre><code>æ–¹å¼ä¸€ï¼šè¿›å…¥å®¹å™¨åæ‰“å¼€ä¸€ä¸ªæ–°çš„ç»ˆç«¯ï¼Œå¯ä»¥åœ¨é‡Œé¢æ“ä½œdocker exec -it å®¹å™¨id bashShellæ–¹å¼äºŒï¼šè¿›å…¥å®¹å™¨æ­£åœ¨æ‰§è¡Œçš„ç»ˆç«¯ï¼Œä¸ä¼šå¯åŠ¨æ–°çš„è¿›ç¨‹docker attach å®¹å™¨id</code></pre><h4 id="ä»å®¹å™¨å†…æ‹·è´æ–‡ä»¶åˆ°ä¸»æœºä¸Š"><a href="#ä»å®¹å™¨å†…æ‹·è´æ–‡ä»¶åˆ°ä¸»æœºä¸Š" class="headerlink" title="ä»å®¹å™¨å†…æ‹·è´æ–‡ä»¶åˆ°ä¸»æœºä¸Š"></a>ä»å®¹å™¨å†…æ‹·è´æ–‡ä»¶åˆ°ä¸»æœºä¸Š</h4><pre><code>docker cp å®¹å™¨idï¼šå®¹å™¨å†…è·¯å¾„ ç›®çš„çš„ä¸»æœºè·¯å¾„Linux touchå‘½ä»¤ç”¨äºä¿®æ”¹æ–‡ä»¶æˆ–è€…ç›®å½•çš„æ—¶é—´å±æ€§ï¼ŒåŒ…æ‹¬å­˜å–æ—¶é—´å’Œæ›´æ”¹æ—¶é—´ã€‚è‹¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œç³»ç»Ÿä¼šå»ºç«‹ä¸€ä¸ªæ–°çš„æ–‡ä»¶ã€‚</code></pre><p><img src="G:\xmind&md\imgs\1591748874380.png" alt="1591748874380"></p><pre><code>æ‹·è´æ˜¯ä¸€ä¸ªæ‰‹åŠ¨è¿‡ç¨‹ï¼Œæœªæ¥ä½¿ç”¨-v å·çš„æŠ€æœ¯ï¼Œå¯ä»¥å®ç°è‡ªåŠ¨æ›´æ–°ä¸»æœºçš„æ•°æ®</code></pre><h3 id="ä½œä¸šç»ƒä¹ "><a href="#ä½œä¸šç»ƒä¹ " class="headerlink" title="ä½œä¸šç»ƒä¹ "></a>ä½œä¸šç»ƒä¹ </h3><h5 id="1-å®‰è£…nginx"><a href="#1-å®‰è£…nginx" class="headerlink" title="1.å®‰è£…nginx"></a>1.å®‰è£…nginx</h5><pre><code>åˆ©ç”¨dockerå®‰è£…nginx1.æœç´¢nginx docker search nginx2.ä¸‹è½½nginx docker pull nginx3.å¯åŠ¨nginx docker run -d --name nginx01 -p 3344:80 nginx                   åå°è¿è¡Œ èµ·åˆ«å          å°†ä¸»æœº3344ç«¯å£æ˜ å°„åˆ°å®¹å™¨80ç«¯å£4.æœ¬æœºè‡ªæµ‹ curl localhostï¼š33445.è¿›å…¥å®¹å™¨ docker exec -it ngnix01 /bin/bash</code></pre><h5 id="2-å®‰è£…tomcat"><a href="#2-å®‰è£…tomcat" class="headerlink" title="2.å®‰è£…tomcat"></a>2.å®‰è£…tomcat</h5><pre><code>1.docker pull tomcat2.docker run -rm --name tomcat01 -p 8099:8080 tomcat //æµ‹è¯•å®Œæˆåå°±åˆ é™¤ï¼Œä¸å»ºè®®ä½¿ç”¨3.curl localhost:8099 //å› ä¸ºæ˜¯é˜‰å‰²ç‰ˆæ‰€ä»¥ä¼šæŠ¥4044.docker exec -it tomcat01 /bin/bash è¿›å…¥å®¹å™¨å‘ç°linuxå‘½ä»¤ä¸å…¨ï¼Œtomcatä¸­çš„webappsç›®å½•ä¸‹æ²¡æœ‰ç½‘é¡µ5.cp -r webapps.dist/* webapps å°† webapps.distçš„ç½‘é¡µå¤åˆ¶åˆ°webappsä¸­</code></pre><h5 id="3-éƒ¨ç½²es-kibanas"><a href="#3-éƒ¨ç½²es-kibanas" class="headerlink" title="3.éƒ¨ç½²es+kibanas"></a>3.éƒ¨ç½²es+kibanas</h5><pre class=" language-shell"><code class="language-shell">1.docker pull elasticsearch 2.docker run -d -name elasticsearch -p 9200:9200 -p 9300:9300 -e "discovery.type=single-node" elasticsearch:7.6.23.docker stats æŸ¥çœ‹cpuçŠ¶æ€4.å¢åŠ å†…å­˜é™åˆ¶ï¼Œ-e ç¯å¢ƒé…ç½®ä¿®æ”¹docker run -d -name elasticsearch -p 9200:9200 -p 9300:9300 -e "discovery.type=single-node" -e ES_JAVA_OPTS="-Xms64m -Xmx512m" elasticsearch:7.6.2æœ€å¤š64å…†ï¼Œæœ€å¤§512å…†</code></pre><pre><code>Xms æ˜¯æŒ‡è®¾å®šç¨‹åºå¯åŠ¨æ—¶å ç”¨å†…å­˜å¤§å°ã€‚ä¸€èˆ¬æ¥è®²ï¼Œå¤§ç‚¹ï¼Œç¨‹åºä¼šå¯åŠ¨çš„å¿«ä¸€ç‚¹ï¼Œä½†æ˜¯ä¹Ÿå¯èƒ½ä¼šå¯¼è‡´æœºå™¨æš‚æ—¶é—´å˜æ…¢ã€‚Xmx æ˜¯æŒ‡è®¾å®šç¨‹åºè¿è¡ŒæœŸé—´æœ€å¤§å¯å ç”¨çš„å†…å­˜å¤§å°ã€‚å¦‚æœç¨‹åºè¿è¡Œéœ€è¦å ç”¨æ›´å¤šçš„å†…å­˜ï¼Œè¶…å‡ºäº†è¿™ä¸ªè®¾ç½®å€¼ï¼Œå°±ä¼šæŠ›å‡ºOutOfMemoryå¼‚å¸¸ã€‚Xss æ˜¯æŒ‡è®¾å®šæ¯ä¸ªçº¿ç¨‹çš„å †æ ˆå¤§å°ã€‚è¿™ä¸ªå°±è¦ä¾æ®ä½ çš„ç¨‹åºï¼Œçœ‹ä¸€ä¸ªçº¿ç¨‹å¤§çº¦éœ€è¦å ç”¨å¤šå°‘å†…å­˜ï¼Œå¯èƒ½ä¼šæœ‰å¤šå°‘çº¿ç¨‹åŒæ—¶è¿è¡Œç­‰ã€‚</code></pre><p><img src="G:\xmind&md\imgs\1591753677271.png" alt="1591753677271"></p><h3 id="å¯è§†åŒ–"><a href="#å¯è§†åŒ–" class="headerlink" title="å¯è§†åŒ–"></a>å¯è§†åŒ–</h3><p>portainerï¼Œdockerå›¾å½¢åŒ–ç®¡ç†å·¥å…·ï¼Œæä¾›ä¸€ä¸ªåå°é¢æ¿ä¾›æˆ‘ä»¬æ“ä½œ</p><pre><code>docker run -d -p 8088:9000 --restart=always -v /var/run/docker.sock:/var/run/docker.sock --privileged=true portainer/portainer</code></pre><h2 id="Dockeré•œåƒ"><a href="#Dockeré•œåƒ" class="headerlink" title="Dockeré•œåƒ"></a>Dockeré•œåƒ</h2><h3 id="é•œåƒæ˜¯ä»€ä¹ˆ"><a href="#é•œåƒæ˜¯ä»€ä¹ˆ" class="headerlink" title="é•œåƒæ˜¯ä»€ä¹ˆ"></a>é•œåƒæ˜¯ä»€ä¹ˆ</h3><blockquote><p>è½¯ä»¶åŒ…: å« è¿è¡ŒæŸä¸ªè½¯ä»¶æ‰€éœ€çš„æ‰€æœ‰çš„å†…å®¹(ä»£ç ,åº“,ç¯å¢ƒå˜é‡)</p><p>æ‰€æœ‰çš„åº”ç”¨,ç›´æ¥æ‰“åŒ…â€”â€”-&gt;&gt;&gt;&gt;é•œåƒ</p></blockquote><h3 id="dockeré•œåƒåŠ è½½åŸç†"><a href="#dockeré•œåƒåŠ è½½åŸç†" class="headerlink" title="dockeré•œåƒåŠ è½½åŸç†"></a>dockeré•œåƒåŠ è½½åŸç†</h3><h4 id="UnionFS-è”åˆæ–‡ä»¶ç³»ç»Ÿ"><a href="#UnionFS-è”åˆæ–‡ä»¶ç³»ç»Ÿ" class="headerlink" title="UnionFS (è”åˆæ–‡ä»¶ç³»ç»Ÿ)"></a>UnionFS (è”åˆæ–‡ä»¶ç³»ç»Ÿ)</h4><p>å°±æ˜¯ä¸ªæ–‡ä»¶,åƒgitä¸€æ ·ç”¨ç‰ˆæœ¬æ§åˆ¶çºªå½•ä¸‹,ä¸€æ¬¡æ¬¡å åŠ ,å‘ˆç°çš„æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ–‡ä»¶â€”&gt;&gt;dockeré•œåƒ</p><p>å…¬ç”¨é‡å¤çš„ä¸œè¥¿(ä¾‹å¦‚linuxå†…æ ¸å•Š,è¿™ä¸œè¥¿æ ¹æœ¬å°±ä¸å¿…é‡å¤ä¸‹è½½ )</p><p>ä¸€å±‚ä¸€å±‚ä¸€å±‚çš„æ„æˆUnionFS</p><p><strong>bootfs</strong> : bootloader(ä¸»å¼•å¯¼åŠ è½½) åŒ…å«bootåŠ è½½å™¨å’Œå†…æ ¸ å½“bootåŠ è½½å®Œæ¯•åæ•´ä¸ªå†…æ ¸å°±éƒ½åœ¨å†…å­˜ä¸­äº†,æ­¤æ—¶å†…å­˜çš„ä¸»å¯¼æƒå°±äº¤ç»™äº†å†…æ ¸,æ­¤æ—¶bootfså°±ä¼šè¢«å¸è½½</p><p><strong>rootfs</strong> : å®ƒåœ¨bootfsä¹‹ä¸Š,åŒ…å«å„ç§ä¸åŒçš„æ“ä½œç³»ç»Ÿå‘è¡Œç‰ˆ,å³:/dev/proc/etcç­‰æ–‡ä»¶</p><p>è¿™ä¸œè¥¿å°±æ˜¯ä¸ªç²¾ç®€å†ç²¾ç®€çš„isoæ–‡ä»¶.å®ƒåªåŒ…å«åŸºæœ¬çš„å‘½ä»¤,å·¥å…·å’Œç¨‹åºåº“å°±okäº†,</p><p>åº•å±‚ç›´æ¥è°ƒç”¨hostçš„kernelï¼Œè¿™å°±è§£é‡Šäº†ä¸ºä»€ä¹ˆè™šæ‹Ÿæœºä¸dockerç›¸æ¯”éå¸¸æ…¢</p><p>å› ä¸ºè™šæ‹Ÿæœºè¦åŠ è½½bootfsè¿™å±‚æ–‡ä»¶,é€šè¿‡å®ƒæ¥å®Œæˆæ•´ä¸ªç³»ç»Ÿ,ä½†dockeråªéœ€è¦å¯„ç”Ÿåœ¨å®¿ä¸»æœºä¸Š,ç”¨å®ƒçš„å†…æ ¸è°ƒç”¨è‡ªå·±çš„rootfsæ–‡å¤¹,å®Œæˆ,å°±okäº†,,,,å®ç°ç§’çº§å¯åŠ¨</p><p><img src="G:\xmind&md\imgs\1591754978465.png" alt="1591754978465"></p><h3 id="commité•œåƒ"><a href="#commité•œåƒ" class="headerlink" title="commité•œåƒ"></a>commité•œåƒ</h3><pre><code>docker commit æäº¤å®¹å™¨æˆä¸ºä¸€ä¸ªæ–°çš„å‰¯æœ¬docker commit -m=&quot;æäº¤çš„æè¿°ä¿¡æ¯&quot; -a=&quot;ä½œè€…&quot; å®¹å™¨id ç›®æ ‡é•œåƒå:[TAG]ä¾‹å¦‚docker commit -m=&quot;add webapps&quot; -a=&quot;ks&quot; ******* tomcat02:[1.0]</code></pre><h2 id="å®¹å™¨æ•°æ®å·"><a href="#å®¹å™¨æ•°æ®å·" class="headerlink" title="å®¹å™¨æ•°æ®å·"></a>å®¹å™¨æ•°æ®å·</h2><h3 id="ä»€ä¹ˆæ˜¯å®¹å™¨æ•°æ®å·"><a href="#ä»€ä¹ˆæ˜¯å®¹å™¨æ•°æ®å·" class="headerlink" title="ä»€ä¹ˆæ˜¯å®¹å™¨æ•°æ®å·"></a>ä»€ä¹ˆæ˜¯å®¹å™¨æ•°æ®å·</h3><p>å®¹å™¨ä¹‹é—´å¯ä»¥æœ‰ä¸€ä¸ªæ•°æ®å…±äº«çš„æŠ€æœ¯ï¼Œåœ¨dockerå®¹å™¨ä¸­äº§ç”Ÿçš„æ•°æ®ï¼ŒåŒæ­¥åˆ°æœ¬åœ°ã€‚</p><p>è¿™å°±æ˜¯å·æŠ€æœ¯ï¼Œå°†æˆ‘ä»¬å®¹å™¨å†…çš„ç›®å½•æŒ‚è½½åœ¨linuxä¸Šé¢ã€‚</p><p>ä¸ºäº†å®¹å™¨çš„æŒä¹…åŒ–å’ŒåŒæ­¥æ“ä½œï¼Œå®¹å™¨é—´ä¹Ÿæ˜¯å¯ä»¥æ•°æ®å…±äº«çš„ã€‚</p><h3 id="ä½¿ç”¨æ•°æ®å·"><a href="#ä½¿ç”¨æ•°æ®å·" class="headerlink" title="ä½¿ç”¨æ•°æ®å·"></a>ä½¿ç”¨æ•°æ®å·</h3><blockquote><p>æ–¹å¼ä¸€ï¼šç›´æ¥ä½¿ç”¨å‘½ä»¤æ¥æŒ‚è½½ -v</p></blockquote><pre><code>docker run -it -v /home/ceshi:/home centos /bin/bashåŒå‘ç»‘å®šï¼Œä¸»æœºä¿®æ”¹ï¼Œå®¹å™¨å†…éƒ¨ä¹ŸåŒæ­¥æ”¹å˜ï¼›åè¿‡æ¥ä¹Ÿä¸€æ ·ã€‚</code></pre><p>æµ‹è¯•é…ç½®ï¼Œmysql</p><pre><code>docker pull mysql:5.7docker run --name some-mysql -e MYSQL_ROOT_PASSWORD=z111111 -d mysql:tagä¾‹å¦‚ï¼šdocker run --name mysql01 -e MYSQL_ROOT_PASSWORD=z111111 -d -p 3344:3306 -v /home/mysql/conf:/etc/mysql/conf.d -v /home/mysql/data:/var/lib/mysql mysql:5.7</code></pre><h3 id="å…·åæŒ‚è½½å’ŒåŒ¿åæŒ‚è½½"><a href="#å…·åæŒ‚è½½å’ŒåŒ¿åæŒ‚è½½" class="headerlink" title="å…·åæŒ‚è½½å’ŒåŒ¿åæŒ‚è½½"></a>å…·åæŒ‚è½½å’ŒåŒ¿åæŒ‚è½½</h3><h4 id="åŒ¿ååŠ è½½"><a href="#åŒ¿ååŠ è½½" class="headerlink" title="åŒ¿ååŠ è½½"></a>åŒ¿ååŠ è½½</h4><pre><code>-v å®¹å™¨å†…è·¯å¾„docker run -d -P --name -v /etc/nginx nginx åªå†™äº†å®¹å™¨å†…çš„åå­—ï¼Œæ²¡æœ‰å†™ä¸»æœºå¯¹åº”çš„ç›®å½•</code></pre><h4 id="å…·åæŒ‚è½½"><a href="#å…·åæŒ‚è½½" class="headerlink" title="å…·åæŒ‚è½½"></a>å…·åæŒ‚è½½</h4><pre><code>-v å·å:å®¹å™¨å†…è·¯å¾„</code></pre><p><img src="G:\xmind&md\imgs\1591758838981.png" alt="1591758838981"></p><p>æ‰€æœ‰çš„dockerå®¹å™¨å†…çš„å·ï¼Œæ²¡æœ‰æŒ‡å®šç›®å½•çš„æƒ…å†µä¸‹éƒ½æ˜¯é»˜è®¤æŒ‚è½½åœ¨ä¸»æœºçš„â€/var/lib/docker/volumesâ€ç›®å½•ä¸‹</p><p><img src="G:\xmind&md\imgs\1591759293224.png" alt="1591759293224"></p><h3 id="åˆè¯†DockerFile"><a href="#åˆè¯†DockerFile" class="headerlink" title="åˆè¯†DockerFile"></a>åˆè¯†DockerFile</h3><blockquote><p>æ–¹å¼äºŒï¼šä½¿ç”¨DockerFileæ„å»ºdockeré•œåƒçš„æ„å»ºæ–‡ä»¶</p></blockquote><p><img src="G:\xmind&md\imgs\1591759751919.png" alt="1591759751919"></p><p><img src="G:\xmind&md\imgs\1591759841222.png" alt="1591759841222"></p><pre><code>ä½¿ç”¨docker inspect å®¹å™¨IDæŸ¥çœ‹æŒ‚è½½æƒ…å†µ</code></pre><p><img src="G:\xmind&md\imgs\1591759954926.png" alt="1591759954926"></p><h3 id="æ•°æ®å·å®¹å™¨"><a href="#æ•°æ®å·å®¹å™¨" class="headerlink" title="æ•°æ®å·å®¹å™¨"></a>æ•°æ®å·å®¹å™¨</h3><p>ä¸¤ä¸ªå®¹å™¨é—´æ•°æ®å…±äº«</p><p><img src="G:\xmind&md\imgs\1591760154907.png" alt="1591760154907"></p><p><img src="G:\xmind&md\imgs\1591760339175.png" alt="1591760339175"></p><p>docker01çš„volume01ã€02æŒ‚è½½åˆ°äº†docker02å®¹å™¨å†…äº†ã€‚éƒ½æ˜¯åŒå‘ç»‘å®šã€å¤åˆ¶ã€‚çˆ¶å®¹å™¨åˆ é™¤ï¼Œå­å®¹å™¨ä»ç„¶æœ‰æ•°æ®</p><h2 id="DockerFile"><a href="#DockerFile" class="headerlink" title="DockerFile"></a>DockerFile</h2><p>ç”¨æ¥æ„å»ºdockeré•œåƒçš„æ–‡ä»¶</p><p>1.ç¼–å†™ä¸€ä¸ªdockerfileæ–‡ä»¶</p><p>2.docker buildæ„å»ºæˆä¸ºä¸€ä¸ªé•œåƒ</p><p>3.docker runè¿è¡Œå®¹å™¨</p><p>4.docker pushå‘å¸ƒé•œåƒ</p><h3 id="dockeræ„å»ºè¿‡ç¨‹"><a href="#dockeræ„å»ºè¿‡ç¨‹" class="headerlink" title="dockeræ„å»ºè¿‡ç¨‹"></a>dockeræ„å»ºè¿‡ç¨‹</h3><p>åŸºç¡€çŸ¥è¯†ï¼š</p><p>1.ä¿ç•™å…³é”®å­—éƒ½å¿…é¡»å¤§å†™å­—æ¯</p><p>2.æ‰§è¡Œä»ä¸Šåˆ°ä¸‹</p><p>3.#è¡¨ç¤ºæ³¨é‡Š</p><p>4.æ¯ä¸ªæŒ‡ä»¤éƒ½ä¼šåˆ›å»ºæäº¤ä¸€ä¸ªæ–°çš„é•œåƒå±‚å¹¶æäº¤</p><p><img src="G:\xmind&md\imgs\1591761311841.png" alt="1591761311841"></p><p>dockeræ˜¯é¢å‘å¼€å‘çš„ï¼Œä»¥åå‘å¸ƒé¡¹ç›®ï¼Œåšé•œåƒéœ€è¦ç¼–å†™dockerfileæ–‡ä»¶ã€‚</p><h3 id="dockeræŒ‡ä»¤"><a href="#dockeræŒ‡ä»¤" class="headerlink" title="dockeræŒ‡ä»¤"></a>dockeræŒ‡ä»¤</h3><p><img src="G:\xmind&md\imgs\1591761503342.png" alt="1591761503342"></p><p><img src="G:\xmind&md\imgs\1591767804838.png" alt="1591767804838"></p><h3 id="å®æˆ˜æµ‹è¯•"><a href="#å®æˆ˜æµ‹è¯•" class="headerlink" title="å®æˆ˜æµ‹è¯•"></a>å®æˆ˜æµ‹è¯•</h3><p>docker hub99%éƒ½æ˜¯ä»FROM scratchå¼€å§‹çš„</p><pre><code>FROM scratchADD centos-7-x86_64-docker.tar.xz /LABEL \    org.label-schema.schema-version=&quot;1.0&quot; \    org.label-schema.name=&quot;CentOS Base Image&quot; \    org.label-schema.vendor=&quot;CentOS&quot; \    org.label-schema.license=&quot;GPLv2&quot; \    org.label-schema.build-date=&quot;20200504&quot; \    org.opencontainers.image.title=&quot;CentOS Base Image&quot; \    org.opencontainers.image.vendor=&quot;CentOS&quot; \    org.opencontainers.image.licenses=&quot;GPL-2.0-only&quot; \    org.opencontainers.image.created=&quot;2020-05-04 00:00:00+01:00&quot;CMD [&quot;/bin/bash&quot;]</code></pre><h4 id="åˆ›å»ºè‡ªå·±çš„centosé•œåƒ"><a href="#åˆ›å»ºè‡ªå·±çš„centosé•œåƒ" class="headerlink" title="åˆ›å»ºè‡ªå·±çš„centosé•œåƒ"></a>åˆ›å»ºè‡ªå·±çš„centosé•œåƒ</h4><p>1.åˆ›å»ºåŸºæœ¬dockeré…ç½®æ–‡ä»¶</p><pre><code>FROM centosMAINTAINER YMENV MYPATH /usr/localWORKDIR $MYPATHRUN yum -y install vimRUN yum -y install net-toolsEXPOSEE 80CMD echo $MYPATHCMD echo &quot;---end---&quot;CMD /bin/bash</code></pre><p>2.æ„å»ºè‡ªå·±çš„é•œåƒ</p><pre><code>docker build -f mydockerfile -t mycentos:0.1 .</code></pre><h5 id="CMDå’ŒENTRYPOINTåŒºåˆ«"><a href="#CMDå’ŒENTRYPOINTåŒºåˆ«" class="headerlink" title="CMDå’ŒENTRYPOINTåŒºåˆ«"></a>CMDå’ŒENTRYPOINTåŒºåˆ«</h5><p><img src="G:\xmind&md\imgs\1591769429417.png" alt="1591769429417"></p><p>ä½¿ç”¨entrypointå¯ä»¥è¿½åŠ </p><h4 id="åˆ›å»ºè‡ªå·±çš„tomcaé•œåƒ"><a href="#åˆ›å»ºè‡ªå·±çš„tomcaé•œåƒ" class="headerlink" title="åˆ›å»ºè‡ªå·±çš„tomcaé•œåƒ"></a>åˆ›å»ºè‡ªå·±çš„tomcaé•œåƒ</h4><p>1.å‡†å¤‡é•œåƒæ–‡ä»¶tomcatå‹ç¼©åŒ…ï¼Œjdkçš„å‹ç¼©åŒ…</p><p><img src="G:\xmind&md\imgs\1591770035554.png" alt="1591770035554"></p><p>2.ç¼–å†™dockerfileæ–‡ä»¶</p><p>add ä¼šè‡ªåŠ¨è§£å‹åˆ°localç›®å½•ä¸‹</p><pre><code>FROM centosMAINTAINER YMADD jdk-12.0.2_linux-x64_bin.tar.gz /usr/local/ ADD apache-tomcat-9.0.24.tar.gz /usr/local/RUN yum -y install vimENV MYPATH /usr/localWORKDIR $MYPATHENV  JAVA_HOME /usr/loacl/jdk12ENV CLASSPATH $JAVA_HOME/lib/dt.jar:$JAVA_HOEM/lib/tools.jarENV CATALINA_HOME /usr/local/apache-tomcat-9.0.24ENV CATALINA_BASH /usr/local/apache-tomcat-9.0.24ENV PATH $PATH:$JAVA_HOME/bin:$CATALINA_HOME/lib:$CATALINA_HOME/binEXPOSE 8080CMD /usr/local/apache-tomcat-9.0.24/bin/startup.sh &amp;&amp; tail -F /usr/local/apache-tomcat-9.0.24/bin/logs/catalina.out</code></pre><p>3.è¿è¡Œdockerfile</p><pre><code>docker build -t diytomcat .</code></pre><h4 id="å‘å¸ƒé•œåƒ"><a href="#å‘å¸ƒé•œåƒ" class="headerlink" title="å‘å¸ƒé•œåƒ"></a>å‘å¸ƒé•œåƒ</h4><h2 id="Dockerç½‘ç»œåŸç†"><a href="#Dockerç½‘ç»œåŸç†" class="headerlink" title="Dockerç½‘ç»œåŸç†"></a>Dockerç½‘ç»œåŸç†</h2><h3 id="ç†è§£docker0"><a href="#ç†è§£docker0" class="headerlink" title="ç†è§£docker0"></a>ç†è§£docker0</h3><p>æ¸…ç©ºæ‰€æœ‰ç¯å¢ƒ</p><pre><code>docker rm -f $(docker ps -aq)docker rmi -f $(docker images -aq)</code></pre><p><img src="G:\xmind&md\imgs\1591774220959.png" alt="1591774220959"></p><p>dockeræ˜¯å¦‚ä½•å¤„ç†å®¹å™¨ç½‘ç»œè¿æ¥çš„</p><p><img src="G:\xmind&md\imgs\1591774313193.png" alt="1591774313193"></p><p>æ¯ä¸ªå®¹å™¨dockerä¼šè‡ªåŠ¨åˆ†é…ä¸€ä¸ªipåœ°å€ï¼Œä¸»æœºå¯ä»¥pingé€šå®¹å™¨çš„ipã€‚æˆ‘ä»¬åªè¦å®‰è£…äº†dockerï¼Œå°±ä¼šæœ‰ä¸€ä¸ªç½‘å¡docker0ï¼Œä½¿ç”¨æ¡¥æ¥æ¨¡å¼è¿æ¥ç½‘ç»œï¼Œä½¿ç”¨çš„æŠ€æœ¯æ˜¯evth-pairã€‚</p><p>å®¹å™¨å¸¦æ¥çš„ç½‘å¡éƒ½æ˜¯ä¸€å¯¹çš„ï¼Œveth-pairå°±æ˜¯ä¸€å¯¹çš„è™šæ‹Ÿè®¾å¤‡æ¥å£ï¼Œä»–ä»¬éƒ½æ˜¯æˆå¯¹å‡ºç°çš„ï¼Œä¸€æ®µè¿ç€åè®®ï¼Œä¸€æ®µå½¼æ­¤ç›¸è¿ã€‚æ­£æ˜¯åˆ©ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œveth-pairå……å½“æ¡¥æ¢ï¼Œè¿æ¥å„ç§è™šæ‹Ÿç½‘ç»œè®¾å¤‡ã€‚</p><p><img src="G:\xmind&md\imgs\1591775358978.png" alt="1591775358978"></p><p>å½“é¡¹ç›®é‡å¯æ—¶ï¼Œæ•°æ®åº“ipå°±ä¼šå‘ç”Ÿæ”¹å˜ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½é€šè¿‡æœåŠ¡åç§°æ¥è¿æ¥æ•°æ®åº“ã€‚</p><pre><code>docker run -d -P --name tomcat03 --link tomcat02 tomcatè¿™æ ·å°±å¯ä»¥ç›´æ¥ä½¿ç”¨æœåŠ¡åpingé€šdocker exec -it tomcat03 ping tomcat02</code></pre><p>æœ¬è´¨å°±æ˜¯â€“linkåœ¨æˆ‘ä»¬é…ç½®å¢åŠ äº†ä¸€ä¸ª172.18.0.3 tomcat02 2122123123dasd</p><p>ç°åœ¨ä¸å»ºè®®ä½¿ç”¨â€“link</p><h3 id="è‡ªå®šä¹‰ç½‘ç»œ"><a href="#è‡ªå®šä¹‰ç½‘ç»œ" class="headerlink" title="è‡ªå®šä¹‰ç½‘ç»œ"></a>è‡ªå®šä¹‰ç½‘ç»œ</h3><pre><code>æŸ¥çœ‹æ‰€æœ‰çš„dockerç½‘ç»œ</code></pre><p><img src="G:\xmind&md\imgs\1591776912996.png" alt="1591776912996"></p><h4 id="ç½‘ç»œæ¨¡å¼"><a href="#ç½‘ç»œæ¨¡å¼" class="headerlink" title="ç½‘ç»œæ¨¡å¼"></a>ç½‘ç»œæ¨¡å¼</h4><p>bridgeï¼šæ¡¥æ¥ docker(é»˜è®¤)</p><p>noneï¼šä¸é…ç½®ç½‘ç»œ</p><p>hostï¼š å’Œä¸»æœºå…±äº«ç½‘ç»œ</p><p>containerï¼š å®¹å™¨å†…ç½‘ç»œ</p><h4 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h4><pre><code>docker run -d -P -name tomcat01 tomcatdocker run -d -P -name tomcat01 --net bridge tomcat é»˜è®¤æ·»åŠ docker0docker0ç‰¹ç‚¹ï¼šé»˜è®¤ï¼ŒåŸŸåä¸èƒ½è®¿é—®ï¼Œ--linkå¯ä»¥æ‰“é€šè¿æ¥æˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªç½‘ç»œ--driver bridgeæ¡¥æ¥æ¨¡å¼--subnet 192.168.0.0/16 å­ç½‘åœ°å€--gateway 192.168.0.1 mynet ç½‘å…³docker network create --driver bridge --subnet 192.168.0.0/16 --gateway 192.168.0.1 mynet</code></pre><p><strong>å°†é•œåƒå‘å¸ƒåˆ°è‡ªå·±åˆ›å»ºçš„ç½‘ç»œä¸‹</strong></p><pre><code>docker run -d -P --name tomcat01 --net mynet tomcat è¿™æ ·å°±å¯ä»¥é€šè¿‡åå­—pingé€š</code></pre><p>ä¼˜ç‚¹ï¼š</p><p>ä¸åŒé›†ç¾¤ä½¿ç”¨ä¸åŒç½‘ç»œï¼Œä¿è¯é›†ç¾¤å¼å®‰å…¨å’Œå¥åº·çš„</p><h3 id="ç½‘ç»œè”é€š"><a href="#ç½‘ç»œè”é€š" class="headerlink" title="ç½‘ç»œè”é€š"></a>ç½‘ç»œè”é€š</h3><p><img src="G:\xmind&md\imgs\1591778462206.png" alt="1591778462206"></p><p><img src="G:\xmind&md\imgs\1591778490187.png" alt="1591778490187"></p><pre><code>docker network connect [OPTIONS] NETWORK CONTAINER</code></pre><blockquote><p>æµ‹è¯•æ‰“é€š docker0ä¸‹çš„tomcat01è¿æ¥mynetä¸‹çš„tomcat-net-01</p><p>å®è´¨ä¸Šæ˜¯å°†tomcat01æ”¾åˆ°mynetç½‘ç»œä¸‹ï¼Œä½¿ä¸€ä¸ªå®¹å™¨ä¸¤ä¸ªipåœ°å€</p></blockquote><pre><code>docker network connect mynet tomcat01docker exec -it tomcat01 ping tomcat-net-01</code></pre><h2 id="IDEAæ•´åˆdocker"><a href="#IDEAæ•´åˆdocker" class="headerlink" title="IDEAæ•´åˆdocker"></a>IDEAæ•´åˆdocker</h2><h2 id="Docker-compose"><a href="#Docker-compose" class="headerlink" title="Docker compose"></a>Docker compose</h2><h2 id="Docker-swarm"><a href="#Docker-swarm" class="headerlink" title="Docker swarm"></a>Docker swarm</h2><h2 id="CI-CD-Jenkins"><a href="#CI-CD-Jenkins" class="headerlink" title="CI\CD Jenkins"></a>CI\CD Jenkins</h2>]]></content>
      
      
      <categories>
          
          <category> éƒ¨ç½² </category>
          
      </categories>
      
      
        <tags>
            
            <tag> docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>webpack</title>
      <link href="2020/09/22/webpack/"/>
      <url>2020/09/22/webpack/</url>
      
        <content type="html"><![CDATA[<h1 id="webpack"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</h1><h2 id="webpack-æ˜¯ä»€ä¹ˆ"><a href="#webpack-æ˜¯ä»€ä¹ˆ" class="headerlink" title="webpack æ˜¯ä»€ä¹ˆ"></a>webpack æ˜¯ä»€ä¹ˆ</h2><p>webpack æ˜¯ä¸€ç§å‰ç«¯èµ„æºæ„å»ºå·¥å…·ï¼Œä¸€ä¸ªé™æ€æ¨¡å—æ‰“åŒ…å™¨(module bundler)ã€‚åœ¨ webpack çœ‹æ¥, å‰ç«¯çš„æ‰€æœ‰èµ„æºæ–‡ä»¶(js/json/css/img/less/â€¦)éƒ½ä¼šä½œä¸ºæ¨¡å—å¤„ç†ã€‚å®ƒå°†æ ¹æ®æ¨¡å—çš„ä¾èµ–å…³ç³»è¿›è¡Œé™æ€åˆ†æï¼Œæ‰“åŒ…ç”Ÿæˆå¯¹åº”çš„é™æ€èµ„æº(bundle)ã€‚</p><h2 id="webpack-äº”ä¸ªæ ¸å¿ƒæ¦‚å¿µ"><a href="#webpack-äº”ä¸ªæ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="webpack äº”ä¸ªæ ¸å¿ƒæ¦‚å¿µ"></a>webpack äº”ä¸ªæ ¸å¿ƒæ¦‚å¿µ</h2><h3 id="Entry"><a href="#Entry" class="headerlink" title="Entry"></a>Entry</h3><p>å…¥å£(Entry)æŒ‡ç¤º webpack ä»¥å“ªä¸ªæ–‡ä»¶ä¸ºå…¥å£èµ·ç‚¹å¼€å§‹æ‰“åŒ…ï¼Œåˆ†ææ„å»ºå†…éƒ¨ä¾èµ–å›¾</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>è¾“å‡º(Output)æŒ‡ç¤º webpack æ‰“åŒ…åçš„èµ„æº bundles è¾“å‡ºåˆ°å“ªé‡Œå»ï¼Œä»¥åŠå¦‚ä½•å‘½åã€‚</p><h3 id="Loader"><a href="#Loader" class="headerlink" title="Loader"></a>Loader</h3><p>Loader è®© webpack èƒ½å¤Ÿå»å¤„ç†é‚£äº›é JavaScript æ–‡ä»¶(webpack è‡ªèº«åªç†è§£JavaScript)</p><h3 id="Plugins"><a href="#Plugins" class="headerlink" title="Plugins"></a>Plugins</h3><p>æ’ä»¶(Plugins)å¯ä»¥ç”¨äºæ‰§è¡ŒèŒƒå›´æ›´å¹¿çš„ä»»åŠ¡ã€‚æ’ä»¶çš„èŒƒå›´åŒ…æ‹¬ï¼Œä»æ‰“åŒ…ä¼˜åŒ–å’Œå‹ç¼©ï¼Œä¸€ç›´åˆ°é‡æ–°å®šä¹‰ç¯å¢ƒä¸­çš„å˜é‡ç­‰ã€‚</p><h3 id="Mode"><a href="#Mode" class="headerlink" title="Mode"></a>Mode</h3><p>æ¨¡å¼(Mode)æŒ‡ç¤º webpack ä½¿ç”¨ç›¸åº”æ¨¡å¼çš„é…ç½®ã€‚</p><table><thead><tr><th>é€‰é¡¹</th><th>æè¿°</th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td>development</td><td>ä¼šå°† DefinePlugin ä¸­ process.env.NODE_ENV çš„å€¼è®¾ç½®ä¸º developmentã€‚å¯ç”¨ NamedChunksPlugin å’ŒNamedModulesPluginã€‚</td><td>èƒ½è®©ä»£ç æœ¬åœ°è°ƒè¯•è¿è¡Œçš„ç¯å¢ƒ</td></tr><tr><td>production</td><td>ä¼šå°† DefinePlugin ä¸­ process.env.NODE_ENV çš„å€¼è®¾ç½®ä¸º productionã€‚å¯ç”¨ FlagDependencyUsagePlugin,FlagIncludedChunksPlugin, ModuleConcatenationPlugin,NoEmitOnErrorsPlugin, OccurrenceOrderPlugin,SideEffectsFlagPlugin å’Œ TerserPluginã€‚</td><td>èƒ½è®©ä»£ç ä¼˜åŒ–ä¸Šçº¿è¿è¡Œçš„ç¯å¢ƒd</td></tr></tbody></table><h2 id="ç¬¬ä¸€æ¬¡ä½¿ç”¨"><a href="#ç¬¬ä¸€æ¬¡ä½¿ç”¨" class="headerlink" title="ç¬¬ä¸€æ¬¡ä½¿ç”¨"></a>ç¬¬ä¸€æ¬¡ä½¿ç”¨</h2><pre><code>1. è¿è¡ŒæŒ‡ä»¤ï¼š    å¼€å‘ç¯å¢ƒï¼šwebpack ./src/index.js -o ./build/built.js --mode=development      webpackä¼šä»¥ ./src/index.js ä¸ºå…¥å£æ–‡ä»¶å¼€å§‹æ‰“åŒ…ï¼Œæ‰“åŒ…åè¾“å‡ºåˆ° ./build/built.js      æ•´ä½“æ‰“åŒ…ç¯å¢ƒï¼Œæ˜¯å¼€å‘ç¯å¢ƒ    ç”Ÿäº§ç¯å¢ƒï¼šwebpack ./src/index.js -o ./build/built.js --mode=production      webpackä¼šä»¥ ./src/index.js ä¸ºå…¥å£æ–‡ä»¶å¼€å§‹æ‰“åŒ…ï¼Œæ‰“åŒ…åè¾“å‡ºåˆ° ./build/built.js      æ•´ä½“æ‰“åŒ…ç¯å¢ƒï¼Œæ˜¯ç”Ÿäº§ç¯å¢ƒ   2. ç»“è®ºï¼š    1. webpackèƒ½å¤„ç†js/jsonèµ„æºï¼Œä¸èƒ½å¤„ç†css/imgç­‰å…¶ä»–èµ„æº    2. ç”Ÿäº§ç¯å¢ƒå’Œå¼€å‘ç¯å¢ƒå°†ES6æ¨¡å—åŒ–ç¼–è¯‘æˆæµè§ˆå™¨èƒ½è¯†åˆ«çš„æ¨¡å—åŒ–~    3. ç”Ÿäº§ç¯å¢ƒæ¯”å¼€å‘ç¯å¢ƒå¤šä¸€ä¸ªå‹ç¼©jsä»£ç ã€‚</code></pre><h2 id="æ‰“åŒ…æ ·å¼æ–‡ä»¶"><a href="#æ‰“åŒ…æ ·å¼æ–‡ä»¶" class="headerlink" title="æ‰“åŒ…æ ·å¼æ–‡ä»¶"></a>æ‰“åŒ…æ ·å¼æ–‡ä»¶</h2><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">/*  webpack.config.js  webpackçš„é…ç½®æ–‡ä»¶    ä½œç”¨: æŒ‡ç¤º webpack å¹²å“ªäº›æ´»ï¼ˆå½“ä½ è¿è¡Œ webpack æŒ‡ä»¤æ—¶ï¼Œä¼šåŠ è½½é‡Œé¢çš„é…ç½®ï¼‰    æ‰€æœ‰æ„å»ºå·¥å…·éƒ½æ˜¯åŸºäºnodejså¹³å°è¿è¡Œçš„~æ¨¡å—åŒ–é»˜è®¤é‡‡ç”¨commonjsã€‚*/</span><span class="token comment" spellcheck="true">// resolveç”¨æ¥æ‹¼æ¥ç»å¯¹è·¯å¾„çš„æ–¹æ³•</span><span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> resolve <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// webpacké…ç½®</span>  <span class="token comment" spellcheck="true">// å…¥å£èµ·ç‚¹</span>  entry<span class="token punctuation">:</span> <span class="token string">'./src/index.js'</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// è¾“å‡º</span>  output<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// è¾“å‡ºæ–‡ä»¶å</span>    filename<span class="token punctuation">:</span> <span class="token string">'built.js'</span><span class="token punctuation">,</span>    <span class="token comment" spellcheck="true">// è¾“å‡ºè·¯å¾„</span>    <span class="token comment" spellcheck="true">// __dirname nodejsçš„å˜é‡ï¼Œä»£è¡¨å½“å‰æ–‡ä»¶çš„ç›®å½•ç»å¯¹è·¯å¾„</span>    path<span class="token punctuation">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'build'</span><span class="token punctuation">)</span>  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// loaderçš„é…ç½®</span>  module<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>      <span class="token comment" spellcheck="true">// è¯¦ç»†loaderé…ç½®</span>      <span class="token comment" spellcheck="true">// ä¸åŒæ–‡ä»¶å¿…é¡»é…ç½®ä¸åŒloaderå¤„ç†</span>      <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// åŒ¹é…å“ªäº›æ–‡ä»¶</span>        test<span class="token punctuation">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>        <span class="token comment" spellcheck="true">// ä½¿ç”¨å“ªäº›loaderè¿›è¡Œå¤„ç†</span>        use<span class="token punctuation">:</span> <span class="token punctuation">[</span>          <span class="token comment" spellcheck="true">// useæ•°ç»„ä¸­loaderæ‰§è¡Œé¡ºåºï¼šä»å³åˆ°å·¦ï¼Œä»ä¸‹åˆ°ä¸Š ä¾æ¬¡æ‰§è¡Œ</span>          <span class="token comment" spellcheck="true">// åˆ›å»ºstyleæ ‡ç­¾ï¼Œå°†jsä¸­çš„æ ·å¼èµ„æºæ’å…¥è¿›è¡Œï¼Œæ·»åŠ åˆ°headä¸­ç”Ÿæ•ˆ</span>          <span class="token string">'style-loader'</span><span class="token punctuation">,</span>          <span class="token comment" spellcheck="true">// å°†cssæ–‡ä»¶å˜æˆcommonjsæ¨¡å—åŠ è½½jsä¸­ï¼Œé‡Œé¢å†…å®¹æ˜¯æ ·å¼å­—ç¬¦ä¸²</span>          <span class="token string">'css-loader'</span>        <span class="token punctuation">]</span>      <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>      <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        test<span class="token punctuation">:</span> <span class="token regex">/\.less$/</span><span class="token punctuation">,</span>        use<span class="token punctuation">:</span> <span class="token punctuation">[</span>          <span class="token string">'style-loader'</span><span class="token punctuation">,</span>          <span class="token string">'css-loader'</span><span class="token punctuation">,</span>          <span class="token comment" spellcheck="true">// å°†lessæ–‡ä»¶ç¼–è¯‘æˆcssæ–‡ä»¶</span>          <span class="token comment" spellcheck="true">// éœ€è¦ä¸‹è½½ less-loaderå’Œless</span>          <span class="token string">'less-loader'</span>        <span class="token punctuation">]</span>      <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>    <span class="token punctuation">]</span>  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// pluginsçš„é…ç½®</span>  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>    <span class="token comment" spellcheck="true">// è¯¦ç»†pluginsçš„é…ç½®</span>  <span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// æ¨¡å¼</span>  mode<span class="token punctuation">:</span> <span class="token string">'development'</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// å¼€å‘æ¨¡å¼</span>  <span class="token comment" spellcheck="true">// mode: 'production'</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre><h3 id="webpackæ‰“åŒ…æŠ¥é”™"><a href="#webpackæ‰“åŒ…æŠ¥é”™" class="headerlink" title="webpackæ‰“åŒ…æŠ¥é”™"></a>webpackæ‰“åŒ…æŠ¥é”™</h3><pre><code>é¦–å…ˆåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºåä¸ºï¼šwebpack.config.jsæ–‡ä»¶const path = require(&#39;path&#39;)module.exports = &#123;    //æŒ‡å®šå…¥å£ï¼Œè¡¨ç¤ºwebpackè¦æ‰“åŒ…å“ªä¸ªæ–‡ä»¶    entry: path.join(__dirname,&#39;./src/main.js&#39;),    //æŒ‡å®šå‡ºå£ï¼Œè¡¨ç¤ºæ‰“åŒ…å¥½çš„æ–‡ä»¶è¾“å‡ºåˆ°å“ªä¸ªç›®å½•    output:&#123;        path:path.join(__dirname,&#39;./dist&#39;),        //æŒ‡å®šè¾“å‡ºæ–‡ä»¶çš„åç§°        filename:&#39;bundle1.js&#39;    &#125;&#125;</code></pre><p>ä¸‹è½½ä¾èµ–</p><blockquote><p>npm i css-loader style-loader -D</p></blockquote><p>è¿™æ ·å°±èƒ½æ‰“åŒ…cssæ ·å¼èµ„æºäº†</p><blockquote><p>npm i less less-loader -D</p></blockquote><p>å¯ä»¥æ‰“åŒ…lessèµ„æº</p><h3 id="æ‰“åŒ…htmlæ–‡ä»¶"><a href="#æ‰“åŒ…htmlæ–‡ä»¶" class="headerlink" title="æ‰“åŒ…htmlæ–‡ä»¶"></a>æ‰“åŒ…htmlæ–‡ä»¶</h3><blockquote><p>npm i html-webpack-plugin -D</p></blockquote><pre><code> plugins: [    // pluginsçš„é…ç½®    // html-webpack-plugin    // åŠŸèƒ½ï¼šé»˜è®¤ä¼šåˆ›å»ºä¸€ä¸ªç©ºçš„HTMLï¼Œè‡ªåŠ¨å¼•å…¥æ‰“åŒ…è¾“å‡ºçš„æ‰€æœ‰èµ„æºï¼ˆJS/CSSï¼‰    // éœ€æ±‚ï¼šéœ€è¦æœ‰ç»“æ„çš„HTMLæ–‡ä»¶    new HtmlWebpackPlugin(&#123;      // å¤åˆ¶ &#39;./src/index.html&#39; æ–‡ä»¶ï¼Œå¹¶è‡ªåŠ¨å¼•å…¥æ‰“åŒ…è¾“å‡ºçš„æ‰€æœ‰èµ„æºï¼ˆJS/CSSï¼‰      template: &#39;./src/index.html&#39;    &#125;)  ]</code></pre><h3 id="æ‰“åŒ…å›¾ç‰‡èµ„æº"><a href="#æ‰“åŒ…å›¾ç‰‡èµ„æº" class="headerlink" title="æ‰“åŒ…å›¾ç‰‡èµ„æº"></a>æ‰“åŒ…å›¾ç‰‡èµ„æº</h3><pre><code>module: &#123;    rules: [      &#123;        test: /\.less$/,        // è¦ä½¿ç”¨å¤šä¸ªloaderå¤„ç†ç”¨use        use: [&#39;style-loader&#39;, &#39;css-loader&#39;, &#39;less-loader&#39;]      &#125;,      &#123;        // é—®é¢˜ï¼šé»˜è®¤å¤„ç†ä¸äº†htmlä¸­imgå›¾ç‰‡        // å¤„ç†å›¾ç‰‡èµ„æº        test: /\.(jpg|png|gif)$/,        // ä½¿ç”¨ä¸€ä¸ªloader        // ä¸‹è½½ url-loader file-loader        loader: &#39;url-loader&#39;,        options: &#123;          // å›¾ç‰‡å¤§å°å°äº8kbï¼Œå°±ä¼šè¢«base64å¤„ç†          // ä¼˜ç‚¹: å‡å°‘è¯·æ±‚æ•°é‡ï¼ˆå‡è½»æœåŠ¡å™¨å‹åŠ›ï¼‰          // ç¼ºç‚¹ï¼šå›¾ç‰‡ä½“ç§¯ä¼šæ›´å¤§ï¼ˆæ–‡ä»¶è¯·æ±‚é€Ÿåº¦æ›´æ…¢ï¼‰          limit: 8 * 1024,          // é—®é¢˜ï¼šå› ä¸ºurl-loaderé»˜è®¤ä½¿ç”¨es6æ¨¡å—åŒ–è§£æï¼Œè€Œhtml-loaderå¼•å…¥å›¾ç‰‡æ˜¯commonjs          // è§£ææ—¶ä¼šå‡ºé—®é¢˜ï¼š[object Module]          // è§£å†³ï¼šå…³é—­url-loaderçš„es6æ¨¡å—åŒ–ï¼Œä½¿ç”¨commonjsè§£æ          esModule: false,          // ç»™å›¾ç‰‡è¿›è¡Œé‡å‘½å          // [hash:10]å–å›¾ç‰‡çš„hashçš„å‰10ä½          // [ext]å–æ–‡ä»¶åŸæ¥æ‰©å±•å          name: &#39;[hash:10].[ext]&#39;        &#125;      &#125;,      &#123;        test: /\.html$/,        // å¤„ç†htmlæ–‡ä»¶çš„imgå›¾ç‰‡ï¼ˆè´Ÿè´£å¼•å…¥imgï¼Œä»è€Œèƒ½è¢«url-loaderè¿›è¡Œå¤„ç†ï¼‰        loader: &#39;html-loader&#39;      &#125;    ]  &#125;</code></pre><h3 id="æ‰“åŒ…å…¶ä»–èµ„æº"><a href="#æ‰“åŒ…å…¶ä»–èµ„æº" class="headerlink" title="æ‰“åŒ…å…¶ä»–èµ„æº"></a>æ‰“åŒ…å…¶ä»–èµ„æº</h3><pre><code>module: &#123;    rules: [      &#123;        test: /\.css$/,        use: [&#39;style-loader&#39;, &#39;css-loader&#39;]      &#125;,      // æ‰“åŒ…å…¶ä»–èµ„æº(é™¤äº†html/js/cssèµ„æºä»¥å¤–çš„èµ„æº)      &#123;        // æ’é™¤css/js/htmlèµ„æº        exclude: /\.(css|js|html|less)$/,        loader: &#39;file-loader&#39;,        options: &#123;          name: &#39;[hash:10].[ext]&#39;        &#125;      &#125;    ]  &#125;</code></pre><h4 id="index-html"><a href="#index-html" class="headerlink" title="index.html"></a>index.html</h4><pre><code>&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt;  &lt;meta charset=&quot;UTF-8&quot;&gt;  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;  &lt;title&gt;webpack&lt;/title&gt;&lt;/head&gt;&lt;body&gt;  &lt;span class=&quot;iconfont icon-icon-test&quot;&gt;&lt;/span&gt;  &lt;span class=&quot;iconfont icon-icon-test2&quot;&gt;&lt;/span&gt;  &lt;span class=&quot;iconfont icon-icon-test3&quot;&gt;&lt;/span&gt;  &lt;span class=&quot;iconfont icon-icon-test1&quot;&gt;&lt;/span&gt;&lt;/body&gt;&lt;/html&gt;</code></pre><p>jsï¼Œcssä¼šè¢«</p><pre><code>plugins: [    new HtmlWebpackPlugin(&#123;      template: &#39;./src/index.html&#39;    &#125;)  ]</code></pre><p>è‡ªåŠ¨å¼•å…¥</p><h3 id="devServer"><a href="#devServer" class="headerlink" title="devServer"></a>devServer</h3><p>å¼€å‘æœåŠ¡å™¨ devServerï¼šç”¨æ¥è‡ªåŠ¨åŒ–ï¼ˆè‡ªåŠ¨ç¼–è¯‘ï¼Œè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ï¼Œè‡ªåŠ¨åˆ·æ–°æµè§ˆå™¨~~</p><p>é¦–å…ˆä¸‹è½½ä¾èµ–ï¼Œ npm i webpack-dev-server -D</p><pre><code> mode: &#39;development&#39;,  // å¼€å‘æœåŠ¡å™¨ devServerï¼šç”¨æ¥è‡ªåŠ¨åŒ–ï¼ˆè‡ªåŠ¨ç¼–è¯‘ï¼Œè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ï¼Œè‡ªåŠ¨åˆ·æ–°æµè§ˆå™¨~~ï¼‰  // ç‰¹ç‚¹ï¼šåªä¼šåœ¨å†…å­˜ä¸­ç¼–è¯‘æ‰“åŒ…ï¼Œä¸ä¼šæœ‰ä»»ä½•è¾“å‡º  // å¯åŠ¨devServeræŒ‡ä»¤ä¸ºï¼šnpx webpack-dev-server  devServer: &#123;    // é¡¹ç›®æ„å»ºåè·¯å¾„    contentBase: resolve(__dirname, &#39;build&#39;),    // å¯åŠ¨gzipå‹ç¼©    compress: true,    // ç«¯å£å·    port: 3000,    // è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨    open: true  &#125;</code></pre><h3 id="å¼€å‘ç¯å¢ƒé…ç½®"><a href="#å¼€å‘ç¯å¢ƒé…ç½®" class="headerlink" title="å¼€å‘ç¯å¢ƒé…ç½®"></a>å¼€å‘ç¯å¢ƒé…ç½®</h3><p>webpack.config.js</p><pre><code>/*  å¼€å‘ç¯å¢ƒé…ç½®ï¼šèƒ½è®©ä»£ç è¿è¡Œ    è¿è¡Œé¡¹ç›®æŒ‡ä»¤ï¼š      webpack ä¼šå°†æ‰“åŒ…ç»“æœè¾“å‡ºå‡ºå»      npx webpack-dev-server åªä¼šåœ¨å†…å­˜ä¸­ç¼–è¯‘æ‰“åŒ…ï¼Œæ²¡æœ‰è¾“å‡º*/const &#123; resolve &#125; = require(&#39;path&#39;);const HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;);module.exports = &#123;  entry: &#39;./src/js/index.js&#39;,  output: &#123;    filename: &#39;js/built.js&#39;,    path: resolve(__dirname, &#39;build&#39;)  &#125;,  module: &#123;    rules: [      // loaderçš„é…ç½®      &#123;        // å¤„ç†lessèµ„æº        test: /\.less$/,        use: [&#39;style-loader&#39;, &#39;css-loader&#39;, &#39;less-loader&#39;]      &#125;,      &#123;        // å¤„ç†cssèµ„æº        test: /\.css$/,        use: [&#39;style-loader&#39;, &#39;css-loader&#39;]      &#125;,      &#123;        // å¤„ç†å›¾ç‰‡èµ„æº        test: /\.(jpg|png|gif)$/,        loader: &#39;url-loader&#39;,        options: &#123;          limit: 8 * 1024,          name: &#39;[hash:10].[ext]&#39;,          // å…³é—­es6æ¨¡å—åŒ–          esModule: false,          outputPath: &#39;imgs&#39;        &#125;      &#125;,      &#123;        // å¤„ç†htmlä¸­imgèµ„æº        test: /\.html$/,        loader: &#39;html-loader&#39;      &#125;,      &#123;        // å¤„ç†å…¶ä»–èµ„æº        exclude: /\.(html|js|css|less|jpg|png|gif)/,        loader: &#39;file-loader&#39;,        options: &#123;          name: &#39;[hash:10].[ext]&#39;,          outputPath: &#39;media&#39;        &#125;      &#125;    ]  &#125;,  plugins: [    // pluginsçš„é…ç½®    new HtmlWebpackPlugin(&#123;      template: &#39;./src/index.html&#39;    &#125;)  ],  mode: &#39;development&#39;,  devServer: &#123;    contentBase: resolve(__dirname, &#39;build&#39;),    compress: true,    port: 3000,    open: true  &#125;&#125;;</code></pre><p>åˆ›å»ºsrcç›®å½•ï¼Œsrcä¸‹å†åˆ›å»ºindex.html,index.js</p><h2 id="webpack-ç”Ÿäº§ç¯å¢ƒçš„åŸºæœ¬é…ç½®"><a href="#webpack-ç”Ÿäº§ç¯å¢ƒçš„åŸºæœ¬é…ç½®" class="headerlink" title="webpack ç”Ÿäº§ç¯å¢ƒçš„åŸºæœ¬é…ç½®"></a>webpack ç”Ÿäº§ç¯å¢ƒçš„åŸºæœ¬é…ç½®</h2><h3 id="æå–-css-æˆå•ç‹¬æ–‡ä»¶"><a href="#æå–-css-æˆå•ç‹¬æ–‡ä»¶" class="headerlink" title="æå– css æˆå•ç‹¬æ–‡ä»¶"></a>æå– css æˆå•ç‹¬æ–‡ä»¶</h3><blockquote><p>ä¸‹è½½æ’ä»¶<br>npm install â€“save-dev mini-css-extract-plugin -D</p></blockquote><pre><code>const MiniCssExtractPlugin = require(&#39;mini-css-extract-plugin&#39;);module: &#123;    rules: [      &#123;        test: /\.css$/,        use: [          // åˆ›å»ºstyleæ ‡ç­¾ï¼Œå°†æ ·å¼æ”¾å…¥          // &#39;style-loader&#39;,           // è¿™ä¸ªloaderå–ä»£style-loaderã€‚ä½œç”¨ï¼šæå–jsä¸­çš„cssæˆå•ç‹¬æ–‡ä»¶          MiniCssExtractPlugin.loader,          // å°†cssæ–‡ä»¶æ•´åˆåˆ°jsæ–‡ä»¶ä¸­          &#39;css-loader&#39;        ]      &#125;    ]  &#125;ï¼Œ  plugins: [    new HtmlWebpackPlugin(&#123;      template: &#39;./src/index.html&#39;    &#125;),    new MiniCssExtractPlugin(&#123;      // å¯¹è¾“å‡ºçš„cssæ–‡ä»¶è¿›è¡Œé‡å‘½å      filename: &#39;css/built.css&#39;    &#125;)  ],</code></pre><h3 id="csså…¼å®¹æ€§å¤„ç†"><a href="#csså…¼å®¹æ€§å¤„ç†" class="headerlink" title="csså…¼å®¹æ€§å¤„ç†"></a>csså…¼å®¹æ€§å¤„ç†</h3><blockquote><p>ä¸‹è½½ä¾èµ– npm i postcss-loader postcss-preset-env -D</p></blockquote><pre><code>module: &#123;    rules: [      &#123;        test: /\.css$/,        use: [          MiniCssExtractPlugin.loader,          &#39;css-loader&#39;,          /*            csså…¼å®¹æ€§å¤„ç†ï¼špostcss --&gt; postcss-loader postcss-preset-env            å¸®postcssæ‰¾åˆ°package.jsonä¸­browserslisté‡Œé¢çš„é…ç½®ï¼Œé€šè¿‡é…ç½®åŠ è½½æŒ‡å®šçš„csså…¼å®¹æ€§æ ·å¼          */          // ä½¿ç”¨loaderçš„é»˜è®¤é…ç½®          // &#39;postcss-loader&#39;,          // ä¿®æ”¹loaderçš„é…ç½®          &#123;            loader: &#39;postcss-loader&#39;,            options: &#123;              ident: &#39;postcss&#39;,              plugins: () =&gt; [                // postcssçš„æ’ä»¶                require(&#39;postcss-preset-env&#39;)()              ]            &#125;          &#125;        ]      &#125;    ]  &#125;</code></pre><p>åœ¨package.jsonæ·»åŠ browserslist</p><pre><code>&quot;browserslist&quot;: &#123;    &quot;development&quot;: [   // å¼€å‘ç¯å¢ƒ --&gt; è®¾ç½®nodeç¯å¢ƒå˜é‡ï¼šprocess.env.NODE_ENV = development      &quot;last 1 chrome version&quot;,      &quot;last 1 firefox version&quot;,      &quot;last 1 safari version&quot;    ],    &quot;production&quot;: [ // ç”Ÿäº§ç¯å¢ƒï¼šé»˜è®¤æ˜¯çœ‹ç”Ÿäº§ç¯å¢ƒ      &quot;&gt;0.2%&quot;,      &quot;not dead&quot;,      &quot;not op_mini all&quot;    ]  &#125;</code></pre><p>åœ¨webpack.config.jsè®¾ç½®nodeç¯å¢ƒä¸ºå¼€å‘ç¯å¢ƒ</p><pre><code>process.env.NODE_ENV = &#39;development&#39;</code></pre><h3 id="å‹ç¼©css"><a href="#å‹ç¼©css" class="headerlink" title="å‹ç¼©css"></a>å‹ç¼©css</h3><blockquote><p>ä¸‹è½½å®‰è£…åŒ…<br>npm install â€“save-dev optimize-css-assets-webpack-plugin</p></blockquote><pre><code>const OptimizeCssAssetsWebpackPlugin = require(&#39;optimize-css-assets-webpack-plugin&#39;) plugins: [    new HtmlWebpackPlugin(&#123;      template: &#39;./src/index.html&#39;    &#125;),    new MiniCssExtractPlugin(&#123;      filename: &#39;css/built.css&#39;    &#125;),    // å‹ç¼©css    new OptimizeCssAssetsWebpackPlugin()  ]</code></pre><h3 id="è¯­æ³•æ£€æŸ¥"><a href="#è¯­æ³•æ£€æŸ¥" class="headerlink" title="è¯­æ³•æ£€æŸ¥"></a>è¯­æ³•æ£€æŸ¥</h3><blockquote><p> ä¸‹è½½å®‰è£…åŒ…<br>npm install â€“save-dev eslint-loader eslint eslint-config-airbnb-base eslint-plugin-import -D</p></blockquote><pre><code>module: &#123;    rules: [      /*        è¯­æ³•æ£€æŸ¥ï¼š eslint-loader  eslint          æ³¨æ„ï¼šåªæ£€æŸ¥è‡ªå·±å†™çš„æºä»£ç ï¼Œç¬¬ä¸‰æ–¹çš„åº“æ˜¯ä¸ç”¨æ£€æŸ¥çš„          è®¾ç½®æ£€æŸ¥è§„åˆ™ï¼š            airbnb --&gt; eslint-config-airbnb-base  eslint-plugin-import eslint      */      &#123;        test: /\.js$/,        exclude: /node_modules/, // ç¬¬ä¸‰æ–¹çš„åº“æ˜¯ä¸ç”¨æ£€æŸ¥çš„        loader: &#39;eslint-loader&#39;,        options: &#123;          // è‡ªåŠ¨ä¿®å¤eslintçš„é”™è¯¯          fix: true        &#125;      &#125;    ]  &#125;</code></pre><p>package.jsonä¸­eslintConfigä¸­è®¾ç½®</p><pre><code>&quot;eslintConfig&quot;: &#123;    &quot;extends&quot;: &quot;airbnb-base&quot;,    &quot;env&quot;: &#123;      &quot;browser&quot;: true    &#125;  &#125;</code></pre><p>index.js</p><pre><code>// ä¸‹ä¸€è¡Œeslintæ‰€æœ‰è§„åˆ™éƒ½å¤±æ•ˆï¼ˆä¸‹ä¸€è¡Œä¸è¿›è¡Œeslintæ£€æŸ¥ï¼‰// eslint-disable-next-lineconsole.log(add(2, 5));</code></pre><h3 id="jså…¼å®¹æ€§é…ç½®"><a href="#jså…¼å®¹æ€§é…ç½®" class="headerlink" title="jså…¼å®¹æ€§é…ç½®"></a>jså…¼å®¹æ€§é…ç½®</h3><p> ä¸‹è½½å®‰è£…åŒ…<br>npm install â€“save-dev babel-loader @babel/core @babel/preset-env @babel/polyfill core-js</p><pre><code>module: &#123;    rules: [      /*        jså…¼å®¹æ€§å¤„ç†ï¼šbabel-loader @babel/core           1. åŸºæœ¬jså…¼å®¹æ€§å¤„ç† --&gt; @babel/preset-env            é—®é¢˜ï¼šåªèƒ½è½¬æ¢åŸºæœ¬è¯­æ³•ï¼Œå¦‚promiseé«˜çº§è¯­æ³•ä¸èƒ½è½¬æ¢          2. å…¨éƒ¨jså…¼å®¹æ€§å¤„ç† --&gt; @babel/polyfill              åœ¨index.js ä¸‹   import &#39;@babel/polyfill&#39;;            é—®é¢˜ï¼šæˆ‘åªè¦è§£å†³éƒ¨åˆ†å…¼å®¹æ€§é—®é¢˜ï¼Œä½†æ˜¯å°†æ‰€æœ‰å…¼å®¹æ€§ä»£ç å…¨éƒ¨å¼•å…¥ï¼Œä½“ç§¯å¤ªå¤§äº†~          3. éœ€è¦åšå…¼å®¹æ€§å¤„ç†çš„å°±åšï¼šæŒ‰éœ€åŠ è½½  --&gt; core-js      */        &#123;        test: /\.js$/,        exclude: /node_modules/,        loader: &#39;babel-loader&#39;,        options: &#123;          // é¢„è®¾ï¼šæŒ‡ç¤ºbabelåšæ€ä¹ˆæ ·çš„å…¼å®¹æ€§å¤„ç†          presets: [            [              &#39;@babel/preset-env&#39;,              &#123;                // æŒ‰éœ€åŠ è½½                useBuiltIns: &#39;usage&#39;,                // æŒ‡å®šcore-jsç‰ˆæœ¬                corejs: &#123;                  version: 3                &#125;,                // æŒ‡å®šå…¼å®¹æ€§åšåˆ°å“ªä¸ªç‰ˆæœ¬æµè§ˆå™¨                targets: &#123;                  chrome: &#39;60&#39;,                  firefox: &#39;60&#39;,                  ie: &#39;9&#39;,                  safari: &#39;10&#39;,                  edge: &#39;17&#39;                &#125;              &#125;            ]          ]        &#125;      &#125;    ]  &#125;</code></pre><h3 id="jsçš„å‹ç¼©"><a href="#jsçš„å‹ç¼©" class="headerlink" title="jsçš„å‹ç¼©"></a>jsçš„å‹ç¼©</h3><p>ç”Ÿäº§ç¯å¢ƒä¸‹ä¼šè‡ªåŠ¨å‹ç¼©jsä»£ç </p><h3 id="htmlå‹ç¼©"><a href="#htmlå‹ç¼©" class="headerlink" title="htmlå‹ç¼©"></a>htmlå‹ç¼©</h3><pre><code>plugins: [    new HtmlWebpackPlugin(&#123;      template: &#39;./src/index.html&#39;,      // å‹ç¼©htmlä»£ç       minify: &#123;        // ç§»é™¤ç©ºæ ¼        collapseWhitespace: true,        // ç§»é™¤æ³¨é‡Š        removeComments: true      &#125;    &#125;)  ]</code></pre><h3 id="ç”Ÿäº§ç¯å¢ƒé…ç½®"><a href="#ç”Ÿäº§ç¯å¢ƒé…ç½®" class="headerlink" title="ç”Ÿäº§ç¯å¢ƒé…ç½®"></a>ç”Ÿäº§ç¯å¢ƒé…ç½®</h3><pre><code>const &#123; resolve &#125; = require(&#39;path&#39;);const MiniCssExtractPlugin = require(&#39;mini-css-extract-plugin&#39;); // å°†csså•ç‹¬æå–const OptimizeCssAssetsWebpackPlugin = require(&#39;optimize-css-assets-webpack-plugin&#39;);const HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;);// å®šä¹‰nodejsç¯å¢ƒå˜é‡ï¼šå†³å®šä½¿ç”¨browserslistçš„å“ªä¸ªç¯å¢ƒprocess.env.NODE_ENV = &#39;production&#39;;// å¤ç”¨loaderconst commonCssLoader = [ // csså…¼å®¹é…ç½®  MiniCssExtractPlugin.loader,  &#39;css-loader&#39;,  &#123;    // è¿˜éœ€è¦åœ¨package.jsonä¸­å®šä¹‰browserslist    loader: &#39;postcss-loader&#39;,    options: &#123;      ident: &#39;postcss&#39;,      plugins: () =&gt; [require(&#39;postcss-preset-env&#39;)()]    &#125;  &#125;];module.exports = &#123;  entry: &#39;./src/js/index.js&#39;,  output: &#123;    filename: &#39;js/built.js&#39;,    path: resolve(__dirname, &#39;build&#39;)  &#125;,  module: &#123;    rules: [      &#123;        test: /\.css$/,        use: [...commonCssLoader]      &#125;,      &#123;        test: /\.less$/,        use: [...commonCssLoader, &#39;less-loader&#39;]      &#125;,      /*        æ­£å¸¸æ¥è®²ï¼Œä¸€ä¸ªæ–‡ä»¶åªèƒ½è¢«ä¸€ä¸ªloaderå¤„ç†ã€‚        å½“ä¸€ä¸ªæ–‡ä»¶è¦è¢«å¤šä¸ªloaderå¤„ç†ï¼Œé‚£ä¹ˆä¸€å®šè¦æŒ‡å®šloaderæ‰§è¡Œçš„å…ˆåé¡ºåºï¼š          å…ˆæ‰§è¡Œeslint åœ¨æ‰§è¡Œbabel      */      &#123;        // åœ¨package.jsonä¸­eslintConfig --&gt; airbnb        test: /\.js$/,        exclude: /node_modules/,        // ä¼˜å…ˆæ‰§è¡Œ        enforce: &#39;pre&#39;, //  å…ˆæ‰§è¡Œeslint åœ¨æ‰§è¡Œbabel        loader: &#39;eslint-loader&#39;,        options: &#123;          fix: true        &#125;      &#125;,      &#123;        test: /\.js$/,        exclude: /node_modules/,        loader: &#39;babel-loader&#39;,        options: &#123;          presets: [            [              &#39;@babel/preset-env&#39;,              &#123;                useBuiltIns: &#39;usage&#39;,                corejs: &#123;version: 3&#125;,                targets: &#123;                  chrome: &#39;60&#39;,                  firefox: &#39;50&#39;                &#125;              &#125;            ]          ]        &#125;      &#125;,      &#123;        test: /\.(jpg|png|gif)/,        loader: &#39;url-loader&#39;,        options: &#123;          limit: 8 * 1024,          name: &#39;[hash:10].[ext]&#39;,          outputPath: &#39;imgs&#39;,          esModule: false        &#125;      &#125;,      &#123;        test: /\.html$/,        loader: &#39;html-loader&#39;      &#125;,      &#123;        exclude: /\.(js|css|less|html|jpg|png|gif)/,        loader: &#39;file-loader&#39;,        options: &#123;          outputPath: &#39;media&#39;        &#125;      &#125;    ]  &#125;,  plugins: [    new MiniCssExtractPlugin(&#123; // å°†csså•ç‹¬æå–      filename: &#39;css/built.css&#39;    &#125;),    new OptimizeCssAssetsWebpackPlugin(),    new HtmlWebpackPlugin(&#123;      template: &#39;./src/index.html&#39;,      minify: &#123;        collapseWhitespace: true,        removeComments: true      &#125;    &#125;)  ],  mode: &#39;production&#39;&#125;;</code></pre><pre><code>ç›®å‰ç¤ºä¾‹ä¸­webpackä½¿ç”¨cssæ–¹å¼ï¼šcss-loaderï¼šå°†jsä¸­çš„csså†…å®¹è§£æstyle-loaderï¼šæœ€ç»ˆå°†cssæ ·å¼é€šè¿‡&lt;style&gt;æ ‡ç­¾æ–¹å¼æ³¨å…¥åˆ°é¡µé¢ä¸­ã€‚CSSå†…å®¹è¿˜æ˜¯å­˜å‚¨åœ¨JSæ–‡ä»¶ä¸­ã€‚MiniCssExtractPlugin æ’ä»¶å¯ä»¥å°†CSSå†…å®¹ä»æ‰“åŒ…ç»“æœä¸­æå–å‡ºæ¥ï¼Œå­˜æ”¾åˆ°æ–‡ä»¶ä¸­ã€‚é€šè¿‡è¿™ä¸ªæ’ä»¶ï¼Œå°±å¯ä»¥å®ç°CSSæ¨¡å—çš„æŒ‰éœ€åŠ è½½ã€‚å› ä¸ºæå–åç”Ÿæˆäº†cssæ–‡ä»¶ï¼Œæ‰€ä»¥å°±ä¸éœ€è¦&lt;style&gt;æ ‡ç­¾ï¼Œè€Œæ˜¯ç›´æ¥é€šè¿‡&lt;link&gt;çš„æ–¹å¼å¼•å…¥ã€‚æ‰€ä»¥ä½¿ç”¨MiniCssExtractPluginï¼Œå°±ä¸éœ€è¦style-loaderï¼Œè€Œæ˜¯ä½¿ç”¨æ’ä»¶æä¾›çš„loaderå®ç°é€šè¿‡&lt;link&gt;æ ‡ç­¾çš„æ–¹å¼æ³¨å…¥ã€‚</code></pre><p> <a href="https://blog.csdn.net/astonishqft/article/details/82899965">https://blog.csdn.net/astonishqft/article/details/82899965</a> </p><h3 id="outputä¸­pathã€publicPathçš„åŒºåˆ«"><a href="#outputä¸­pathã€publicPathçš„åŒºåˆ«" class="headerlink" title="outputä¸­pathã€publicPathçš„åŒºåˆ«"></a>outputä¸­pathã€publicPathçš„åŒºåˆ«</h3><p>è§£å†³cssæå–å‡ºæ¥åï¼Œimgä¸åŠ è½½é—®é¢˜</p><h2 id="webpackæ€§èƒ½ä¼˜åŒ–"><a href="#webpackæ€§èƒ½ä¼˜åŒ–" class="headerlink" title="webpackæ€§èƒ½ä¼˜åŒ–"></a>webpackæ€§èƒ½ä¼˜åŒ–</h2><ul><li>å¼€å‘ç¯å¢ƒæ€§èƒ½ä¼˜åŒ–</li><li>ç”Ÿäº§ç¯å¢ƒæ€§èƒ½ä¼˜åŒ–</li></ul><h3 id="å¼€å‘ç¯å¢ƒæ€§èƒ½ä¼˜åŒ–"><a href="#å¼€å‘ç¯å¢ƒæ€§èƒ½ä¼˜åŒ–" class="headerlink" title="å¼€å‘ç¯å¢ƒæ€§èƒ½ä¼˜åŒ–"></a>å¼€å‘ç¯å¢ƒæ€§èƒ½ä¼˜åŒ–</h3><ul><li>ä¼˜åŒ–æ‰“åŒ…æ„å»ºé€Ÿåº¦<ul><li>HMR</li></ul></li><li>ä¼˜åŒ–ä»£ç è°ƒè¯•<ul><li>source-map</li></ul></li></ul><h3 id="ç”Ÿäº§ç¯å¢ƒæ€§èƒ½ä¼˜åŒ–"><a href="#ç”Ÿäº§ç¯å¢ƒæ€§èƒ½ä¼˜åŒ–" class="headerlink" title="ç”Ÿäº§ç¯å¢ƒæ€§èƒ½ä¼˜åŒ–"></a>ç”Ÿäº§ç¯å¢ƒæ€§èƒ½ä¼˜åŒ–</h3><ul><li>ä¼˜åŒ–æ‰“åŒ…æ„å»ºé€Ÿåº¦<ul><li>oneOf</li><li>babelç¼“å­˜</li><li>å¤šè¿›ç¨‹æ‰“åŒ…</li><li>externals</li><li>dll</li></ul></li><li>ä¼˜åŒ–ä»£ç è¿è¡Œçš„æ€§èƒ½<ul><li>ç¼“å­˜(hash-chunkhash-contenthash)</li><li>tree shaking</li><li>code split</li><li>æ‡’åŠ è½½/é¢„åŠ è½½</li><li>pwa</li></ul></li></ul><h3 id="HMR"><a href="#HMR" class="headerlink" title="HMR"></a>HMR</h3><p>HMR: hot module replacement çƒ­æ¨¡å—æ›¿æ¢ / æ¨¡å—çƒ­æ›¿æ¢<br>    ä½œç”¨ï¼šä¸€ä¸ªæ¨¡å—å‘ç”Ÿå˜åŒ–ï¼Œåªä¼šé‡æ–°æ‰“åŒ…è¿™ä¸€ä¸ªæ¨¡å—ï¼ˆè€Œä¸æ˜¯æ‰“åŒ…æ‰€æœ‰æ¨¡å—ï¼‰ æå¤§æå‡æ„å»ºé€Ÿåº¦</p><p>  æ ·å¼æ–‡ä»¶ï¼šå¯ä»¥ä½¿ç”¨HMRåŠŸèƒ½ï¼šå› ä¸ºstyle-loaderå†…éƒ¨å®ç°äº†~<br>  jsæ–‡ä»¶ï¼šé»˜è®¤ä¸èƒ½ä½¿ç”¨HMRåŠŸèƒ½ â€“&gt; éœ€è¦ä¿®æ”¹jsä»£ç ï¼Œæ·»åŠ æ”¯æŒHMRåŠŸèƒ½çš„ä»£ç <br>    æ³¨æ„ï¼šHMRåŠŸèƒ½å¯¹jsçš„å¤„ç†ï¼Œåªèƒ½å¤„ç†éå…¥å£jsæ–‡ä»¶çš„å…¶ä»–æ–‡ä»¶ã€‚<br>    htmlæ–‡ä»¶: é»˜è®¤ä¸èƒ½ä½¿ç”¨HMRåŠŸèƒ½.åŒæ—¶ä¼šå¯¼è‡´é—®é¢˜ï¼šhtmlæ–‡ä»¶ä¸èƒ½çƒ­æ›´æ–°äº†~ ï¼ˆä¸ç”¨åšHMRåŠŸèƒ½ï¼‰<br>    è§£å†³ï¼šä¿®æ”¹entryå…¥å£ï¼Œå°†htmlæ–‡ä»¶å¼•å…¥ </p><blockquote><p>entry: [â€˜./src/js/index.jsâ€™, â€˜./src/index.htmlâ€™],</p></blockquote><pre><code>devServer: &#123;    contentBase: resolve(__dirname, &#39;build&#39;),    compress: true,    port: 3000,    open: true,    // å¼€å¯HMRåŠŸèƒ½    // å½“ä¿®æ”¹äº†webpacké…ç½®ï¼Œæ–°é…ç½®è¦æƒ³ç”Ÿæ•ˆï¼Œå¿…é¡»é‡æ–°webpackæœåŠ¡    hot: true  &#125;</code></pre><h4 id="index-jså¼€å¯çƒ­æ›´æ–°"><a href="#index-jså¼€å¯çƒ­æ›´æ–°" class="headerlink" title="index.jså¼€å¯çƒ­æ›´æ–°"></a>index.jså¼€å¯çƒ­æ›´æ–°</h4><pre><code>if (module.hot) &#123;  // ä¸€æ—¦ module.hot ä¸ºtrueï¼Œè¯´æ˜å¼€å¯äº†HMRåŠŸèƒ½ã€‚ --&gt; è®©HMRåŠŸèƒ½ä»£ç ç”Ÿæ•ˆ  module.hot.accept(&#39;./print.js&#39;, function() &#123;    // æ–¹æ³•ä¼šç›‘å¬ print.js æ–‡ä»¶çš„å˜åŒ–ï¼Œä¸€æ—¦å‘ç”Ÿå˜åŒ–ï¼Œå…¶ä»–æ¨¡å—ä¸ä¼šé‡æ–°æ‰“åŒ…æ„å»ºã€‚    // ä¼šæ‰§è¡Œåé¢çš„å›è°ƒå‡½æ•°    print();  &#125;);</code></pre><h3 id="source-map"><a href="#source-map" class="headerlink" title="source-map"></a>source-map</h3><p>ä¸€ç§ æä¾›æºä»£ç åˆ°æ„å»ºåä»£ç æ˜ å°„ æŠ€æœ¯ ï¼ˆå¦‚æœæ„å»ºåä»£ç å‡ºé”™äº†ï¼Œé€šè¿‡æ˜ å°„å¯ä»¥è¿½è¸ªæºä»£ç é”™è¯¯</p><pre><code>devServer: &#123;    contentBase: resolve(__dirname, &#39;build&#39;),    compress: true,    port: 3000,    open: true,    hot: true  &#125;,  devtool: &#39;eval-source-map&#39;</code></pre><pre><code>[inline-|hidden-|eval-][nosources-][cheap-[module-]]source-map    source-mapï¼šå¤–éƒ¨      é”™è¯¯ä»£ç å‡†ç¡®ä¿¡æ¯ å’Œ æºä»£ç çš„é”™è¯¯ä½ç½®    inline-source-mapï¼šå†…è”      åªç”Ÿæˆä¸€ä¸ªå†…è”source-map      é”™è¯¯ä»£ç å‡†ç¡®ä¿¡æ¯ å’Œ æºä»£ç çš„é”™è¯¯ä½ç½®    hidden-source-mapï¼šå¤–éƒ¨      é”™è¯¯ä»£ç é”™è¯¯åŸå› ï¼Œä½†æ˜¯æ²¡æœ‰é”™è¯¯ä½ç½®      ä¸èƒ½è¿½è¸ªæºä»£ç é”™è¯¯ï¼Œåªèƒ½æç¤ºåˆ°æ„å»ºåä»£ç çš„é”™è¯¯ä½ç½®    eval-source-mapï¼šå†…è”      æ¯ä¸€ä¸ªæ–‡ä»¶éƒ½ç”Ÿæˆå¯¹åº”çš„source-mapï¼Œéƒ½åœ¨eval      é”™è¯¯ä»£ç å‡†ç¡®ä¿¡æ¯ å’Œ æºä»£ç çš„é”™è¯¯ä½ç½®    nosources-source-mapï¼šå¤–éƒ¨      é”™è¯¯ä»£ç å‡†ç¡®ä¿¡æ¯, ä½†æ˜¯æ²¡æœ‰ä»»ä½•æºä»£ç ä¿¡æ¯    cheap-source-mapï¼šå¤–éƒ¨      é”™è¯¯ä»£ç å‡†ç¡®ä¿¡æ¯ å’Œ æºä»£ç çš„é”™è¯¯ä½ç½®       åªèƒ½ç²¾ç¡®çš„è¡Œ    cheap-module-source-mapï¼šå¤–éƒ¨      é”™è¯¯ä»£ç å‡†ç¡®ä¿¡æ¯ å’Œ æºä»£ç çš„é”™è¯¯ä½ç½®       moduleä¼šå°†loaderçš„source mapåŠ å…¥    å†…è” å’Œ å¤–éƒ¨çš„åŒºåˆ«ï¼š1. å¤–éƒ¨ç”Ÿæˆäº†æ–‡ä»¶ï¼Œå†…è”æ²¡æœ‰ 2. å†…è”æ„å»ºé€Ÿåº¦æ›´å¿«    å¼€å‘ç¯å¢ƒï¼šé€Ÿåº¦å¿«ï¼Œè°ƒè¯•æ›´å‹å¥½      é€Ÿåº¦å¿«(eval&gt;inline&gt;cheap&gt;...)        eval-cheap-souce-map        eval-source-map      è°ƒè¯•æ›´å‹å¥½          souce-map        cheap-module-souce-map        cheap-souce-map      --&gt; eval-source-map  / eval-cheap-module-souce-map    ç”Ÿäº§ç¯å¢ƒï¼šæºä»£ç è¦ä¸è¦éšè—? è°ƒè¯•è¦ä¸è¦æ›´å‹å¥½      å†…è”ä¼šè®©ä»£ç ä½“ç§¯å˜å¤§ï¼Œæ‰€ä»¥åœ¨ç”Ÿäº§ç¯å¢ƒä¸ç”¨å†…è”      nosources-source-map å…¨éƒ¨éšè—      hidden-source-map åªéšè—æºä»£ç ï¼Œä¼šæç¤ºæ„å»ºåä»£ç é”™è¯¯ä¿¡æ¯      --&gt; source-map / cheap-module-souce-map</code></pre><h3 id="oneOf"><a href="#oneOf" class="headerlink" title="oneOf"></a>oneOf</h3><p>æå‡æ„å»ºé€Ÿåº¦ï¼Œæ‰€æœ‰loaderåªåˆ¤æ–­ä¸€æ¬¡</p><pre><code>module: &#123;    rules: [      &#123;        // åœ¨package.jsonä¸­eslintConfig --&gt; airbnb        test: /\.js$/,        exclude: /node_modules/,        // ä¼˜å…ˆæ‰§è¡Œ        enforce: &#39;pre&#39;,        loader: &#39;eslint-loader&#39;,        options: &#123;          fix: true        &#125;      &#125;,      &#123;        // ä»¥ä¸‹loaderåªä¼šåŒ¹é…ä¸€ä¸ª        // æ³¨æ„ï¼šä¸èƒ½æœ‰ä¸¤ä¸ªé…ç½®å¤„ç†åŒä¸€ç§ç±»å‹æ–‡ä»¶        oneOf: [          &#123;            test: /\.css$/,            use: [...commonCssLoader]          &#125;,          &#123;            test: /\.less$/,            use: [...commonCssLoader, &#39;less-loader&#39;]          &#125;,          /*            æ­£å¸¸æ¥è®²ï¼Œä¸€ä¸ªæ–‡ä»¶åªèƒ½è¢«ä¸€ä¸ªloaderå¤„ç†ã€‚            å½“ä¸€ä¸ªæ–‡ä»¶è¦è¢«å¤šä¸ªloaderå¤„ç†ï¼Œé‚£ä¹ˆä¸€å®šè¦æŒ‡å®šloaderæ‰§è¡Œçš„å…ˆåé¡ºåºï¼š              å…ˆæ‰§è¡Œeslint åœ¨æ‰§è¡Œbabel          */          &#123;            test: /\.js$/,            exclude: /node_modules/,            loader: &#39;babel-loader&#39;,            options: &#123;              presets: [                [                  &#39;@babel/preset-env&#39;,                  &#123;                    useBuiltIns: &#39;usage&#39;,                    corejs: &#123;version: 3&#125;,                    targets: &#123;                      chrome: &#39;60&#39;,                      firefox: &#39;50&#39;                    &#125;                  &#125;                ]              ]            &#125;          &#125;,          &#123;            test: /\.(jpg|png|gif)/,            loader: &#39;url-loader&#39;,            options: &#123;              limit: 8 * 1024,              name: &#39;[hash:10].[ext]&#39;,              outputPath: &#39;imgs&#39;,              esModule: false            &#125;          &#125;,          &#123;            test: /\.html$/,            loader: &#39;html-loader&#39;          &#125;,          &#123;            exclude: /\.(js|css|less|html|jpg|png|gif)/,            loader: &#39;file-loader&#39;,            options: &#123;              outputPath: &#39;media&#39;            &#125;          &#125;        ]      &#125;    ]  &#125;</code></pre><h3 id="ç¼“å­˜"><a href="#ç¼“å­˜" class="headerlink" title="ç¼“å­˜"></a>ç¼“å­˜</h3><h4 id="babelç¼“å­˜"><a href="#babelç¼“å­˜" class="headerlink" title="babelç¼“å­˜"></a>babelç¼“å­˜</h4><blockquote><p>cacheDirectory: true â€“&gt; è®©ç¬¬äºŒæ¬¡æ‰“åŒ…æ„å»ºé€Ÿåº¦æ›´å¿«</p></blockquote><pre><code>&#123;            test: /\.js$/,            exclude: /node_modules/,            loader: &#39;babel-loader&#39;,            options: &#123;              presets: [                [                  &#39;@babel/preset-env&#39;,                  &#123;                    useBuiltIns: &#39;usage&#39;,                    corejs: &#123; version: 3 &#125;,                    targets: &#123;                      chrome: &#39;60&#39;,                      firefox: &#39;50&#39;                    &#125;                  &#125;                ]              ],              // å¼€å¯babelç¼“å­˜              // ç¬¬äºŒæ¬¡æ„å»ºæ—¶ï¼Œä¼šè¯»å–ä¹‹å‰çš„ç¼“å­˜              cacheDirectory: true            &#125;          &#125;</code></pre><h4 id="server-js"><a href="#server-js" class="headerlink" title="server.js"></a>server.js</h4><pre><code>/*  æœåŠ¡å™¨ä»£ç   å¯åŠ¨æœåŠ¡å™¨æŒ‡ä»¤ï¼š    npm i nodemon -g    nodemon server.js    node server.js  è®¿é—®æœåŠ¡å™¨åœ°å€ï¼š    http://localhost:3000*/const express = require(&#39;express&#39;);const app = express();// express.staticå‘å¤–æš´éœ²é™æ€èµ„æº// maxAge èµ„æºç¼“å­˜çš„æœ€å¤§æ—¶é—´ï¼Œå•ä½msapp.use(express.static(&#39;build&#39;, &#123; maxAge: 1000 * 3600 &#125;));app.listen(3000);</code></pre><h4 id="æ–‡ä»¶èµ„æºç¼“å­˜"><a href="#æ–‡ä»¶èµ„æºç¼“å­˜" class="headerlink" title="æ–‡ä»¶èµ„æºç¼“å­˜"></a>æ–‡ä»¶èµ„æºç¼“å­˜</h4><pre><code> hash: æ¯æ¬¡wepackæ„å»ºæ—¶ä¼šç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„hashå€¼ã€‚        é—®é¢˜: å› ä¸ºjså’ŒcssåŒæ—¶ä½¿ç”¨ä¸€ä¸ªhashå€¼ã€‚          å¦‚æœé‡æ–°æ‰“åŒ…ï¼Œä¼šå¯¼è‡´æ‰€æœ‰ç¼“å­˜å¤±æ•ˆã€‚ï¼ˆå¯èƒ½æˆ‘å´åªæ”¹åŠ¨ä¸€ä¸ªæ–‡ä»¶ï¼‰ chunkhashï¼šæ ¹æ®chunkç”Ÿæˆçš„hashå€¼ã€‚å¦‚æœæ‰“åŒ…æ¥æºäºåŒä¸€ä¸ªchunkï¼Œé‚£ä¹ˆhashå€¼å°±ä¸€æ ·        é—®é¢˜: jså’Œcssçš„hashå€¼è¿˜æ˜¯ä¸€æ ·çš„          å› ä¸ºcssæ˜¯åœ¨jsä¸­è¢«å¼•å…¥çš„ï¼Œæ‰€ä»¥åŒå±äºä¸€ä¸ªchunkcontenthash: æ ¹æ®æ–‡ä»¶çš„å†…å®¹ç”Ÿæˆhashå€¼ã€‚ä¸åŒæ–‡ä»¶hashå€¼ä¸€å®šä¸ä¸€æ ·          --&gt; è®©ä»£ç ä¸Šçº¿è¿è¡Œç¼“å­˜æ›´å¥½ä½¿ç”¨</code></pre><h3 id="tree-shaking-æ ‘æ‘‡"><a href="#tree-shaking-æ ‘æ‘‡" class="headerlink" title="tree shaking æ ‘æ‘‡"></a>tree shaking æ ‘æ‘‡</h3><pre><code>tree shakingï¼šå»é™¤æ— ç”¨ä»£ç     å‰æï¼š1. å¿…é¡»ä½¿ç”¨ES6æ¨¡å—åŒ–  2. å¼€å¯productionç¯å¢ƒ    ä½œç”¨: å‡å°‘ä»£ç ä½“ç§¯    åœ¨package.jsonä¸­é…ç½®       &quot;sideEffects&quot;: false æ‰€æœ‰ä»£ç éƒ½æ²¡æœ‰å‰¯ä½œç”¨ï¼ˆéƒ½å¯ä»¥è¿›è¡Œtree shakingï¼‰        é—®é¢˜ï¼šå¯èƒ½ä¼šæŠŠcss / @babel/polyfill ï¼ˆå‰¯ä½œç”¨ï¼‰æ–‡ä»¶å¹²æ‰      &quot;sideEffects&quot;: [&quot;*.css&quot;, &quot;*.less&quot;]</code></pre><h3 id="code-splitä»£ç åˆ†å‰²"><a href="#code-splitä»£ç åˆ†å‰²" class="headerlink" title="code splitä»£ç åˆ†å‰²"></a>code splitä»£ç åˆ†å‰²</h3><pre><code>// å•å…¥å£  // entry: &#39;./src/js/index.js&#39;,  entry: &#123;    // å¤šå…¥å£ï¼šæœ‰ä¸€ä¸ªå…¥å£ï¼Œæœ€ç»ˆè¾“å‡ºå°±æœ‰ä¸€ä¸ªbundle    index: &#39;./src/js/index.js&#39;,    test: &#39;./src/js/test.js&#39;  &#125;,  output: &#123;    // [name]ï¼šå–æ–‡ä»¶å    filename: &#39;js/[name].[contenthash:10].js&#39;,    path: resolve(__dirname, &#39;build&#39;)  &#125;</code></pre><blockquote><p>ç¬¬äºŒç§é…ç½®</p></blockquote><pre><code>/*    1. å¯ä»¥å°†node_modulesä¸­ä»£ç å•ç‹¬æ‰“åŒ…ä¸€ä¸ªchunkæœ€ç»ˆè¾“å‡º    2. è‡ªåŠ¨åˆ†æå¤šå…¥å£chunkä¸­ï¼Œæœ‰æ²¡æœ‰å…¬å…±çš„æ–‡ä»¶ã€‚å¦‚æœæœ‰ä¼šæ‰“åŒ…æˆå•ç‹¬ä¸€ä¸ªchunk  */  optimization: &#123;    splitChunks: &#123;      chunks: &#39;all&#39;    &#125;  &#125;,</code></pre><h3 id="æ‡’åŠ è½½å’Œé¢„åŠ è½½"><a href="#æ‡’åŠ è½½å’Œé¢„åŠ è½½" class="headerlink" title="æ‡’åŠ è½½å’Œé¢„åŠ è½½"></a>æ‡’åŠ è½½å’Œé¢„åŠ è½½</h3><pre><code>document.getElementById(&#39;btn&#39;).onclick = function() &#123;  // æ‡’åŠ è½½~ï¼šå½“æ–‡ä»¶éœ€è¦ä½¿ç”¨æ—¶æ‰åŠ è½½~  // é¢„åŠ è½½ prefetchï¼šä¼šåœ¨ä½¿ç”¨ä¹‹å‰ï¼Œæå‰åŠ è½½jsæ–‡ä»¶   // æ­£å¸¸åŠ è½½å¯ä»¥è®¤ä¸ºæ˜¯å¹¶è¡ŒåŠ è½½ï¼ˆåŒä¸€æ—¶é—´åŠ è½½å¤šä¸ªæ–‡ä»¶ï¼‰    // é¢„åŠ è½½ prefetchï¼šç­‰å…¶ä»–èµ„æºåŠ è½½å®Œæ¯•ï¼Œæµè§ˆå™¨ç©ºé—²äº†ï¼Œå†å·å·åŠ è½½èµ„æº  import(/* webpackChunkName: &#39;test&#39;, webpackPrefetch: true */&#39;./test&#39;).then((&#123; mul &#125;) =&gt; &#123;    console.log(mul(4, 5));  &#125;);&#125;;</code></pre>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> webpack </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
